(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var nm={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function Vb(){if(nv)return Cl;nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var iv;function Pb(){return iv||(iv=1,nm.exports=Vb()),nm.exports}var re=Pb(),im={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function kb(){if(rv)return Ie;rv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function x(V,ne,de){this.props=V,this.context=ne,this.refs=H,this.updater=de||N}x.prototype.isReactComponent={},x.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},x.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=x.prototype;function J(V,ne,de){this.props=V,this.context=ne,this.refs=H,this.updater=de||N}var X=J.prototype=new K;X.constructor=J,O(X,x.prototype),X.isPureReactComponent=!0;var he=Array.isArray,ae={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function M(V,ne,de,oe,le,De){return de=De.ref,{$$typeof:i,type:V,key:ne,ref:de!==void 0?de:null,props:De}}function w(V,ne){return M(V.type,ne,void 0,void 0,void 0,V.props)}function b(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function I(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return ne[de]})}var k=/\/+/g;function B(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):ne.toString(36)}function D(){}function Tt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function pt(V,ne,de,oe,le){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Ce=!1;if(V===null)Ce=!0;else switch(De){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(V.$$typeof){case i:case e:Ce=!0;break;case E:return Ce=V._init,pt(Ce(V._payload),ne,de,oe,le)}}if(Ce)return le=le(V),Ce=oe===""?"."+B(V,0):oe,he(le)?(de="",Ce!=null&&(de=Ce.replace(k,"$&/")+"/"),pt(le,ne,de,"",function(ot){return ot})):le!=null&&(b(le)&&(le=w(le,de+(le.key==null||V&&V.key===le.key?"":(""+le.key).replace(k,"$&/")+"/")+Ce)),ne.push(le)),1;Ce=0;var gt=oe===""?".":oe+":";if(he(V))for(var je=0;je<V.length;je++)oe=V[je],De=gt+B(oe,je),Ce+=pt(oe,ne,de,De,le);else if(je=C(V),typeof je=="function")for(V=je.call(V),je=0;!(oe=V.next()).done;)oe=oe.value,De=gt+B(oe,je++),Ce+=pt(oe,ne,de,De,le);else if(De==="object"){if(typeof V.then=="function")return pt(Tt(V),ne,de,oe,le);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function se(V,ne,de){if(V==null)return V;var oe=[],le=0;return pt(V,oe,"","",function(De){return ne.call(de,De,le++)}),oe}function Ee(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ge(){}return Ie.Children={map:se,forEach:function(V,ne,de){se(V,function(){ne.apply(this,arguments)},de)},count:function(V){var ne=0;return se(V,function(){ne++}),ne},toArray:function(V){return se(V,function(ne){return ne})||[]},only:function(V){if(!b(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=x,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=J,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cloneElement=function(V,ne,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=O({},V.props),le=V.key,De=void 0;if(ne!=null)for(Ce in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(le=""+ne.key),ne)!ye.call(ne,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ne.ref===void 0||(oe[Ce]=ne[Ce]);var Ce=arguments.length-2;if(Ce===1)oe.children=de;else if(1<Ce){for(var gt=Array(Ce),je=0;je<Ce;je++)gt[je]=arguments[je+2];oe.children=gt}return M(V.type,le,void 0,void 0,De,oe)},Ie.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ie.createElement=function(V,ne,de){var oe,le={},De=null;if(ne!=null)for(oe in ne.key!==void 0&&(De=""+ne.key),ne)ye.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ne[oe]);var Ce=arguments.length-2;if(Ce===1)le.children=de;else if(1<Ce){for(var gt=Array(Ce),je=0;je<Ce;je++)gt[je]=arguments[je+2];le.children=gt}if(V&&V.defaultProps)for(oe in Ce=V.defaultProps,Ce)le[oe]===void 0&&(le[oe]=Ce[oe]);return M(V,De,void 0,void 0,null,le)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:m,render:V}},Ie.isValidElement=b,Ie.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:Ee}},Ie.memo=function(V,ne){return{$$typeof:g,type:V,compare:ne===void 0?null:ne}},Ie.startTransition=function(V){var ne=ae.T,de={};ae.T=de;try{var oe=V(),le=ae.S;le!==null&&le(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ge,pe)}catch(De){pe(De)}finally{ae.T=ne}},Ie.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ie.use=function(V){return ae.H.use(V)},Ie.useActionState=function(V,ne,de){return ae.H.useActionState(V,ne,de)},Ie.useCallback=function(V,ne){return ae.H.useCallback(V,ne)},Ie.useContext=function(V){return ae.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,ne){return ae.H.useDeferredValue(V,ne)},Ie.useEffect=function(V,ne){return ae.H.useEffect(V,ne)},Ie.useId=function(){return ae.H.useId()},Ie.useImperativeHandle=function(V,ne,de){return ae.H.useImperativeHandle(V,ne,de)},Ie.useInsertionEffect=function(V,ne){return ae.H.useInsertionEffect(V,ne)},Ie.useLayoutEffect=function(V,ne){return ae.H.useLayoutEffect(V,ne)},Ie.useMemo=function(V,ne){return ae.H.useMemo(V,ne)},Ie.useOptimistic=function(V,ne){return ae.H.useOptimistic(V,ne)},Ie.useReducer=function(V,ne,de){return ae.H.useReducer(V,ne,de)},Ie.useRef=function(V){return ae.H.useRef(V)},Ie.useState=function(V){return ae.H.useState(V)},Ie.useSyncExternalStore=function(V,ne,de){return ae.H.useSyncExternalStore(V,ne,de)},Ie.useTransition=function(){return ae.H.useTransition()},Ie.version="19.0.0",Ie}var sv;function np(){return sv||(sv=1,im.exports=kb()),im.exports}var G=np(),rm={exports:{}},Il={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function Lb(){return av||(av=1,function(i){function e(se,Ee){var pe=se.length;se.push(Ee);e:for(;0<pe;){var Ge=pe-1>>>1,V=se[Ge];if(0<o(V,Ee))se[Ge]=Ee,se[pe]=V,pe=Ge;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var Ee=se[0],pe=se.pop();if(pe!==Ee){se[0]=pe;e:for(var Ge=0,V=se.length,ne=V>>>1;Ge<ne;){var de=2*(Ge+1)-1,oe=se[de],le=de+1,De=se[le];if(0>o(oe,pe))le<V&&0>o(De,oe)?(se[Ge]=De,se[le]=pe,Ge=le):(se[Ge]=oe,se[de]=pe,Ge=de);else if(le<V&&0>o(De,pe))se[Ge]=De,se[le]=pe,Ge=le;else break e}}return Ee}function o(se,Ee){var pe=se.sortIndex-Ee.sortIndex;return pe!==0?pe:se.id-Ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,A=null,C=3,N=!1,O=!1,H=!1,x=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function X(se){for(var Ee=n(g);Ee!==null;){if(Ee.callback===null)s(g);else if(Ee.startTime<=se)s(g),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=n(g)}}function he(se){if(H=!1,X(se),!O)if(n(p)!==null)O=!0,Tt();else{var Ee=n(g);Ee!==null&&pt(he,Ee.startTime-se)}}var ae=!1,ye=-1,M=5,w=-1;function b(){return!(i.unstable_now()-w<M)}function I(){if(ae){var se=i.unstable_now();w=se;var Ee=!0;try{e:{O=!1,H&&(H=!1,K(ye),ye=-1),N=!0;var pe=C;try{t:{for(X(se),A=n(p);A!==null&&!(A.expirationTime>se&&b());){var Ge=A.callback;if(typeof Ge=="function"){A.callback=null,C=A.priorityLevel;var V=Ge(A.expirationTime<=se);if(se=i.unstable_now(),typeof V=="function"){A.callback=V,X(se),Ee=!0;break t}A===n(p)&&s(p),X(se)}else s(p);A=n(p)}if(A!==null)Ee=!0;else{var ne=n(g);ne!==null&&pt(he,ne.startTime-se),Ee=!1}}break e}finally{A=null,C=pe,N=!1}Ee=void 0}}finally{Ee?k():ae=!1}}}var k;if(typeof J=="function")k=function(){J(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=I,k=function(){D.postMessage(null)}}else k=function(){x(I,0)};function Tt(){ae||(ae=!0,k())}function pt(se,Ee){ye=x(function(){se(i.unstable_now())},Ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){O||N||(O=!0,Tt())},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(se){switch(C){case 1:case 2:case 3:var Ee=3;break;default:Ee=C}var pe=C;C=Ee;try{return se()}finally{C=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,Ee){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=C;C=se;try{return Ee()}finally{C=pe}},i.unstable_scheduleCallback=function(se,Ee,pe){var Ge=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ge+pe:Ge):pe=Ge,se){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,se={id:E++,callback:Ee,priorityLevel:se,startTime:pe,expirationTime:V,sortIndex:-1},pe>Ge?(se.sortIndex=pe,e(g,se),n(p)===null&&se===n(g)&&(H?(K(ye),ye=-1):H=!0,pt(he,pe-Ge))):(se.sortIndex=V,e(p,se),O||N||(O=!0,Tt())),se},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(se){var Ee=C;return function(){var pe=C;C=Ee;try{return se.apply(this,arguments)}finally{C=pe}}}}(am)),am}var ov;function Ub(){return ov||(ov=1,sm.exports=Lb()),sm.exports}var om={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function zb(){if(lv)return Qt;lv=1;var i=np();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:C,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var uv;function Bb(){if(uv)return om.exports;uv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),om.exports=zb(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function jb(){if(cv)return Il;cv=1;var i=Ub(),e=np(),n=Bb();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),he=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ye(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case H:return"Suspense";case x:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return r=t.displayName||null,r!==null?r:w(t.type)||"Memo";case J:r=t._payload,t=t._init;try{return w(t(r))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,k,B;function D(t){if(k===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+B}var Tt=!1;function pt(t,r){if(!t||Tt)return"";Tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var q=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){q=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){q=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),L=T.split(`
`);for(f=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(l===R.length||f===L.length)for(l=R.length-1,f=L.length-1;1<=l&&0<=f&&R[l]!==L[f];)f--;for(;1<=l&&0<=f;l--,f--)if(R[l]!==L[f]){if(l!==1||f!==1)do if(l--,f--,0>f||R[l]!==L[f]){var Y=`
`+R[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Tt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function se(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=pt(t.type,!1),t;case 11:return t=pt(t.type.render,!1),t;case 1:return t=pt(t.type,!0),t;default:return""}}function Ee(t){try{var r="";do r+=se(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function Ge(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function V(t){if(pe(t)!==t)throw Error(s(188))}function ne(t){var r=t.alternate;if(!r){if(r=pe(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return V(f),t;if(d===l)return V(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function de(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=de(t),r!==null)return r;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},Ce=[],gt=-1;function je(t){return{current:t}}function ot(t){0>gt||(t.current=Ce[gt],Ce[gt]=null,gt--)}function Qe(t,r){gt++,Ce[gt]=t.current,t.current=r}var en=je(null),Ai=je(null),Tn=je(null),or=je(null);function lr(t,r){switch(Qe(Tn,r),Qe(Ai,t),Qe(en,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?N_(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=N_(t),r=x_(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ot(en),Qe(en,r)}function bi(){ot(en),ot(Ai),ot(Tn)}function So(t){t.memoizedState!==null&&Qe(or,t);var r=en.current,a=x_(r,t.type);r!==a&&(Qe(Ai,t),Qe(en,a))}function ia(t){Ai.current===t&&(ot(en),ot(Ai)),or.current===t&&(ot(or),Sl._currentValue=De)}var ra=Object.prototype.hasOwnProperty,ls=i.unstable_scheduleCallback,sa=i.unstable_cancelCallback,rf=i.unstable_shouldYield,Ao=i.unstable_requestPaint,on=i.unstable_now,hu=i.unstable_getCurrentPriorityLevel,St=i.unstable_ImmediatePriority,Nt=i.unstable_UserBlockingPriority,wi=i.unstable_NormalPriority,fu=i.unstable_LowPriority,bo=i.unstable_IdlePriority,sf=i.log,us=i.unstable_setDisableYieldValue,ur=null,Kt=null;function wo(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ur,t,void 0,(t.current.flags&128)===128)}catch{}}function Wn(t){if(typeof sf=="function"&&us(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ur,t)}catch{}}var tn=Math.clz32?Math.clz32:mu,Ro=Math.log,du=Math.LN2;function mu(t){return t>>>=0,t===0?32:31-(Ro(t)/du|0)|0}var Zn=128,cr=4194304;function Bn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,r){var a=t.pendingLanes;if(a===0)return 0;var l=0,f=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?l=Bn(a):(d&=T,d!==0?l=Bn(d):t||(v=T&~v,v!==0&&(l=Bn(v))))):(T=a&~f,T!==0?l=Bn(T):d!==0?l=Bn(d):t||(v=a&~v,v!==0&&(l=Bn(v)))),l===0?0:r!==0&&r!==l&&!(r&f)&&(f=l&-l,v=r&-r,f>=v||f===32&&(v&4194176)!==0)?r:l}function hr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function aa(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var t=Zn;return Zn<<=1,!(Zn&4194176)&&(Zn=128),t}function fr(){var t=cr;return cr<<=1,!(cr&62914560)&&(cr=4194304),t}function oa(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ft(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pu(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,L=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-tn(a),ee=1<<Y;T[Y]=0,R[Y]=-1;var q=L[Y];if(q!==null)for(L[Y]=null,Y=0;Y<q.length;Y++){var Q=q[Y];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&dr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function dr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-tn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function mr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-tn(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function gu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function yu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:X_(t.type))}function pr(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var Jn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Jn,At="__reactProps$"+Jn,Ri="__reactContainer$"+Jn,cs="__reactEvents$"+Jn,la="__reactListeners$"+Jn,ei="__reactHandles$"+Jn,Io="__reactResources$"+Jn,gr="__reactMarker$"+Jn;function hs(t){delete t[xt],delete t[At],delete t[cs],delete t[la],delete t[ei]}function jn(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ri]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=P_(t);t!==null;){if(a=t[xt])return a;t=P_(t)}return r}t=a,a=t.parentNode}return null}function Ci(t){if(t=t[xt]||t[Ri]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function yr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function _r(t){var r=t[Io];return r||(r=t[Io]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function nt(t){t[gr]=!0}var Do=new Set,ua={};function fn(t,r){ln(t,r),ln(t+"Capture",r)}function ln(t,r){for(ua[t]=r,t=0;t<r.length;t++)Do.add(r[t])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),af=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},No={};function _u(t){return ra.call(No,t)?!0:ra.call(Oo,t)?!1:af.test(t)?No[t]=!0:(Oo[t]=!0,!1)}function vr(t,r,a){if(_u(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Er(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function An(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function of(t){var r=vu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function fs(t){t._valueTracker||(t._valueTracker=of(t))}function xo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=vu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ii=/[\n"\\]/g;function lt(t){return t.replace(Ii,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tr(t,r,a,l,f,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?ha(t,v,nn(r)):a!=null?ha(t,v,nn(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function ds(t,r,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ha(t,r,a){r==="number"&&ca(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ms(t,r,a){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+nn(a):""}function Sr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var lf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||lf.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Eu(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Mo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Mo(t,d,r[d])}function Vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(t){return cf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wn=null;function fa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,Oi=null;function Ni(t){var r=Ci(t);if(r&&(t=r.stateNode)){var a=t[At]||null;e:switch(t=r.stateNode,r.type){case"input":if(Tr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[At]||null;if(!f)throw Error(s(90));Tr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&xo(l)}break e;case"textarea":ms(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&He(t,!!a.multiple,r,!1)}}}var Po=!1;function Tu(t,r,a){if(Po)return t(r,a);Po=!0;try{var l=t(r);return l}finally{if(Po=!1,(Di!==null||Oi!==null)&&(fc(),Di&&(r=Di,t=Oi,Oi=Di=null,Ni(r),t)))for(r=0;r<t.length;r++)Ni(t[r])}}function ps(t,r){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Rn=!1;if(dn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Rn=!1}var ni=null,Ar=null,xi=null;function ko(){if(xi)return xi;var t,r=Ar,a=r.length,l,f="value"in ni?ni.value:ni.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return xi=f.slice(t,1<l?1-l:void 0)}function ii(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Lo(){return!1}function Mt(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Lo,this.isPropagationStopped=Lo,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Mt(Ke),ys=I({},Ke,{view:0,detail:0}),Su=Mt(ys),ma,pa,si,_s=I({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(ma=t.screenX-si.screenX,pa=t.screenY-si.screenY):pa=ma=0,si=t),ma)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Cn=Mt(_s),Au=I({},_s,{dataTransfer:0}),hf=Mt(Au),vs=I({},ys,{relatedTarget:0}),ga=Mt(vs),Uo=I({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=Mt(Uo),bu=I({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_a=Mt(bu),ff=I({},Ke,{data:0}),zo=Mt(ff),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ru[t])?!!r[t]:!1}function Ts(){return Bo}var Cu=I({},ys,{key:function(t){if(t.key){var r=Es[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),va=Mt(Cu),Iu=I({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=Mt(Iu),Mi=I({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Du=Mt(Mi),Ou=I({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Mt(Ou),xu=I({},_s,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ea=Mt(xu),rn=I({},Ke,{newState:0,oldState:0}),Mu=Mt(rn),Vu=[9,13,27,32],ai=dn&&"CompositionEvent"in window,c=null;dn&&"documentMode"in document&&(c=document.documentMode);var y=dn&&"TextEvent"in window&&!c,_=dn&&(!ai||c&&8<c&&11>=c),S=" ",z=!1;function F(t,r){switch(t){case"keyup":return Vu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function bt(t,r){switch(t){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(z=!0,S);case"textInput":return t=r.data,t===S&&z?null:t;default:return null}}function Ue(t,r){if(Le)return t==="compositionend"||!ai&&F(t,r)?(t=ko(),xi=Ar=ni=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Vt[t.type]:r==="textarea"}function Vi(t,r,a,l){Di?Oi?Oi.push(l):Oi=[l]:Di=l,r=yc(r,"onChange"),0<r.length&&(a=new da("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zt=null,oi=null;function Ho(t){R_(t,0)}function Pu(t){var r=yr(t);if(xo(r))return t}function tg(t,r){if(t==="change")return r}var ng=!1;if(dn){var df;if(dn){var mf="oninput"in document;if(!mf){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),mf=typeof ig.oninput=="function"}df=mf}else df=!1;ng=df&&(!document.documentMode||9<document.documentMode)}function rg(){zt&&(zt.detachEvent("onpropertychange",sg),oi=zt=null)}function sg(t){if(t.propertyName==="value"&&Pu(oi)){var r=[];Vi(r,oi,t,fa(t)),Tu(Ho,r)}}function cA(t,r,a){t==="focusin"?(rg(),zt=r,oi=a,zt.attachEvent("onpropertychange",sg)):t==="focusout"&&rg()}function hA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(oi)}function fA(t,r){if(t==="click")return Pu(r)}function dA(t,r){if(t==="input"||t==="change")return Pu(r)}function mA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mn=typeof Object.is=="function"?Object.is:mA;function qo(t,r){if(mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ra.call(r,f)||!mn(t[f],r[f]))return!1}return!0}function ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,r){var a=ag(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ag(a)}}function lg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?lg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ca(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ca(t.document)}return r}function pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function pA(t,r){var a=ug(r);r=t.focusedElem;var l=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&lg(r.ownerDocument.documentElement,r)){if(l!==null&&pf(r)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,d=Math.min(l.start,f);l=l.end===void 0?d:Math.min(l.end,f),!a.extend&&d>l&&(f=l,l=d,d=f),f=og(r,d);var v=og(r,l);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var gA=dn&&"documentMode"in document&&11>=document.documentMode,Ta=null,gf=null,Fo=null,yf=!1;function cg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||Ta==null||Ta!==ca(l)||(l=Ta,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fo&&qo(Fo,l)||(Fo=l,l=yc(gf,"onSelect"),0<l.length&&(r=new da("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ta)))}function Ss(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Sa={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},_f={},hg={};dn&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function As(t){if(_f[t])return _f[t];if(!Sa[t])return t;var r=Sa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in hg)return _f[t]=r[a];return t}var fg=As("animationend"),dg=As("animationiteration"),mg=As("animationstart"),yA=As("transitionrun"),_A=As("transitionstart"),vA=As("transitioncancel"),pg=As("transitionend"),gg=new Map,yg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Hn(t,r){gg.set(t,r),fn(r,[t])}var In=[],Aa=0,vf=0;function ku(){for(var t=Aa,r=vf=Aa=0;r<t;){var a=In[r];In[r++]=null;var l=In[r];In[r++]=null;var f=In[r];In[r++]=null;var d=In[r];if(In[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&_g(a,f,d)}}function Lu(t,r,a,l){In[Aa++]=t,In[Aa++]=r,In[Aa++]=a,In[Aa++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ef(t,r,a,l){return Lu(t,r,a,l),Uu(t)}function br(t,r){return Lu(t,null,null,r),Uu(t)}function _g(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;f&&r!==null&&t.tag===3&&(d=t.stateNode,f=31-tn(a),d=d.hiddenUpdates,t=d[f],t===null?d[f]=[r]:t.push(r),r.lane=a|536870912)}function Uu(t){if(50<pl)throw pl=0,Rd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ba={},vg=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var a=vg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ee(r)},vg.set(t,r),r)}return{value:t,source:r,stack:Ee(r)}}var wa=[],Ra=0,zu=null,Bu=0,On=[],Nn=0,bs=null,Pi=1,ki="";function ws(t,r){wa[Ra++]=Bu,wa[Ra++]=zu,zu=t,Bu=r}function Eg(t,r,a){On[Nn++]=Pi,On[Nn++]=ki,On[Nn++]=bs,bs=t;var l=Pi;t=ki;var f=32-tn(l)-1;l&=~(1<<f),a+=1;var d=32-tn(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Pi=1<<32-tn(r)+f|a<<f|l,ki=d+t}else Pi=1<<d|a<<f|l,ki=t}function Tf(t){t.return!==null&&(ws(t,1),Eg(t,1,0))}function Sf(t){for(;t===zu;)zu=wa[--Ra],wa[Ra]=null,Bu=wa[--Ra],wa[Ra]=null;for(;t===bs;)bs=On[--Nn],On[Nn]=null,ki=On[--Nn],On[Nn]=null,Pi=On[--Nn],On[Nn]=null}var sn=null,Bt=null,qe=!1,qn=null,li=!1,Af=Error(s(519));function Rs(t){var r=Error(s(418,""));throw $o(Dn(r,t)),Af}function Tg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[At]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<yl.length;a++)Pe(yl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),ds(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fs(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Sr(r,l.value,l.defaultValue,l.children),fs(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||O_(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=_c),r=!0):r=!1,r||Rs(t)}function Sg(t){for(sn=t.return;sn;)switch(sn.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:sn=sn.return}}function Go(t){if(t!==sn)return!1;if(!qe)return Sg(t),qe=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&Bt&&Rs(t),Sg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Bt=Gn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Bt=null}}else Bt=sn?Gn(t.stateNode.nextSibling):null;return!0}function Ko(){Bt=sn=null,qe=!1}function $o(t){qn===null?qn=[t]:qn.push(t)}var Qo=Error(s(460)),Ag=Error(s(474)),bf={then:function(){}};function bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ju(){}function wg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ju,ju),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===Qo?Error(s(483)):t;default:if(typeof r.status=="string")r.then(ju,ju);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===Qo?Error(s(483)):t}throw Yo=r,Qo}}var Yo=null;function Rg(){if(Yo===null)throw Error(s(459));var t=Yo;return Yo=null,t}var Ca=null,Xo=0;function Hu(t){var r=Xo;return Xo+=1,Ca===null&&(Ca=[]),wg(Ca,t,r)}function Wo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function qu(t,r){throw r.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Cg(t){var r=t._init;return r(t._payload)}function Ig(t){function r(U,P){if(t){var j=U.deletions;j===null?(U.deletions=[P],U.flags|=16):j.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)r(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function f(U,P){return U=kr(U,P),U.index=0,U.sibling=null,U}function d(U,P,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<P?(U.flags|=33554434,P):j):(U.flags|=33554434,P)):(U.flags|=1048576,P)}function v(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function T(U,P,j,W){return P===null||P.tag!==6?(P=_d(j,U.mode,W),P.return=U,P):(P=f(P,j),P.return=U,P)}function R(U,P,j,W){var ce=j.type;return ce===p?Y(U,P,j.props.children,W,j.key):P!==null&&(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===J&&Cg(ce)===P.type)?(P=f(P,j.props),Wo(P,j),P.return=U,P):(P=oc(j.type,j.key,j.props,null,U.mode,W),Wo(P,j),P.return=U,P)}function L(U,P,j,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=vd(j,U.mode,W),P.return=U,P):(P=f(P,j.children||[]),P.return=U,P)}function Y(U,P,j,W,ce){return P===null||P.tag!==7?(P=ks(j,U.mode,W,ce),P.return=U,P):(P=f(P,j),P.return=U,P)}function ee(U,P,j){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=_d(""+P,U.mode,j),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case h:return j=oc(P.type,P.key,P.props,null,U.mode,j),Wo(j,P),j.return=U,j;case m:return P=vd(P,U.mode,j),P.return=U,P;case J:var W=P._init;return P=W(P._payload),ee(U,P,j)}if(oe(P)||ye(P))return P=ks(P,U.mode,j,null),P.return=U,P;if(typeof P.then=="function")return ee(U,Hu(P),j);if(P.$$typeof===N)return ee(U,rc(U,P),j);qu(U,P)}return null}function q(U,P,j,W){var ce=P!==null?P.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ce!==null?null:T(U,P,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case h:return j.key===ce?R(U,P,j,W):null;case m:return j.key===ce?L(U,P,j,W):null;case J:return ce=j._init,j=ce(j._payload),q(U,P,j,W)}if(oe(j)||ye(j))return ce!==null?null:Y(U,P,j,W,null);if(typeof j.then=="function")return q(U,P,Hu(j),W);if(j.$$typeof===N)return q(U,P,rc(U,j),W);qu(U,j)}return null}function Q(U,P,j,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(j)||null,T(P,U,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return U=U.get(W.key===null?j:W.key)||null,R(P,U,W,ce);case m:return U=U.get(W.key===null?j:W.key)||null,L(P,U,W,ce);case J:var Ne=W._init;return W=Ne(W._payload),Q(U,P,j,W,ce)}if(oe(W)||ye(W))return U=U.get(j)||null,Y(P,U,W,ce,null);if(typeof W.then=="function")return Q(U,P,j,Hu(W),ce);if(W.$$typeof===N)return Q(U,P,j,rc(P,W),ce);qu(P,W)}return null}function fe(U,P,j,W){for(var ce=null,Ne=null,me=P,ve=P=0,Lt=null;me!==null&&ve<j.length;ve++){me.index>ve?(Lt=me,me=null):Lt=me.sibling;var Fe=q(U,me,j[ve],W);if(Fe===null){me===null&&(me=Lt);break}t&&me&&Fe.alternate===null&&r(U,me),P=d(Fe,P,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe,me=Lt}if(ve===j.length)return a(U,me),qe&&ws(U,ve),ce;if(me===null){for(;ve<j.length;ve++)me=ee(U,j[ve],W),me!==null&&(P=d(me,P,ve),Ne===null?ce=me:Ne.sibling=me,Ne=me);return qe&&ws(U,ve),ce}for(me=l(me);ve<j.length;ve++)Lt=Q(me,U,ve,j[ve],W),Lt!==null&&(t&&Lt.alternate!==null&&me.delete(Lt.key===null?ve:Lt.key),P=d(Lt,P,ve),Ne===null?ce=Lt:Ne.sibling=Lt,Ne=Lt);return t&&me.forEach(function(qr){return r(U,qr)}),qe&&ws(U,ve),ce}function be(U,P,j,W){if(j==null)throw Error(s(151));for(var ce=null,Ne=null,me=P,ve=P=0,Lt=null,Fe=j.next();me!==null&&!Fe.done;ve++,Fe=j.next()){me.index>ve?(Lt=me,me=null):Lt=me.sibling;var qr=q(U,me,Fe.value,W);if(qr===null){me===null&&(me=Lt);break}t&&me&&qr.alternate===null&&r(U,me),P=d(qr,P,ve),Ne===null?ce=qr:Ne.sibling=qr,Ne=qr,me=Lt}if(Fe.done)return a(U,me),qe&&ws(U,ve),ce;if(me===null){for(;!Fe.done;ve++,Fe=j.next())Fe=ee(U,Fe.value,W),Fe!==null&&(P=d(Fe,P,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe);return qe&&ws(U,ve),ce}for(me=l(me);!Fe.done;ve++,Fe=j.next())Fe=Q(me,U,ve,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?ve:Fe.key),P=d(Fe,P,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe);return t&&me.forEach(function(Mb){return r(U,Mb)}),qe&&ws(U,ve),ce}function ht(U,P,j,W){if(typeof j=="object"&&j!==null&&j.type===p&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case h:e:{for(var ce=j.key;P!==null;){if(P.key===ce){if(ce=j.type,ce===p){if(P.tag===7){a(U,P.sibling),W=f(P,j.props.children),W.return=U,U=W;break e}}else if(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===J&&Cg(ce)===P.type){a(U,P.sibling),W=f(P,j.props),Wo(W,j),W.return=U,U=W;break e}a(U,P);break}else r(U,P);P=P.sibling}j.type===p?(W=ks(j.props.children,U.mode,W,j.key),W.return=U,U=W):(W=oc(j.type,j.key,j.props,null,U.mode,W),Wo(W,j),W.return=U,U=W)}return v(U);case m:e:{for(ce=j.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){a(U,P.sibling),W=f(P,j.children||[]),W.return=U,U=W;break e}else{a(U,P);break}else r(U,P);P=P.sibling}W=vd(j,U.mode,W),W.return=U,U=W}return v(U);case J:return ce=j._init,j=ce(j._payload),ht(U,P,j,W)}if(oe(j))return fe(U,P,j,W);if(ye(j)){if(ce=ye(j),typeof ce!="function")throw Error(s(150));return j=ce.call(j),be(U,P,j,W)}if(typeof j.then=="function")return ht(U,P,Hu(j),W);if(j.$$typeof===N)return ht(U,P,rc(U,j),W);qu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,P!==null&&P.tag===6?(a(U,P.sibling),W=f(P,j),W.return=U,U=W):(a(U,P),W=_d(j,U.mode,W),W.return=U,U=W),v(U)):a(U,P)}return function(U,P,j,W){try{Xo=0;var ce=ht(U,P,j,W);return Ca=null,ce}catch(me){if(me===Qo)throw me;var Ne=Pn(29,me,null,U.mode);return Ne.lanes=W,Ne.return=U,Ne}finally{}}}var Cs=Ig(!0),Dg=Ig(!1),Ia=je(null),Fu=je(0);function Og(t,r){t=$i,Qe(Fu,t),Qe(Ia,r),$i=t|r.baseLanes}function wf(){Qe(Fu,$i),Qe(Ia,Ia.current)}function Rf(){$i=Fu.current,ot(Ia),ot(Fu)}var xn=je(null),ui=null;function wr(t){var r=t.alternate;Qe(Rt,Rt.current&1),Qe(xn,t),ui===null&&(r===null||Ia.current!==null||r.memoizedState!==null)&&(ui=t)}function Ng(t){if(t.tag===22){if(Qe(Rt,Rt.current),Qe(xn,t),ui===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ui=t)}}else Rr()}function Rr(){Qe(Rt,Rt.current),Qe(xn,xn.current)}function Li(t){ot(xn),ui===t&&(ui=null),ot(Rt)}var Rt=je(0);function Gu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var EA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},TA=i.unstable_scheduleCallback,SA=i.unstable_NormalPriority,Ct={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new EA,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&TA(SA,function(){t.controller.abort()})}var Jo=null,If=0,Da=0,Oa=null;function AA(t,r){if(Jo===null){var a=Jo=[];If=0,Da=Vd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return If++,r.then(xg,xg),r}function xg(){if(--If===0&&Jo!==null){Oa!==null&&(Oa.status="fulfilled");var t=Jo;Jo=null,Da=0,Oa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function bA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Mg=b.S;b.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&AA(t,r),Mg!==null&&Mg(t,r)};var Is=je(null);function Df(){var t=Is.current;return t!==null?t:Ze.pooledCache}function Ku(t,r){r===null?Qe(Is,Is.current):Qe(Is,r.pool)}function Vg(){var t=Df();return t===null?null:{parent:Ct._currentValue,pool:t}}var Cr=0,Oe=null,Ye=null,yt=null,$u=!1,Na=!1,Ds=!1,Qu=0,el=0,xa=null,wA=0;function dt(){throw Error(s(321))}function Of(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!mn(t[a],r[a]))return!1;return!0}function Nf(t,r,a,l,f,d){return Cr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,b.H=t===null||t.memoizedState===null?Os:Ir,Ds=!1,d=a(l,f),Ds=!1,Na&&(d=kg(r,a,l,f)),Pg(t),d}function Pg(t){b.H=ci;var r=Ye!==null&&Ye.next!==null;if(Cr=0,yt=Ye=Oe=null,$u=!1,el=0,xa=null,r)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&ic(t)&&(Pt=!0))}function kg(t,r,a,l){Oe=t;var f=0;do{if(Na&&(xa=null),el=0,Na=!1,25<=f)throw Error(s(301));if(f+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Ns,d=r(a,l)}while(Na);return d}function RA(){var t=b.H,r=t.useState()[0];return r=typeof r.then=="function"?tl(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Oe.flags|=1024),r}function xf(){var t=Qu!==0;return Qu=0,t}function Mf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Vf(t){if($u){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}$u=!1}Cr=0,yt=Ye=Oe=null,Na=!1,el=Qu=0,xa=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Oe.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Ye===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=yt===null?Oe.memoizedState:yt.next;if(r!==null)yt=r,Ye=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Oe.memoizedState=yt=t:yt=yt.next=t}return yt}var Yu;Yu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function tl(t){var r=el;return el+=1,xa===null&&(xa=[]),t=wg(xa,t,r),r=Oe,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,b.H=r===null||r.memoizedState===null?Os:Ir),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===N)return $t(t)}throw Error(s(438,String(t)))}function Pf(t){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yu(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=he;return r.index++,a}function Ui(t,r){return typeof r=="function"?r(t):r}function Wu(t){var r=_t();return kf(r,Ye,t)}function kf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var T=v=null,R=null,L=r,Y=!1;do{var ee=L.lane&-536870913;if(ee!==L.lane?(ze&ee)===ee:(Cr&ee)===ee){var q=L.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ee===Da&&(Y=!0);else if((Cr&q)===q){L=L.next,q===Da&&(Y=!0);continue}else ee={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(T=R=ee,v=d):R=R.next=ee,Oe.lanes|=q,Lr|=q;ee=L.action,Ds&&a(d,ee),d=L.hasEagerState?L.eagerState:a(d,ee)}else q={lane:ee,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(T=R=q,v=d):R=R.next=q,Oe.lanes|=ee,Lr|=ee;L=L.next}while(L!==null&&L!==r);if(R===null?v=d:R.next=T,!mn(d,t.memoizedState)&&(Pt=!0,Y&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lf(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);mn(d,r.memoizedState)||(Pt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Lg(t,r,a){var l=Oe,f=_t(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!mn((Ye||f).memoizedState,a);if(v&&(f.memoizedState=a,Pt=!0),f=f.queue,Bf(Bg.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Ma(9,zg.bind(null,l,f,a,r),{destroy:void 0},null),Ze===null)throw Error(s(349));d||Cr&60||Ug(l,r,a)}return a}function Ug(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Yu(),Oe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function zg(t,r,a,l){r.value=a,r.getSnapshot=l,jg(r)&&Hg(t)}function Bg(t,r,a){return a(function(){jg(r)&&Hg(t)})}function jg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!mn(t,a)}catch{return!0}}function Hg(t){var r=br(t,2);r!==null&&an(r,t,2)}function Uf(t){var r=un();if(typeof t=="function"){var a=t;if(t=a(),Ds){Wn(!0);try{a()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},r}function qg(t,r,a,l){return t.baseState=a,kf(t,Ye,typeof l=="function"?l:Ui)}function CA(t,r,a,l,f){if(ec(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Fg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Fg(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=b.T,v={};b.T=v;try{var T=a(f,l),R=b.S;R!==null&&R(v,T),Gg(t,r,T)}catch(L){zf(t,r,L)}finally{b.T=d}}else try{d=a(f,l),Gg(t,r,d)}catch(L){zf(t,r,L)}}function Gg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kg(t,r,l)},function(l){return zf(t,r,l)}):Kg(t,r,a)}function Kg(t,r,a){r.status="fulfilled",r.value=a,$g(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Fg(t,a)))}function zf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,$g(r),r=r.next;while(r!==l)}t.action=null}function $g(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Qg(t,r){return r}function Yg(t,r){if(qe){var a=Ze.formState;if(a!==null){e:{var l=Oe;if(qe){if(Bt){t:{for(var f=Bt,d=li;f.nodeType!==8;){if(!d){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Bt=Gn(f.nextSibling),l=f.data==="F!";break e}}Rs(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:r},a.queue=l,a=dy.bind(null,Oe,l),l.dispatch=a,l=Uf(!1),d=Gf.bind(null,Oe,!1,l.queue),l=un(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=CA.bind(null,Oe,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Xg(t){var r=_t();return Wg(r,Ye,t)}function Wg(t,r,a){r=kf(t,r,Qg)[0],t=Wu(Ui)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?tl(r):r;var l=_t(),f=l.queue,d=f.dispatch;return a!==l.memoizedState&&(Oe.flags|=2048,Ma(9,IA.bind(null,f,a),{destroy:void 0},null)),[r,d,t]}function IA(t,r){t.action=r}function Zg(t){var r=_t(),a=Ye;if(a!==null)return Wg(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ma(t,r,a,l){return t={tag:t,create:r,inst:a,deps:l,next:null},r=Oe.updateQueue,r===null&&(r=Yu(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Jg(){return _t().memoizedState}function Zu(t,r,a,l){var f=un();Oe.flags|=t,f.memoizedState=Ma(1|r,a,{destroy:void 0},l===void 0?null:l)}function Ju(t,r,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;Ye!==null&&l!==null&&Of(l,Ye.memoizedState.deps)?f.memoizedState=Ma(r,a,d,l):(Oe.flags|=t,f.memoizedState=Ma(1|r,a,d,l))}function ey(t,r){Zu(8390656,8,t,r)}function Bf(t,r){Ju(2048,8,t,r)}function ty(t,r){return Ju(4,2,t,r)}function ny(t,r){return Ju(4,4,t,r)}function iy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ry(t,r,a){a=a!=null?a.concat([t]):null,Ju(4,4,iy.bind(null,r,t),a)}function jf(){}function sy(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Of(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function ay(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Of(r,l[1]))return l[0];if(l=t(),Ds){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[l,r],l}function Hf(t,r,a){return a===void 0||Cr&1073741824?t.memoizedState=r:(t.memoizedState=a,t=l_(),Oe.lanes|=t,Lr|=t,a)}function oy(t,r,a,l){return mn(a,r)?a:Ia.current!==null?(t=Hf(t,a,l),mn(t,r)||(Pt=!0),t):Cr&42?(t=l_(),Oe.lanes|=t,Lr|=t,r):(Pt=!0,t.memoizedState=a)}function ly(t,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var v=b.T,T={};b.T=T,Gf(t,!1,r,a);try{var R=f(),L=b.S;if(L!==null&&L(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=bA(R,l);nl(t,r,Y,_n(t))}else nl(t,r,l,_n(t))}catch(ee){nl(t,r,{then:function(){},status:"rejected",reason:ee},_n())}finally{le.p=d,b.T=v}}function DA(){}function qf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=uy(t).queue;ly(t,f,r,De,a===null?DA:function(){return cy(t),a(l)})}function uy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:De},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function cy(t){var r=uy(t).next.queue;nl(t,r,{},_n())}function Ff(){return $t(Sl)}function hy(){return _t().memoizedState}function fy(){return _t().memoizedState}function OA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();t=Nr(a);var l=xr(r,t,a);l!==null&&(an(l,r,a),sl(l,r,a)),r={cache:Cf()},t.payload=r;return}r=r.return}}function NA(t,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ec(t)?my(r,a):(a=Ef(t,r,a,l),a!==null&&(an(a,t,l),py(a,r,l)))}function dy(t,r,a){var l=_n();nl(t,r,a,l)}function nl(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(t))my(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,mn(T,v))return Lu(t,r,f,0),Ze===null&&ku(),!1}catch{}finally{}if(a=Ef(t,r,f,l),a!==null)return an(a,t,l),py(a,r,l),!0}return!1}function Gf(t,r,a,l){if(l={lane:2,revertLane:Vd(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(r)throw Error(s(479))}else r=Ef(t,a,l,2),r!==null&&an(r,t,2)}function ec(t){var r=t.alternate;return t===Oe||r!==null&&r===Oe}function my(t,r){Na=$u=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function py(t,r,a){if(a&4194176){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,mr(t,a)}}var ci={readContext:$t,use:Xu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt};ci.useCacheRefresh=dt,ci.useMemoCache=dt,ci.useHostTransitionStatus=dt,ci.useFormState=dt,ci.useActionState=dt,ci.useOptimistic=dt;var Os={readContext:$t,use:Xu,useCallback:function(t,r){return un().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:ey,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Zu(4194308,4,iy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Zu(4194308,4,t,r)},useInsertionEffect:function(t,r){Zu(4,2,t,r)},useMemo:function(t,r){var a=un();r=r===void 0?null:r;var l=t();if(Ds){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=un();if(a!==void 0){var f=a(r);if(Ds){Wn(!0);try{a(r)}finally{Wn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=NA.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var r=un();return t={current:t},r.memoizedState=t},useState:function(t){t=Uf(t);var r=t.queue,a=dy.bind(null,Oe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,r){var a=un();return Hf(a,t,r)},useTransition:function(){var t=Uf(!1);return t=ly.bind(null,Oe,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Oe,f=un();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));ze&60||Ug(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,ey(Bg.bind(null,l,d,t),[t]),l.flags|=2048,Ma(9,zg.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var t=un(),r=Ze.identifierPrefix;if(qe){var a=ki,l=Pi;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=Qu++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=wA++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return un().memoizedState=OA.bind(null,Oe)}};Os.useMemoCache=Pf,Os.useHostTransitionStatus=Ff,Os.useFormState=Yg,Os.useActionState=Yg,Os.useOptimistic=function(t){var r=un();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Gf.bind(null,Oe,!0,a),a.dispatch=r,[t,r]};var Ir={readContext:$t,use:Xu,useCallback:sy,useContext:$t,useEffect:Bf,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:Wu,useRef:Jg,useState:function(){return Wu(Ui)},useDebugValue:jf,useDeferredValue:function(t,r){var a=_t();return oy(a,Ye.memoizedState,t,r)},useTransition:function(){var t=Wu(Ui)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:tl(t),r]},useSyncExternalStore:Lg,useId:hy};Ir.useCacheRefresh=fy,Ir.useMemoCache=Pf,Ir.useHostTransitionStatus=Ff,Ir.useFormState=Xg,Ir.useActionState=Xg,Ir.useOptimistic=function(t,r){var a=_t();return qg(a,Ye,t,r)};var Ns={readContext:$t,use:Xu,useCallback:sy,useContext:$t,useEffect:Bf,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:Lf,useRef:Jg,useState:function(){return Lf(Ui)},useDebugValue:jf,useDeferredValue:function(t,r){var a=_t();return Ye===null?Hf(a,t,r):oy(a,Ye.memoizedState,t,r)},useTransition:function(){var t=Lf(Ui)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:tl(t),r]},useSyncExternalStore:Lg,useId:hy};Ns.useCacheRefresh=fy,Ns.useMemoCache=Pf,Ns.useHostTransitionStatus=Ff,Ns.useFormState=Zg,Ns.useActionState=Zg,Ns.useOptimistic=function(t,r){var a=_t();return Ye!==null?qg(a,Ye,t,r):(a.baseState=t,[t,a.queue.dispatch])};function Kf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:I({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $f={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var l=_n(),f=Nr(l);f.payload=r,a!=null&&(f.callback=a),r=xr(t,f,l),r!==null&&(an(r,t,l),sl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=_n(),f=Nr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=xr(t,f,l),r!==null&&(an(r,t,l),sl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_n(),l=Nr(a);l.tag=2,r!=null&&(l.callback=r),r=xr(t,l,a),r!==null&&(an(r,t,a),sl(r,t,a))}};function gy(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!qo(a,l)||!qo(f,d):!0}function yy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&$f.enqueueReplaceState(r,r.state,null)}function xs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=I({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _y(t){tc(t)}function vy(t){console.error(t)}function Ey(t){tc(t)}function nc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ty(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Qf(t,r,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(t,r)},a}function Sy(t){return t=Nr(t),t.tag=3,t}function Ay(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Ty(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ty(r,a,l),typeof f!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function xA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&rl(r,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 13:return ui===null?Dd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Nd(t,l,f)),!1;case 22:return a.flags|=65536,l===bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Nd(t,l,f)),!1}throw Error(s(435,a.tag))}return Nd(t,l,f),Dd(),!1}if(qe)return r=xn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Af&&(t=Error(s(422),{cause:l}),$o(Dn(t,a)))):(l!==Af&&(r=Error(s(423),{cause:l}),$o(Dn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Dn(l,a),f=Qf(t.stateNode,l,f),ud(t,f),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),dl===null?dl=[d]:dl.push(d),ct!==4&&(ct=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Qf(a.stateNode,l,t),ud(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Sy(f),Ay(f,t,a,l),ud(a,f),!1}a=a.return}while(a!==null);return!1}var by=Error(s(461)),Pt=!1;function jt(t,r,a,l){r.child=t===null?Dg(r,null,a,l):Cs(r,t.child,a,l)}function wy(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Vs(r),l=Nf(t,r,a,v,d,f),T=xf(),t!==null&&!Pt?(Mf(t,r,f),zi(t,r,f)):(qe&&T&&Tf(r),r.flags|=1,jt(t,r,l,f),r.child)}function Ry(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!yd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Cy(t,r,d,l,f)):(t=oc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!id(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(v,l)&&t.ref===r.ref)return zi(t,r,f)}return r.flags|=1,t=kr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Cy(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(qo(d,l)&&t.ref===r.ref)if(Pt=!1,r.pendingProps=l=d,id(t,f))t.flags&131072&&(Pt=!0);else return r.lanes=t.lanes,zi(t,r,f)}return Yf(t,r,a,l,f)}function Iy(t,r,a){var l=r.pendingProps,f=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(il(t,r),l.mode==="hidden"||d){if(r.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Dy(t,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(r,v!==null?v.cachePool:null),v!==null?Og(r,v):wf(),Ng(r);else return r.lanes=r.childLanes=536870912,Dy(t,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(Ku(r,v.cachePool),Og(r,v),Rr(),r.memoizedState=null):(t!==null&&Ku(r,null),wf(),Rr());return jt(t,r,f,a),r.child}function Dy(t,r,a,l){var f=Df();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ku(r,null),wf(),Ng(r),t!==null&&rl(t,r,l,!0),null}function il(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function Yf(t,r,a,l,f){return Vs(r),a=Nf(t,r,a,l,void 0,f),l=xf(),t!==null&&!Pt?(Mf(t,r,f),zi(t,r,f)):(qe&&l&&Tf(r),r.flags|=1,jt(t,r,a,f),r.child)}function Oy(t,r,a,l,f,d){return Vs(r),r.updateQueue=null,a=kg(r,l,a,f),Pg(t),l=xf(),t!==null&&!Pt?(Mf(t,r,d),zi(t,r,d)):(qe&&l&&Tf(r),r.flags|=1,jt(t,r,a,d),r.child)}function Ny(t,r,a,l,f){if(Vs(r),r.stateNode===null){var d=ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},od(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):ba,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&$f.enqueueReplaceState(d,d.state,null),ol(r,l,d,f),al(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,R=xs(a,T);d.props=R;var L=d.context,Y=a.contextType;v=ba,typeof Y=="object"&&Y!==null&&(v=$t(Y));var ee=a.getDerivedStateFromProps;Y=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==v)&&yy(r,d,l,v),Or=!1;var q=r.memoizedState;d.state=q,ol(r,l,d,f),al(),L=r.memoizedState,T||q!==L||Or?(typeof ee=="function"&&(Kf(r,a,ee,l),L=r.memoizedState),(R=Or||gy(r,a,R,l,q,L,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=L),d.props=l,d.state=L,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,ld(t,r),v=r.memoizedProps,Y=xs(a,v),d.props=Y,ee=r.pendingProps,q=d.context,L=a.contextType,R=ba,typeof L=="object"&&L!==null&&(R=$t(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||q!==R)&&yy(r,d,l,R),Or=!1,q=r.memoizedState,d.state=q,ol(r,l,d,f),al();var Q=r.memoizedState;v!==ee||q!==Q||Or||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof T=="function"&&(Kf(r,a,T,l),Q=r.memoizedState),(Y=Or||gy(r,a,Y,l,q,Q,R)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,R)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=R,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,il(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Cs(r,t.child,null,f),r.child=Cs(r,null,a,f)):jt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=zi(t,r,f),t}function xy(t,r,a,l){return Ko(),r.flags|=256,jt(t,r,a,l),r.child}var Xf={dehydrated:null,treeContext:null,retryLane:0};function Wf(t){return{baseLanes:t,cachePool:Vg()}}function Zf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kn),t}function My(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(f?wr(r):Rr(),qe){var T=Bt,R;if(R=T){e:{for(R=T,T=li;R.nodeType!==8;){if(!T){T=null;break e}if(R=Gn(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(r.memoizedState={dehydrated:T,treeContext:bs!==null?{id:Pi,overflow:ki}:null,retryLane:536870912},R=Pn(18,null,null,0),R.stateNode=T,R.return=r,r.child=R,sn=r,Bt=null,R=!0):R=!1}R||Rs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Li(r)}return T=l.children,l=l.fallback,f?(Rr(),f=r.mode,T=ed({mode:"hidden",children:T},f),l=ks(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=Wf(a),f.childLanes=Zf(t,v,a),r.memoizedState=Xf,l):(wr(r),Jf(r,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)r.flags&256?(wr(r),r.flags&=-257,r=td(t,r,a)):r.memoizedState!==null?(Rr(),r.child=t.child,r.flags|=128,r=null):(Rr(),f=l.fallback,T=r.mode,l=ed({mode:"visible",children:l.children},T),f=ks(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Cs(r,t.child,null,a),l=r.child,l.memoizedState=Wf(a),l.childLanes=Zf(t,v,a),r.memoizedState=Xf,r=f);else if(wr(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),r=td(t,r,a)}else if(Pt||rl(t,r,a,!1),v=(a&t.childLanes)!==0,Pt||v){if(v=Ze,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,br(t,l),an(v,t,l),by}T.data==="$?"||Dd(),r=td(t,r,a)}else T.data==="$?"?(r.flags|=128,r.child=t.child,r=$A.bind(null,t),T._reactRetry=r,r=null):(t=R.treeContext,Bt=Gn(T.nextSibling),sn=r,qe=!0,qn=null,li=!1,t!==null&&(On[Nn++]=Pi,On[Nn++]=ki,On[Nn++]=bs,Pi=t.id,ki=t.overflow,bs=r),r=Jf(r,l.children),r.flags|=4096);return r}return f?(Rr(),f=l.fallback,T=r.mode,R=t.child,L=R.sibling,l=kr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,L!==null?f=kr(L,f):(f=ks(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=t.child.memoizedState,T===null?T=Wf(a):(R=T.cachePool,R!==null?(L=Ct._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=Vg(),T={baseLanes:T.baseLanes|a,cachePool:R}),f.memoizedState=T,f.childLanes=Zf(t,v,a),r.memoizedState=Xf,l):(wr(r),a=t.child,t=a.sibling,a=kr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Jf(t,r){return r=ed({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ed(t,r){return s_(t,r,0,null)}function td(t,r,a){return Cs(r,t.child,null,a),t=Jf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Vy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),sd(t.return,r,a)}function nd(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Py(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(jt(t,r,l.children,a),l=Rt.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,a,r);else if(t.tag===19)Vy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(Rt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Gu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),nd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Gu(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}nd(r,!0,a,null,d);break;case"together":nd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function zi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Lr|=r.lanes,!(a&r.childLanes))if(t!==null){if(rl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=kr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=kr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function id(t,r){return t.lanes&r?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function MA(t,r,a){switch(r.tag){case 3:lr(r,r.stateNode.containerInfo),Dr(r,Ct,t.memoizedState.cache),Ko();break;case 27:case 5:So(r);break;case 4:lr(r,r.stateNode.containerInfo);break;case 10:Dr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(wr(r),r.flags|=128,null):a&r.child.childLanes?My(t,r,a):(wr(r),t=zi(t,r,a),t!==null?t.sibling:null);wr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(rl(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Py(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,Iy(t,r,a);case 24:Dr(r,Ct,t.memoizedState.cache)}return zi(t,r,a)}function ky(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Pt=!0;else{if(!id(t,a)&&!(r.flags&128))return Pt=!1,MA(t,r,a);Pt=!!(t.flags&131072)}else Pt=!1,qe&&r.flags&1048576&&Eg(r,Bu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")yd(l)?(t=xs(l,t),r.tag=1,r=Ny(null,r,l,t,a)):(r.tag=0,r=Yf(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===O){r.tag=11,r=wy(null,r,l,t,a);break e}else if(f===K){r.tag=14,r=Ry(null,r,l,t,a);break e}}throw r=w(l)||l,Error(s(306,r,""))}}return r;case 0:return Yf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=xs(l,r.pendingProps),Ny(t,r,l,f,a);case 3:e:{if(lr(r,r.stateNode.containerInfo),t===null)throw Error(s(387));var d=r.pendingProps;f=r.memoizedState,l=f.element,ld(t,r),ol(r,d,null,a);var v=r.memoizedState;if(d=v.cache,Dr(r,Ct,d),d!==f.cache&&ad(r,[Ct],a,!0),al(),d=v.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=xy(t,r,d,a);break e}else if(d!==l){l=Dn(Error(s(424)),r),$o(l),r=xy(t,r,d,a);break e}else for(Bt=Gn(r.stateNode.containerInfo.firstChild),sn=r,qe=!0,qn=null,li=!0,a=Dg(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ko(),d===l){r=zi(t,r,a);break e}jt(t,r,d,a)}r=r.child}return r;case 26:return il(t,r),t===null?(a=z_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=vc(Tn.current).createElement(a),l[xt]=r,l[At]=t,Ht(l,a,t),nt(l),r.stateNode=l):r.memoizedState=z_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return So(r),t===null&&qe&&(l=r.stateNode=k_(r.type,r.pendingProps,Tn.current),sn=r,li=!0,Bt=Gn(l.firstChild)),l=r.pendingProps.children,t!==null||qe?jt(t,r,l,a):r.child=Cs(r,null,l,a),il(t,r),r.child;case 5:return t===null&&qe&&((f=l=Bt)&&(l=ub(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,sn=r,Bt=Gn(l.firstChild),li=!1,f=!0):f=!1),f||Rs(r)),So(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,qd(f,d)?l=null:v!==null&&qd(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Nf(t,r,RA,null,null,a),Sl._currentValue=f),il(t,r),jt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=Bt)&&(a=cb(a,r.pendingProps,li),a!==null?(r.stateNode=a,sn=r,Bt=null,t=!0):t=!1),t||Rs(r)),null;case 13:return My(t,r,a);case 4:return lr(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Cs(r,null,l,a):jt(t,r,l,a),r.child;case 11:return wy(t,r,r.type,r.pendingProps,a);case 7:return jt(t,r,r.pendingProps,a),r.child;case 8:return jt(t,r,r.pendingProps.children,a),r.child;case 12:return jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Dr(r,r.type,l.value),jt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Vs(r),f=$t(f),l=l(f),r.flags|=1,jt(t,r,l,a),r.child;case 14:return Ry(t,r,r.type,r.pendingProps,a);case 15:return Cy(t,r,r.type,r.pendingProps,a);case 19:return Py(t,r,a);case 22:return Iy(t,r,a);case 24:return Vs(r),l=$t(Ct),t===null?(f=Df(),f===null&&(f=Ze,d=Cf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},od(r),Dr(r,Ct,f)):(t.lanes&a&&(ld(t,r),ol(r,null,null,a),al()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Dr(r,Ct,l)):(l=d.cache,Dr(r,Ct,l),l!==f.cache&&ad(r,[Ct],a,!0))),jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var rd=je(null),Ms=null,Bi=null;function Dr(t,r,a){Qe(rd,r._currentValue),r._currentValue=a}function ji(t){t._currentValue=rd.current,ot(rd)}function sd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ad(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var R=0;R<r.length;R++)if(T.context===r[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),sd(d.return,a,t),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),sd(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function rl(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if(f.flags&524288)d=!0;else if(f.flags&262144)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;mn(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===or.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}f=f.return}t!==null&&ad(r,t,a,l),r.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ms=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Ly(Ms,t)}function rc(t,r){return Ms===null&&Vs(t),Ly(t,r)}function Ly(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Bi=Bi.next=r;return a}var Or=!1;function od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,rt&2){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Uu(t),_g(t,null,a),r}return Lu(t,l,r,a),Uu(t)}function sl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,mr(t,a)}}function ud(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var cd=!1;function al(){if(cd){var t=Oa;if(t!==null)throw t}}function ol(t,r,a,l){cd=!1;var f=t.updateQueue;Or=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var R=T,L=R.next;R.next=null,v===null?d=L:v.next=L,v=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=L:T.next=L,Y.lastBaseUpdate=R))}if(d!==null){var ee=f.baseState;v=0,Y=L=R=null,T=d;do{var q=T.lane&-536870913,Q=q!==T.lane;if(Q?(ze&q)===q:(l&q)===q){q!==0&&q===Da&&(cd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,be=T;q=r;var ht=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){ee=fe.call(ht,ee,q);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,q=typeof fe=="function"?fe.call(ht,ee,q):fe,q==null)break e;ee=I({},ee,q);break e;case 2:Or=!0}}q=T.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(L=Y=Q,R=ee):Y=Y.next=Q,v|=q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(R=ee),f.baseState=R,f.firstBaseUpdate=L,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Lr|=v,t.lanes=v,t.memoizedState=ee}}function Uy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function zy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Uy(a[t],r)}function ll(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){We(r,r.return,T)}}function Mr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var R=a;try{T()}catch(L){We(f,R,L)}}}l=l.next}while(l!==d)}}catch(L){We(r,r.return,L)}}function By(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{zy(r,a)}catch(l){We(t,t.return,l)}}}function jy(t,r,a){a.props=xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function Ps(t,r){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?t.refCleanup=a(f):a.current=f}}catch(d){We(t,r,d)}}function pn(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,r,f)}else a.current=null}function Hy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function qy(t,r,a){try{var l=t.stateNode;rb(l,t.type,a,r),l[At]=r}catch(f){We(t,t.return,f)}}function Fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=_c));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(fd(t,r,a),t=t.sibling;t!==null;)fd(t,r,a),t=t.sibling}function sc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(sc(t,r,a),t=t.sibling;t!==null;)sc(t,r,a),t=t.sibling}var Hi=!1,ut=!1,dd=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,kt=null,Ky=!1;function VA(t,r){if(t=t.containerInfo,jd=wc,t=ug(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,R=-1,L=0,Y=0,ee=t,q=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(T=v+f),ee!==d||l!==0&&ee.nodeType!==3||(R=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)q=ee,ee=Q;for(;;){if(ee===t)break t;if(q===a&&++L===f&&(T=v),q===d&&++Y===l&&(R=v),(Q=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=Q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},wc=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=xs(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){We(a,a.return,be)}}break;case 3:if(t&1024){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}return fe=Ky,Ky=!1,fe}function $y(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),l&4&&ll(5,a);break;case 1:if(Fi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){We(a,a.return,T)}else{var f=xs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){We(a,a.return,T)}}l&64&&By(a),l&512&&Ps(a,a.return);break;case 3:if(Fi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{zy(l,t)}catch(T){We(a,a.return,T)}}break;case 26:Fi(t,a),l&512&&Ps(a,a.return);break;case 27:case 5:Fi(t,a),r===null&&l&4&&Hy(a),l&512&&Ps(a,a.return);break;case 12:Fi(t,a);break;case 13:Fi(t,a),l&4&&Xy(t,a);break;case 22:if(f=a.memoizedState!==null||Hi,!f){r=r!==null&&r.memoizedState!==null||ut;var d=Hi,v=ut;Hi=f,(ut=r)&&!v?Vr(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),Hi=d,ut=v}l&512&&(a.memoizedProps.mode==="manual"?Ps(a,a.return):pn(a,a.return));break;default:Fi(t,a)}}function Qy(t){var r=t.alternate;r!==null&&(t.alternate=null,Qy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&hs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,gn=!1;function qi(t,r,a){for(a=a.child;a!==null;)Yy(t,r,a),a=a.sibling}function Yy(t,r,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ur,a)}catch{}switch(a.tag){case 26:ut||pn(a,r),qi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||pn(a,r);var l=vt,f=gn;for(vt=a.stateNode,qi(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);hs(a),vt=l,gn=f;break;case 5:ut||pn(a,r);case 6:f=vt;var d=gn;if(vt=null,qi(t,r,a),vt=f,gn=d,vt!==null)if(gn)try{t=vt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){We(a,r,v)}else try{vt.removeChild(a.stateNode)}catch(v){We(a,r,v)}break;case 18:vt!==null&&(gn?(r=vt,a=a.stateNode,r.nodeType===8?Gd(r.parentNode,a):r.nodeType===1&&Gd(r,a),Rl(r)):Gd(vt,a.stateNode));break;case 4:l=vt,f=gn,vt=a.stateNode.containerInfo,gn=!0,qi(t,r,a),vt=l,gn=f;break;case 0:case 11:case 14:case 15:ut||Mr(2,a,r),ut||Mr(4,a,r),qi(t,r,a);break;case 1:ut||(pn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jy(a,r,l)),qi(t,r,a);break;case 21:qi(t,r,a);break;case 22:ut||pn(a,r),ut=(l=ut)||a.memoizedState!==null,qi(t,r,a),ut=l;break;default:qi(t,r,a)}}function Xy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){We(r,r.return,a)}}function PA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Gy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Gy),r;default:throw Error(s(435,t.tag))}}function md(t,r){var a=PA(t);r.forEach(function(l){var f=QA.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function Mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:vt=T.stateNode,gn=!1;break e;case 3:vt=T.stateNode.containerInfo,gn=!0;break e;case 4:vt=T.stateNode.containerInfo,gn=!0;break e}T=T.return}if(vt===null)throw Error(s(160));Yy(d,v,f),vt=null,gn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Wy(r,t),r=r.sibling}var Fn=null;function Wy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(r,t),Vn(t),l&4&&(Mr(3,t,t.return),ll(3,t),Mr(5,t,t.return));break;case 1:Mn(r,t),Vn(t),l&512&&(ut||a===null||pn(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Fn;if(Mn(r,t),Vn(t),l&512&&(ut||a===null||pn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gr]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ht(d,l,a),d[xt]=t,nt(d),l=d;break e;case"link":var v=H_("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),Ht(d,l,a),f.head.appendChild(d);break;case"meta":if(v=H_("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),Ht(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,nt(d),l=d}t.stateNode=l}else q_(f,t.type,t.stateNode);else t.stateNode=j_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?q_(f,t.type,t.stateNode):j_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){f=t.stateNode,d=t.memoizedProps;try{for(var R=f.firstChild;R;){var L=R.nextSibling,Y=R.nodeName;R[gr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&R.rel.toLowerCase()==="stylesheet"||f.removeChild(R),R=L}for(var ee=t.type,q=f.attributes;q.length;)f.removeAttributeNode(q[0]);Ht(f,ee,d),f[xt]=t,f[At]=d}catch(fe){We(t,t.return,fe)}}case 5:if(Mn(r,t),Vn(t),l&512&&(ut||a===null||pn(a,a.return)),t.flags&32){f=t.stateNode;try{bn(f,"")}catch(fe){We(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,qy(t,f,a!==null?a.memoizedProps:f)),l&1024&&(dd=!0);break;case 6:if(Mn(r,t),Vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){We(t,t.return,fe)}}break;case 3:if(Sc=null,f=Fn,Fn=Ec(r.containerInfo),Mn(r,t),Fn=f,Vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(r.containerInfo)}catch(fe){We(t,t.return,fe)}dd&&(dd=!1,Zy(t));break;case 4:l=Fn,Fn=Ec(t.stateNode.containerInfo),Mn(r,t),Vn(t),Fn=l;break;case 12:Mn(r,t),Vn(t);break;case 13:Mn(r,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ad=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,md(t,l)));break;case 22:if(l&512&&(ut||a===null||pn(a,a.return)),R=t.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Y=Hi,ee=ut,Hi=Y||R,ut=ee||L,Mn(r,t),ut=ee,Hi=Y,Vn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=R?r._visibility&-2:r._visibility|1,R&&(r=Hi||ut,a===null||L||r||Va(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){L=a=r;try{if(f=L.stateNode,R)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=L.stateNode,T=L.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){We(L,L.return,fe)}}}else if(r.tag===6){if(a===null){L=r;try{L.stateNode.nodeValue=R?"":L.memoizedProps}catch(fe){We(L,L.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,md(t,a))));break;case 19:Mn(r,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,md(t,l)));break;case 21:break;default:Mn(r,t),Vn(t)}}function Vn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Fy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,d=hd(t);sc(t,d,f);break;case 5:var v=l.stateNode;l.flags&32&&(bn(v,""),l.flags&=-33);var T=hd(t);sc(t,T,v);break;case 3:case 4:var R=l.stateNode.containerInfo,L=hd(t);fd(t,L,R);break;default:throw Error(s(161))}}}catch(Y){We(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Zy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Fi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$y(t,r.alternate,r),r=r.sibling}function Va(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Mr(4,r,r.return),Va(r);break;case 1:pn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&jy(r,r.return,a),Va(r);break;case 26:case 27:case 5:pn(r,r.return),Va(r);break;case 22:pn(r,r.return),r.memoizedState===null&&Va(r);break;default:Va(r)}t=t.sibling}}function Vr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(f,d,a),ll(4,d);break;case 1:if(Vr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){We(l,l.return,L)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Uy(R[f],T)}catch(L){We(l,l.return,L)}}a&&v&64&&By(d),Ps(d,d.return);break;case 26:case 27:case 5:Vr(f,d,a),a&&l===null&&v&4&&Hy(d),Ps(d,d.return);break;case 12:Vr(f,d,a);break;case 13:Vr(f,d,a),a&&v&4&&Xy(f,d);break;case 22:d.memoizedState===null&&Vr(f,d,a),Ps(d,d.return);break;default:Vr(f,d,a)}r=r.sibling}}function pd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zo(a))}function gd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Zo(t))}function Pr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Jy(t,r,a,l),r=r.sibling}function Jy(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Pr(t,r,a,l),f&2048&&ll(9,r);break;case 3:Pr(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Zo(t)));break;case 12:if(f&2048){Pr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){We(r,r.return,R)}}else Pr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Pr(t,r,a,l):ul(t,r):d._visibility&4?Pr(t,r,a,l):(d._visibility|=4,Pa(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&pd(r.alternate,r);break;case 24:Pr(t,r,a,l),f&2048&&gd(r.alternate,r);break;default:Pr(t,r,a,l)}}function Pa(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,R=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(d,v,T,R,f),ll(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&4?Pa(d,v,T,R,f):ul(d,v):(Y._visibility|=4,Pa(d,v,T,R,f)),f&&L&2048&&pd(v.alternate,v);break;case 24:Pa(d,v,T,R,f),f&&L&2048&&gd(v.alternate,v);break;default:Pa(d,v,T,R,f)}r=r.sibling}}function ul(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:ul(a,l),f&2048&&pd(l.alternate,l);break;case 24:ul(a,l),f&2048&&gd(l.alternate,l);break;default:ul(a,l)}r=r.sibling}}var cl=8192;function ka(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)e_(t),t=t.sibling}function e_(t){switch(t.tag){case 26:ka(t),t.flags&cl&&t.memoizedState!==null&&Ab(Fn,t.memoizedState,t.memoizedProps);break;case 5:ka(t);break;case 3:case 4:var r=Fn;Fn=Ec(t.stateNode.containerInfo),ka(t),Fn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=cl,cl=16777216,ka(t),cl=r):ka(t));break;default:ka(t)}}function t_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function hl(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,i_(l,t)}t_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)n_(t),t=t.sibling}function n_(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,ac(t)):hl(t);break;default:hl(t)}}function ac(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,i_(l,t)}t_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Mr(8,r,r.return),ac(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,ac(r));break;default:ac(r)}t=t.sibling}}function i_(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var f=l.sibling,d=l.return;if(Qy(l),l===a){kt=null;break e}if(f!==null){f.return=d,kt=f;break e}kt=d}}}function kA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,r,a,l){return new kA(t,r,a,l)}function yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kr(t,r){var a=t.alternate;return a===null?(a=Pn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function r_(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function oc(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")yd(t)&&(v=1);else if(typeof t=="string")v=Tb(t,a,en.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ks(a.children,f,d,r);case g:v=8,f|=24;break;case E:return t=Pn(12,a,r,f|2),t.elementType=E,t.lanes=d,t;case H:return t=Pn(13,a,r,f),t.elementType=H,t.lanes=d,t;case x:return t=Pn(19,a,r,f),t.elementType=x,t.lanes=d,t;case X:return s_(a,f,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case N:v=10;break e;case C:v=9;break e;case O:v=11;break e;case K:v=14;break e;case J:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Pn(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function ks(t,r,a,l){return t=Pn(7,t,l,r),t.lanes=a,t}function s_(t,r,a,l){t=Pn(22,t,l,r),t.elementType=X,t.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var v=br(d,2);v!==null&&(f._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(s(456));if(f._pendingVisibility&2){var v=br(d,2);v!==null&&(f._pendingVisibility&=-3,an(v,d,2))}}};return t.stateNode=f,t}function _d(t,r,a){return t=Pn(6,t,null,r),t.lanes=a,t}function vd(t,r,a){return r=Pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Gi(t){t.flags|=4}function a_(t,r){if(r.type!=="stylesheet"||r.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!F_(r)){if(r=xn.current,r!==null&&((ze&4194176)===ze?ui!==null:(ze&62914560)!==ze&&!(ze&536870912)||r!==ui))throw Yo=bf,Ag;t.flags|=8192}}function lc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?fr():536870912,t.lanes|=r,Ua|=r)}function fl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function LA(t,r,a){var l=r.pendingProps;switch(Sf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ji(Ct),bi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Go(r)?Gi(r):t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,qn!==null&&(Cd(qn),qn=null))),it(r),null;case 26:return a=r.memoizedState,t===null?(Gi(r),a!==null?(it(r),a_(r,a)):(it(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Gi(r),it(r),a_(r,a)):(it(r),r.flags&=-16777217):(t.memoizedProps!==l&&Gi(r),it(r),r.flags&=-16777217),null;case 27:ia(r),a=Tn.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=en.current,Go(r)?Tg(r):(t=k_(f,l,a),r.stateNode=t,Gi(r))}return it(r),null;case 5:if(ia(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=en.current,Go(r))Tg(r);else{switch(f=vc(Tn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[xt]=r,t[At]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(Ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gi(r)}}return it(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Gi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Tn.current,Go(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||O_(t.nodeValue,a)),t||Rs(r)}else t=vc(t).createTextNode(l),t[xt]=r,r.stateNode=t}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Go(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else Ko(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;it(r),f=!1}else qn!==null&&(Cd(qn),qn=null),f=!0;if(!f)return r.flags&256?(Li(r),r):(Li(r),null)}if(Li(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),lc(r,r.updateQueue),it(r),null;case 4:return bi(),t===null&&Ud(r.stateNode.containerInfo),it(r),null;case 10:return ji(r.type),it(r),null;case 19:if(ot(Rt),f=r.memoizedState,f===null)return it(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)fl(f,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(d=Gu(t),d!==null){for(r.flags|=128,fl(f,!1),t=d.updateQueue,r.updateQueue=t,lc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)r_(a,t),a=a.sibling;return Qe(Rt,Rt.current&1|2),r.child}t=t.sibling}f.tail!==null&&on()>uc&&(r.flags|=128,l=!0,fl(f,!1),r.lanes=4194304)}else{if(!l)if(t=Gu(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,lc(r,t),fl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!qe)return it(r),null}else 2*on()-f.renderingStartTime>uc&&a!==536870912&&(r.flags|=128,l=!0,fl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=on(),r.sibling=null,t=Rt.current,Qe(Rt,l?t&1|2:t&1),r):(it(r),null);case 22:case 23:return Li(r),Rf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&lc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ot(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ji(Ct),it(r),null;case 25:return null}throw Error(s(156,r.tag))}function UA(t,r){switch(Sf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ji(Ct),bi(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ia(r),null;case 13:if(Li(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ko()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ot(Rt),null;case 4:return bi(),null;case 10:return ji(r.type),null;case 22:case 23:return Li(r),Rf(),t!==null&&ot(Is),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ji(Ct),null;case 25:return null;default:return null}}function o_(t,r){switch(Sf(r),r.tag){case 3:ji(Ct),bi();break;case 26:case 27:case 5:ia(r);break;case 4:bi();break;case 13:Li(r);break;case 19:ot(Rt);break;case 10:ji(r.type);break;case 22:case 23:Li(r),Rf(),t!==null&&ot(Is);break;case 24:ji(Ct)}}var zA={getCacheForType:function(t){var r=$t(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},BA=typeof WeakMap=="function"?WeakMap:Map,rt=0,Ze=null,xe=null,ze=0,Je=0,yn=null,Ki=!1,La=!1,Ed=!1,$i=0,ct=0,Lr=0,Ls=0,Td=0,kn=0,Ua=0,dl=null,hi=null,Sd=!1,Ad=0,uc=1/0,cc=null,Ur=null,hc=!1,Us=null,ml=0,bd=0,wd=null,pl=0,Rd=null;function _n(){if(rt&2&&ze!==0)return ze&-ze;if(b.T!==null){var t=Da;return t!==0?t:Vd()}return yu()}function l_(){kn===0&&(kn=!(ze&536870912)||qe?Co():536870912);var t=xn.current;return t!==null&&(t.flags|=32),kn}function an(t,r,a){(t===Ze&&Je===2||t.cancelPendingCommit!==null)&&(za(t,0),Qi(t,ze,kn,!1)),ft(t,a),(!(rt&2)||t!==Ze)&&(t===Ze&&(!(rt&2)&&(Ls|=a),ct===4&&Qi(t,ze,kn,!1)),fi(t))}function u_(t,r,a){if(rt&6)throw Error(s(327));var l=!a&&(r&60)===0&&(r&t.expiredLanes)===0||hr(t,r),f=l?qA(t,r):Od(t,r,!0),d=l;do{if(f===0){La&&!l&&Qi(t,r,0,!1);break}else if(f===6)Qi(t,r,0,!Ki);else{if(a=t.current.alternate,d&&!jA(a)){f=Od(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;f=dl;var R=T.current.memoizedState.isDehydrated;if(R&&(za(T,v).flags|=256),v=Od(T,v,!1),v!==2){if(Ed&&!R){T.errorRecoveryDisabledLanes|=d,Ls|=d,f=4;break e}d=hi,hi=f,d!==null&&Cd(d)}f=v}if(d=!1,f!==2)continue}}if(f===1){za(t,0),Qi(t,r,0,!0);break}e:{switch(l=t,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Qi(l,r,kn,!Ki);break e}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=Ad+300-on(),10<d)){if(Qi(l,r,kn,!Ki),Sn(l,0)!==0)break e;l.timeoutHandle=M_(c_.bind(null,l,a,hi,cc,Sd,r,kn,Ls,Ua,Ki,2,-0,0),d);break e}c_(l,a,hi,cc,Sd,r,kn,Ls,Ua,Ki,0,-0,0)}}break}while(!0);fi(t)}function Cd(t){hi===null?hi=t:hi.push.apply(hi,t)}function c_(t,r,a,l,f,d,v,T,R,L,Y,ee,q){var Q=r.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:Sb},e_(r),r=bb(),r!==null)){t.cancelPendingCommit=r(y_.bind(null,t,a,l,f,v,T,R,1,ee,q)),Qi(t,d,v,!L);return}y_(t,a,l,f,v,T,R,Y,ee,q)}function jA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!mn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qi(t,r,a,l){r&=~Td,r&=~Ls,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-tn(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&dr(t,a,r)}function fc(){return rt&6?!0:(gl(0),!1)}function Id(){if(xe!==null){if(Je===0)var t=xe.return;else t=xe,Bi=Ms=null,Vf(t),Ca=null,Xo=0,t=xe;for(;t!==null;)o_(t.alternate,t),t=t.return;xe=null}}function za(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ab(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Id(),Ze=t,xe=a=kr(t.current,null),ze=r,Je=0,yn=null,Ki=!1,La=hr(t,r),Ed=!1,Ua=kn=Td=Ls=Lr=ct=0,hi=dl=null,Sd=!1,r&8&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-tn(l),d=1<<f;r|=t[f],l&=~d}return $i=r,ku(),a}function h_(t,r){Oe=null,b.H=ci,r===Qo?(r=Rg(),Je=3):r===Ag?(r=Rg(),Je=4):Je=r===by?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,xe===null&&(ct=1,nc(t,Dn(r,t.current)))}function f_(){var t=b.H;return b.H=ci,t===null?ci:t}function d_(){var t=b.A;return b.A=zA,t}function Dd(){ct=4,Ki||(ze&4194176)!==ze&&xn.current!==null||(La=!0),!(Lr&134217727)&&!(Ls&134217727)||Ze===null||Qi(Ze,ze,kn,!1)}function Od(t,r,a){var l=rt;rt|=2;var f=f_(),d=d_();(Ze!==t||ze!==r)&&(cc=null,za(t,r)),r=!1;var v=ct;e:do try{if(Je!==0&&xe!==null){var T=xe,R=yn;switch(Je){case 8:Id(),v=6;break e;case 3:case 2:case 6:xn.current===null&&(r=!0);var L=Je;if(Je=0,yn=null,Ba(t,T,R,L),a&&La){v=0;break e}break;default:L=Je,Je=0,yn=null,Ba(t,T,R,L)}}HA(),v=ct;break}catch(Y){h_(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Bi=Ms=null,rt=l,b.H=f,b.A=d,xe===null&&(Ze=null,ze=0,ku()),v}function HA(){for(;xe!==null;)m_(xe)}function qA(t,r){var a=rt;rt|=2;var l=f_(),f=d_();Ze!==t||ze!==r?(cc=null,uc=on()+500,za(t,r)):La=hr(t,r);e:do try{if(Je!==0&&xe!==null){r=xe;var d=yn;t:switch(Je){case 1:Je=0,yn=null,Ba(t,r,d,1);break;case 2:if(bg(d)){Je=0,yn=null,p_(r);break}r=function(){Je===2&&Ze===t&&(Je=7),fi(t)},d.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:bg(d)?(Je=0,yn=null,p_(r)):(Je=0,yn=null,Ba(t,r,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var T=xe;if(!v||F_(v)){Je=0,yn=null;var R=T.sibling;if(R!==null)xe=R;else{var L=T.return;L!==null?(xe=L,dc(L)):xe=null}break t}}Je=0,yn=null,Ba(t,r,d,5);break;case 6:Je=0,yn=null,Ba(t,r,d,6);break;case 8:Id(),ct=6;break e;default:throw Error(s(462))}}FA();break}catch(Y){h_(t,Y)}while(!0);return Bi=Ms=null,b.H=l,b.A=f,rt=a,xe!==null?0:(Ze=null,ze=0,ku(),ct)}function FA(){for(;xe!==null&&!rf();)m_(xe)}function m_(t){var r=ky(t.alternate,t,$i);t.memoizedProps=t.pendingProps,r===null?dc(t):xe=r}function p_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Oy(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Oy(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Vf(r);default:o_(a,r),r=xe=r_(r,$i),r=ky(a,r,$i)}t.memoizedProps=t.pendingProps,r===null?dc(t):xe=r}function Ba(t,r,a,l){Bi=Ms=null,Vf(r),Ca=null,Xo=0;var f=r.return;try{if(xA(t,f,r,a,ze)){ct=1,nc(t,Dn(a,t.current)),xe=null;return}}catch(d){if(f!==null)throw xe=f,d;ct=1,nc(t,Dn(a,t.current)),xe=null;return}r.flags&32768?(qe||l===1?t=!0:La||ze&536870912?t=!1:(Ki=t=!0,(l===2||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),g_(r,t)):dc(r)}function dc(t){var r=t;do{if(r.flags&32768){g_(r,Ki);return}t=r.return;var a=LA(r.alternate,r,$i);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);ct===0&&(ct=5)}function g_(t,r){do{var a=UA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ct=6,xe=null}function y_(t,r,a,l,f,d,v,T,R,L){var Y=b.T,ee=le.p;try{le.p=2,b.T=null,GA(t,r,a,l,ee,f,d,v,T,R,L)}finally{b.T=Y,le.p=ee}}function GA(t,r,a,l,f,d,v,T){do ja();while(Us!==null);if(rt&6)throw Error(s(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var L=R.lanes|R.childLanes;if(L|=vf,pu(t,l,L,d,v,T),t===Ze&&(xe=Ze=null,ze=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||hc||(hc=!0,bd=L,wd=a,YA(wi,function(){return ja(),null})),a=(R.flags&15990)!==0,R.subtreeFlags&15990||a?(a=b.T,b.T=null,d=le.p,le.p=2,v=rt,rt|=4,VA(t,R),Wy(R,t),pA(Hd,t.containerInfo),wc=!!jd,Hd=jd=null,t.current=R,$y(t,R.alternate,R),Ao(),rt=v,le.p=d,b.T=a):t.current=R,hc?(hc=!1,Us=t,ml=l):__(t,L),L=t.pendingLanes,L===0&&(Ur=null),wo(R.stateNode),fi(t),r!==null)for(f=t.onRecoverableError,R=0;R<r.length;R++)L=r[R],f(L.value,{componentStack:L.stack});return ml&3&&ja(),L=t.pendingLanes,l&4194218&&L&42?t===Rd?pl++:(pl=0,Rd=t):pl=0,gl(0),null}function __(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Zo(r)))}function ja(){if(Us!==null){var t=Us,r=bd;bd=0;var a=gu(ml),l=b.T,f=le.p;try{if(le.p=32>a?32:a,b.T=null,Us===null)var d=!1;else{a=wd,wd=null;var v=Us,T=ml;if(Us=null,ml=0,rt&6)throw Error(s(331));var R=rt;if(rt|=4,n_(v.current),Jy(v,v.current,T,a),rt=R,gl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ur,v)}catch{}d=!0}return d}finally{le.p=f,b.T=l,__(t,r)}}return!1}function v_(t,r,a){r=Dn(a,r),r=Qf(t.stateNode,r,2),t=xr(t,r,2),t!==null&&(ft(t,2),fi(t))}function We(t,r,a){if(t.tag===3)v_(t,t,a);else for(;r!==null;){if(r.tag===3){v_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){t=Dn(a,t),a=Sy(2),l=xr(r,a,2),l!==null&&(Ay(a,l,r,t),ft(l,2),fi(l));break}}r=r.return}}function Nd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new BA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Ed=!0,f.add(a),t=KA.bind(null,t,r,a),r.then(t,t))}function KA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(ze&a)===a&&(ct===4||ct===3&&(ze&62914560)===ze&&300>on()-Ad?!(rt&2)&&za(t,0):Td|=a,Ua===ze&&(Ua=0)),fi(t)}function E_(t,r){r===0&&(r=fr()),t=br(t,r),t!==null&&(ft(t,r),fi(t))}function $A(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),E_(t,a)}function QA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),E_(t,a)}function YA(t,r){return ls(t,r)}var mc=null,Ha=null,xd=!1,pc=!1,Md=!1,zs=0;function fi(t){t!==Ha&&t.next===null&&(Ha===null?mc=Ha=t:Ha=Ha.next=t),pc=!0,xd||(xd=!0,WA(XA))}function gl(t,r){if(!Md&&pc){Md=!0;do for(var a=!1,l=mc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=f&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,A_(l,d))}else d=ze,d=Sn(l,l===Ze?d:0),!(d&3)||hr(l,d)||(a=!0,A_(l,d));l=l.next}while(a);Md=!1}}function XA(){pc=xd=!1;var t=0;zs!==0&&(sb()&&(t=zs),zs=0);for(var r=on(),a=null,l=mc;l!==null;){var f=l.next,d=T_(l,r);d===0?(l.next=null,a===null?mc=f:a.next=f,f===null&&(Ha=a)):(a=l,(t!==0||d&3)&&(pc=!0)),l=f}gl(t)}function T_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),T=1<<v,R=f[v];R===-1?(!(T&a)||T&l)&&(f[v]=aa(T,r)):R<=r&&(t.expiredLanes|=T),d&=~T}if(r=Ze,a=ze,a=Sn(t,t===r?a:0),l=t.callbackNode,a===0||t===r&&Je===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&sa(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||hr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&sa(l),gu(a)){case 2:case 8:a=Nt;break;case 32:a=wi;break;case 268435456:a=bo;break;default:a=wi}return l=S_.bind(null,t),a=ls(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&sa(l),t.callbackPriority=2,t.callbackNode=null,2}function S_(t,r){var a=t.callbackNode;if(ja()&&t.callbackNode!==a)return null;var l=ze;return l=Sn(t,t===Ze?l:0),l===0?null:(u_(t,l,r),T_(t,on()),t.callbackNode!=null&&t.callbackNode===a?S_.bind(null,t):null)}function A_(t,r){if(ja())return null;u_(t,r,!0)}function WA(t){ob(function(){rt&6?ls(St,t):t()})}function Vd(){return zs===0&&(zs=Co()),zs}function b_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ti(""+t)}function w_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function ZA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=b_((f[At]||null).action),v=l.submitter;v&&(r=(r=v[At]||null)?b_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new da("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var R=v?w_(f,v):new FormData(f);qf(a,{pending:!0,data:R,method:f.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?w_(f,v):new FormData(f),qf(a,{pending:!0,data:R,method:f.method,action:d},d,R))},currentTarget:f}]})}}for(var Pd=0;Pd<yg.length;Pd++){var kd=yg[Pd],JA=kd.toLowerCase(),eb=kd[0].toUpperCase()+kd.slice(1);Hn(JA,"on"+eb)}Hn(fg,"onAnimationEnd"),Hn(dg,"onAnimationIteration"),Hn(mg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(yA,"onTransitionRun"),Hn(_A,"onTransitionStart"),Hn(vA,"onTransitionCancel"),Hn(pg,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function R_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,L=T.currentTarget;if(T=T.listener,R!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=L;try{d(f)}catch(Y){tc(Y)}f.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,L=T.currentTarget,T=T.listener,R!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=L;try{d(f)}catch(Y){tc(Y)}f.currentTarget=null,d=R}}}}function Pe(t,r){var a=r[cs];a===void 0&&(a=r[cs]=new Set);var l=t+"__bubble";a.has(l)||(C_(r,t,2,!1),a.add(l))}function Ld(t,r,a){var l=0;r&&(l|=4),C_(a,t,l,r)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[gc]){t[gc]=!0,Do.forEach(function(a){a!=="selectionchange"&&(tb.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[gc]||(r[gc]=!0,Ld("selectionchange",!1,r))}}function C_(t,r,a,l){switch(X_(r)){case 2:var f=Cb;break;case 8:f=Ib;break;default:f=Wd}a=f.bind(null,r,a,t),f=void 0,!Rn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function zd(t,r,a,l,f){var d=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===f||R.nodeType===8&&R.parentNode===f))return;v=v.return}for(;T!==null;){if(v=jn(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Tu(function(){var L=d,Y=fa(a),ee=[];e:{var q=gg.get(t);if(q!==void 0){var Q=da,fe=t;switch(t){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":Q=va;break;case"focusin":fe="focus",Q=ga;break;case"focusout":fe="blur",Q=ga;break;case"beforeblur":case"afterblur":Q=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Du;break;case fg:case dg:case mg:Q=ya;break;case pg:Q=Nu;break;case"scroll":case"scrollend":Q=Su;break;case"wheel":Q=Ea;break;case"copy":case"cut":case"paste":Q=_a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=jo;break;case"toggle":case"beforetoggle":Q=Mu}var be=(r&4)!==0,ht=!be&&(t==="scroll"||t==="scrollend"),U=be?q!==null?q+"Capture":null:q;be=[];for(var P=L,j;P!==null;){var W=P;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||U===null||(W=ps(P,U),W!=null&&be.push(_l(P,W,j))),ht)break;P=P.return}0<be.length&&(q=new Q(q,fe,null,a,Y),ee.push({event:q,listeners:be}))}}if(!(r&7)){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==wn&&(fe=a.relatedTarget||a.fromElement)&&(jn(fe)||fe[Ri]))break e;if((Q||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=L,fe=fe?jn(fe):null,fe!==null&&(ht=pe(fe),be=fe.tag,fe!==ht||be!==5&&be!==27&&be!==6)&&(fe=null)):(Q=null,fe=L),Q!==fe)){if(be=Cn,W="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(be=jo,W="onPointerLeave",U="onPointerEnter",P="pointer"),ht=Q==null?q:yr(Q),j=fe==null?q:yr(fe),q=new be(W,P+"leave",Q,a,Y),q.target=ht,q.relatedTarget=j,W=null,jn(Y)===L&&(be=new be(U,P+"enter",fe,a,Y),be.target=j,be.relatedTarget=ht,W=be),ht=W,Q&&fe)t:{for(be=Q,U=fe,P=0,j=be;j;j=qa(j))P++;for(j=0,W=U;W;W=qa(W))j++;for(;0<P-j;)be=qa(be),P--;for(;0<j-P;)U=qa(U),j--;for(;P--;){if(be===U||U!==null&&be===U.alternate)break t;be=qa(be),U=qa(U)}be=null}else be=null;Q!==null&&I_(ee,q,Q,be,!1),fe!==null&&ht!==null&&I_(ee,ht,fe,be,!0)}}e:{if(q=L?yr(L):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var ce=tg;else if(wt(q))if(ng)ce=dA;else{ce=hA;var Ne=cA}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&Vo(L.elementType)&&(ce=tg):ce=fA;if(ce&&(ce=ce(t,L))){Vi(ee,ce,a,Y);break e}Ne&&Ne(t,q,L),t==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&ha(q,"number",q.value)}switch(Ne=L?yr(L):window,t){case"focusin":(wt(Ne)||Ne.contentEditable==="true")&&(Ta=Ne,gf=L,Fo=null);break;case"focusout":Fo=gf=Ta=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,cg(ee,a,Y);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":cg(ee,a,Y)}var me;if(ai)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Le?F(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Le||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Le&&(me=ko()):(ni=Y,Ar="value"in ni?ni.value:ni.textContent,Le=!0)),Ne=yc(L,ve),0<Ne.length&&(ve=new zo(ve,t,null,a,Y),ee.push({event:ve,listeners:Ne}),me?ve.data=me:(me=ie(a),me!==null&&(ve.data=me)))),(me=y?bt(t,a):Ue(t,a))&&(ve=yc(L,"onBeforeInput"),0<ve.length&&(Ne=new zo("onBeforeInput","beforeinput",null,a,Y),ee.push({event:Ne,listeners:ve}),Ne.data=me)),ZA(ee,t,L,a,Y)}R_(ee,r)})}function _l(t,r,a){return{instance:t,listener:r,currentTarget:a}}function yc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ps(t,a),f!=null&&l.unshift(_l(t,f,d)),f=ps(t,r),f!=null&&l.push(_l(t,f,d))),t=t.return}return l}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function I_(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,L=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||L===null||(R=L,f?(L=ps(a,d),L!=null&&v.unshift(_l(a,L,R))):f||(L=ps(a,d),L!=null&&v.push(_l(a,L,R)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var nb=/\r\n?/g,ib=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace(nb,`
`).replace(ib,"")}function O_(t,r){return r=D_(r),D_(t)===r}function _c(){}function Xe(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&bn(t,""+l);break;case"className":Er(t,"class",l);break;case"tabIndex":Er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(t,a,l);break;case"style":Eu(t,l,d);break;case"data":if(r!=="object"){Er(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ti(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Xe(t,r,"name",f.name,f,null),Xe(t,r,"formEncType",f.formEncType,f,null),Xe(t,r,"formMethod",f.formMethod,f,null),Xe(t,r,"formTarget",f.formTarget,f,null)):(Xe(t,r,"encType",f.encType,f,null),Xe(t,r,"method",f.method,f,null),Xe(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ti(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_c);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ti(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),vr(t,"popover",l);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uf.get(a)||a,vr(t,a,l))}}function Bd(t,r,a,l,f,d){switch(a){case"style":Eu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):vr(t,a,l)}}}function Ht(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,d,v,a,null)}}f&&Xe(t,r,"srcSet",a.srcSet,a,null),l&&Xe(t,r,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=v=f=null,R=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":v=Y;break;case"checked":R=Y;break;case"defaultChecked":L=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Xe(t,r,l,Y,a,null)}}ds(t,d,T,R,L,v,f,!1),fs(t);return;case"select":Pe("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,r,f,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?He(t,!!l,r,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,r,v,T,a,null)}Sr(t,l,f,d),fs(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,r,R,l,a,null)}return;case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Pe(yl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,L,l,a,null)}return;default:if(Vo(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Bd(t,r,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,r,T,l,a,null))}function rb(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,R=null,L=null,Y=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":R=ee;default:l.hasOwnProperty(Q)||Xe(t,r,Q,null,l,ee)}}for(var q in l){var Q=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(Q!=null||ee!=null))switch(q){case"type":d=Q;break;case"name":f=Q;break;case"checked":L=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ee&&Xe(t,r,q,Q,l,ee)}}Tr(t,v,T,R,L,Y,d,f);return;case"select":Q=v=T=q=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":Q=R;default:l.hasOwnProperty(d)||Xe(t,r,d,null,l,R)}for(f in l)if(d=l[f],R=a[f],l.hasOwnProperty(f)&&(d!=null||R!=null))switch(f){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Xe(t,r,f,d,l,R)}r=T,a=v,l=Q,q!=null?He(t,!!a,q,!1):!!l!=!!a&&(r!=null?He(t,!!a,r,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,r,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":q=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Xe(t,r,v,f,l,d)}ms(t,q,Q);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Xe(t,r,fe,null,l,q)}for(R in l)if(q=l[R],Q=a[R],l.hasOwnProperty(R)&&q!==Q&&(q!=null||Q!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xe(t,r,R,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)q=a[be],a.hasOwnProperty(be)&&q!=null&&!l.hasOwnProperty(be)&&Xe(t,r,be,null,l,q);for(L in l)if(q=l[L],Q=a[L],l.hasOwnProperty(L)&&q!==Q&&(q!=null||Q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Xe(t,r,L,q,l,Q)}return;default:if(Vo(r)){for(var ht in a)q=a[ht],a.hasOwnProperty(ht)&&q!==void 0&&!l.hasOwnProperty(ht)&&Bd(t,r,ht,void 0,l,q);for(Y in l)q=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||q===Q||q===void 0&&Q===void 0||Bd(t,r,Y,q,l,Q);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Xe(t,r,U,null,l,q);for(ee in l)q=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||q===Q||q==null&&Q==null||Xe(t,r,ee,q,l,Q)}var jd=null,Hd=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function N_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function qd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fd=null;function sb(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(lb)}:M_;function lb(t){setTimeout(function(){throw t})}function Gd(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){t.removeChild(f),Rl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Rl(r)}function Kd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),hs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ub(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function cb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Gn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function P_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function k_(t,r,a){switch(r=vc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Ln=new Map,L_=new Set;function Ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Yi=le.d;le.d={f:hb,r:fb,D:db,C:mb,L:pb,m:gb,X:_b,S:yb,M:vb};function hb(){var t=Yi.f(),r=fc();return t||r}function fb(t){var r=Ci(t);r!==null&&r.tag===5&&r.type==="form"?cy(r):Yi.r(t)}var Fa=typeof document>"u"?null:document;function U_(t,r,a){var l=Fa;if(l&&typeof r=="string"&&r){var f=lt(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),L_.has(f)||(L_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ht(r,"link",t),nt(r),l.head.appendChild(r)))}}function db(t){Yi.D(t),U_("dns-prefetch",t,null)}function mb(t,r){Yi.C(t,r),U_("preconnect",t,r)}function pb(t,r,a){Yi.L(t,r,a);var l=Fa;if(l&&t&&r){var f='link[rel="preload"][as="'+lt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+lt(a.imageSizes)+'"]')):f+='[href="'+lt(t)+'"]';var d=f;switch(r){case"style":d=Ga(t);break;case"script":d=Ka(t)}Ln.has(d)||(t=I({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ln.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(vl(d))||r==="script"&&l.querySelector(El(d))||(r=l.createElement("link"),Ht(r,"link",t),nt(r),l.head.appendChild(r)))}}function gb(t,r){Yi.m(t,r);var a=Fa;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!Ln.has(d)&&(t=I({rel:"modulepreload",href:t},r),Ln.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),Ht(l,"link",t),nt(l),a.head.appendChild(l)}}}function yb(t,r,a){Yi.S(t,r,a);var l=Fa;if(l&&t){var f=_r(l).hoistableStyles,d=Ga(t);r=r||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(vl(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ln.get(d))&&$d(t,a);var R=v=l.createElement("link");nt(R),Ht(R,"link",t),R._p=new Promise(function(L,Y){R.onload=L,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Tc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function _b(t,r){Yi.X(t,r);var a=Fa;if(a&&t){var l=_r(a).hoistableScripts,f=Ka(t),d=l.get(f);d||(d=a.querySelector(El(f)),d||(t=I({src:t,async:!0},r),(r=Ln.get(f))&&Qd(t,r),d=a.createElement("script"),nt(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function vb(t,r){Yi.M(t,r);var a=Fa;if(a&&t){var l=_r(a).hoistableScripts,f=Ka(t),d=l.get(f);d||(d=a.querySelector(El(f)),d||(t=I({src:t,async:!0,type:"module"},r),(r=Ln.get(f))&&Qd(t,r),d=a.createElement("script"),nt(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function z_(t,r,a,l){var f=(f=Tn.current)?Ec(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ga(a.href),a=_r(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=_r(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(vl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||Eb(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ka(a),a=_r(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ga(t){return'href="'+lt(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function B_(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function Eb(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ht(r,"link",a),nt(r),t.head.appendChild(r))}function Ka(t){return'[src="'+lt(t)+'"]'}function El(t){return"script[async]"+t}function j_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return r.instance=l,nt(l),l;var f=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),Ht(l,"style",f),Tc(l,a.precedence,t),r.instance=l;case"stylesheet":f=Ga(a.href);var d=t.querySelector(vl(f));if(d)return r.state.loading|=4,r.instance=d,nt(d),d;l=B_(a),(f=Ln.get(f))&&$d(l,f),d=(t.ownerDocument||t).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Ht(d,"link",l),r.state.loading|=4,Tc(d,a.precedence,t),r.instance=d;case"script":return d=Ka(a.src),(f=t.querySelector(El(d)))?(r.instance=f,nt(f),f):(l=a,(f=Ln.get(d))&&(l=I({},a),Qd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),nt(f),Ht(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,Tc(l,a.precedence,t));return r.instance}function Tc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function $d(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Sc=null;function H_(t,r,a){if(Sc===null){var l=new Map,f=Sc=new Map;f.set(a,l)}else f=Sc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gr]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function q_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Tb(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function F_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Tl=null;function Sb(){}function Ab(t,r,a){if(Tl===null)throw Error(s(475));var l=Tl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var f=Ga(a.href),d=t.querySelector(vl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ac.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,nt(d);return}d=t.ownerDocument||t,a=B_(a),(f=Ln.get(f))&&$d(a,f),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Ht(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=Ac.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function bb(){if(Tl===null)throw Error(s(475));var t=Tl;return t.stylesheets&&t.count===0&&Yd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ac(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Yd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,r.forEach(wb,t),bc=null,Ac.call(t))}function wb(t,r){if(!(r.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Ac.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Sl={$$typeof:N,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function Rb(t,r,a,l,f,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function G_(t,r,a,l,f,d,v,T,R,L,Y,ee){return t=new Rb(t,r,a,v,T,R,L,ee),r=1,d===!0&&(r|=24),d=Pn(3,null,null,r),t.current=d,d.stateNode=t,r=Cf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},od(d),t}function K_(t){return t?(t=ba,t):ba}function $_(t,r,a,l,f,d){f=K_(f),l.context===null?l.context=f:l.pendingContext=f,l=Nr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xr(t,l,r),a!==null&&(an(a,t,r),sl(a,t,r))}function Q_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Xd(t,r){Q_(t,r),(t=t.alternate)&&Q_(t,r)}function Y_(t){if(t.tag===13){var r=br(t,67108864);r!==null&&an(r,t,67108864),Xd(t,67108864)}}var wc=!0;function Cb(t,r,a,l){var f=b.T;b.T=null;var d=le.p;try{le.p=2,Wd(t,r,a,l)}finally{le.p=d,b.T=f}}function Ib(t,r,a,l){var f=b.T;b.T=null;var d=le.p;try{le.p=8,Wd(t,r,a,l)}finally{le.p=d,b.T=f}}function Wd(t,r,a,l){if(wc){var f=Zd(l);if(f===null)zd(t,r,l,Rc,a),W_(t,l);else if(Ob(f,t,r,a,l))l.stopPropagation();else if(W_(t,l),r&4&&-1<Db.indexOf(t)){for(;f!==null;){var d=Ci(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-tn(v);T.entanglements[1]|=R,v&=~R}fi(d),!(rt&6)&&(uc=on()+500,gl(0))}}break;case 13:T=br(d,2),T!==null&&an(T,d,2),fc(),Xd(d,2)}if(d=Zd(l),d===null&&zd(t,r,l,Rc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else zd(t,r,l,null,a)}}function Zd(t){return t=fa(t),Jd(t)}var Rc=null;function Jd(t){if(Rc=null,t=jn(t),t!==null){var r=pe(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=Ge(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Rc=t,null}function X_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hu()){case St:return 2;case Nt:return 8;case wi:case fu:return 32;case bo:return 268435456;default:return 32}default:return 32}}var em=!1,zr=null,Br=null,jr=null,Al=new Map,bl=new Map,Hr=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(t,r){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Al.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(r.pointerId)}}function wl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Ci(r),r!==null&&Y_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Ob(t,r,a,l,f){switch(r){case"focusin":return zr=wl(zr,t,r,a,l,f),!0;case"dragenter":return Br=wl(Br,t,r,a,l,f),!0;case"mouseover":return jr=wl(jr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Al.set(d,wl(Al.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,bl.set(d,wl(bl.get(d)||null,t,r,a,l,f)),!0}return!1}function Z_(t){var r=jn(t.target);if(r!==null){var a=pe(r);if(a!==null){if(r=a.tag,r===13){if(r=Ge(a),r!==null){t.blockedOn=r,pr(t.priority,function(){if(a.tag===13){var l=_n(),f=br(a,l);f!==null&&an(f,a,l),Xd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wn=l,a.target.dispatchEvent(l),wn=null}else return r=Ci(a),r!==null&&Y_(r),t.blockedOn=a,!1;r.shift()}return!0}function J_(t,r,a){Cc(t)&&a.delete(r)}function Nb(){em=!1,zr!==null&&Cc(zr)&&(zr=null),Br!==null&&Cc(Br)&&(Br=null),jr!==null&&Cc(jr)&&(jr=null),Al.forEach(J_),bl.forEach(J_)}function Ic(t,r){t.blockedOn===r&&(t.blockedOn=null,em||(em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Nb)))}var Dc=null;function ev(t){Dc!==t&&(Dc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Jd(l||a)===null)continue;break}var d=Ci(a);d!==null&&(t.splice(r,3),r-=3,qf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Rl(t){function r(R){return Ic(R,t)}zr!==null&&Ic(zr,t),Br!==null&&Ic(Br,t),jr!==null&&Ic(jr,t),Al.forEach(r),bl.forEach(r);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)Z_(a),a.blockedOn===null&&Hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[At]||null;if(typeof d=="function")v||ev(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[At]||null)T=v.formAction;else if(Jd(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ev(a)}}}function tm(t){this._internalRoot=t}Oc.prototype.render=tm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();$_(a,l,t,r,null,null)},Oc.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&ja(),$_(t.current,2,null,t,null,null),fc(),r[Ri]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var r=yu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Hr.length&&r!==0&&r<Hr[a].priority;a++);Hr.splice(a,0,t),a===0&&Z_(t)}};var tv=e.version;if(tv!=="19.0.0")throw Error(s(527,tv,"19.0.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(r),t=t!==null?de(t):null,t=t===null?null:t.stateNode,t};var xb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{ur=Nc.inject(xb),Kt=Nc}catch{}}return Il.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=_y,d=vy,v=Ey,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=G_(t,1,!1,null,null,a,l,f,d,v,T,null),t[Ri]=r.current,Ud(t.nodeType===8?t.parentNode:t),new tm(r)},Il.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=_y,v=vy,T=Ey,R=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),r=G_(t,1,!0,r,a??null,l,f,d,v,T,R,L),r.context=K_(null),a=r.current,l=_n(),f=Nr(l),f.callback=null,xr(a,f,l),r.current.lanes=l,ft(r,l),fi(r),t[Ri]=r.current,Ud(t),new Oc(r)},Il.version="19.0.0",Il}var hv;function Hb(){if(hv)return rm.exports;hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rm.exports=jb(),rm.exports}var qb=Hb(),Dl={},fv;function Fb(){if(fv)return Dl;fv=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=h,Dl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function h(C,N){const O=new u,H=C.length;if(H<2)return O;const x=(N==null?void 0:N.decode)||E;let K=0;do{const J=C.indexOf("=",K);if(J===-1)break;const X=C.indexOf(";",K),he=X===-1?H:X;if(J>he){K=C.lastIndexOf(";",J-1)+1;continue}const ae=m(C,K,J),ye=p(C,J,ae),M=C.slice(ae,ye);if(O[M]===void 0){let w=m(C,J+1,he),b=p(C,he,w);const I=x(C.slice(w,b));O[M]=I}K=he+1}while(K<H);return O}function m(C,N,O){do{const H=C.charCodeAt(N);if(H!==32&&H!==9)return N}while(++N<O);return O}function p(C,N,O){for(;N>O;){const H=C.charCodeAt(--N);if(H!==32&&H!==9)return N+1}return O}function g(C,N,O){const H=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(C))throw new TypeError(`argument name is invalid: ${C}`);const x=H(N);if(!e.test(x))throw new TypeError(`argument val is invalid: ${N}`);let K=C+"="+x;if(!O)return K;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);K+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);K+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);K+="; Path="+O.path}if(O.expires){if(!A(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);K+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(K+="; HttpOnly"),O.secure&&(K+="; Secure"),O.partitioned&&(K+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return K}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function A(C){return o.call(C)==="[object Date]"}return Dl}Fb();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dv="popstate";function Gb(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=Ws(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),wm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Bl(u))}function s(o,u){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return $b(e,n,s,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kb(){return Math.random().toString(36).substring(2,10)}function mv(i,e){return{usr:i.state,key:i.key,idx:e}}function wm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ws(e):e,state:n,key:e&&e.key||s||Kb()}}function Bl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ws(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function $b(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function A(){m="POP";let x=E(),K=x==null?null:x-g;g=x,p&&p({action:m,location:H.location,delta:K})}function C(x,K){m="PUSH";let J=wm(H.location,x,K);n&&n(J,x),g=E()+1;let X=mv(J,g),he=H.createHref(J);try{h.pushState(X,"",he)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(he)}u&&p&&p({action:m,location:H.location,delta:1})}function N(x,K){m="REPLACE";let J=wm(H.location,x,K);n&&n(J,x),g=E();let X=mv(J,g),he=H.createHref(J);h.replaceState(X,"",he),u&&p&&p({action:m,location:H.location,delta:0})}function O(x){let K=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof x=="string"?x:Bl(x);return J=J.replace(/ $/,"%20"),st(K,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,K)}let H={get action(){return m},get location(){return i(o,h)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,A),p=x,()=>{o.removeEventListener(dv,A),p=null}},createHref(x){return e(o,x)},createURL:O,encodeLocation(x){let K=O(x);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:C,replace:N,go(x){return h.go(x)}};return H}function e0(i,e,n="/"){return Qb(i,e,n,!1)}function Qb(i,e,n,s){let o=typeof e=="string"?Ws(e):e,u=ts(o.pathname||"/",n);if(u==null)return null;let h=t0(i);Yb(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=aw(u);m=rw(h[p],g,s)}return m}function t0(i,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=er([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),t0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:nw(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of n0(u.path))o(u,h,p)}),e}function n0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=n0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Yb(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:iw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Xb=/^:[\w-]+$/,Wb=3,Zb=2,Jb=1,ew=10,tw=-2,pv=i=>i==="*";function nw(i,e){let n=i.split("/"),s=n.length;return n.some(pv)&&(s+=tw),e&&(s+=Zb),n.filter(o=>!pv(o)).reduce((o,u)=>o+(Xb.test(u)?Wb:u===""?Jb:ew),s)}function iw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function rw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),C=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:er([u,A.pathname]),pathnameBase:cw(er([u,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(u=er([u,A.pathnameBase]))}return h}function rh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=sw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},C)=>{if(E==="*"){let O=m[C]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const N=m[C];return A&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function sw(i,e=!1,n=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function aw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ts(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function ow(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ws(i):i;return{pathname:n?n.startsWith("/")?n:lw(n,e):e,search:hw(s),hash:fw(o)}}function lw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function i0(i){let e=uw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function r0(i,e,n,s=!1){let o;typeof i=="string"?o=Ws(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let A=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),A-=1;o.pathname=C.join("/")}m=A>=0?e[A]:"/"}let p=ow(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var er=i=>i.join("/").replace(/\/\/+/g,"/"),cw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),hw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,fw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function dw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var s0=["POST","PUT","PATCH","DELETE"];new Set(s0);var mw=["GET",...s0];new Set(mw);var fo=G.createContext(null);fo.displayName="DataRouter";var Oh=G.createContext(null);Oh.displayName="DataRouterState";var a0=G.createContext({isTransitioning:!1});a0.displayName="ViewTransition";var pw=G.createContext(new Map);pw.displayName="Fetchers";var gw=G.createContext(null);gw.displayName="Await";var Ti=G.createContext(null);Ti.displayName="Navigation";var Wl=G.createContext(null);Wl.displayName="Location";var Si=G.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var ip=G.createContext(null);ip.displayName="RouteError";function yw(i,{relative:e}={}){st(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Ti),{hash:o,pathname:u,search:h}=Jl(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Zl(){return G.useContext(Wl)!=null}function Zs(){return st(Zl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Wl).location}var o0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l0(i){G.useContext(Ti).static||G.useLayoutEffect(i)}function _w(){let{isDataRoute:i}=G.useContext(Si);return i?Mw():vw()}function vw(){st(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(fo),{basename:e,navigator:n}=G.useContext(Ti),{matches:s}=G.useContext(Si),{pathname:o}=Zs(),u=JSON.stringify(i0(s)),h=G.useRef(!1);return l0(()=>{h.current=!0}),G.useCallback((p,g={})=>{if(Yn(h.current,o0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=r0(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}var Ew=G.createContext(null);function Tw(i){let e=G.useContext(Si).outlet;return e&&G.createElement(Ew.Provider,{value:i},e)}function Jl(i,{relative:e}={}){let{matches:n}=G.useContext(Si),{pathname:s}=Zs(),o=JSON.stringify(i0(n));return G.useMemo(()=>r0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Sw(i,e){return u0(i,e)}function u0(i,e,n,s){var J;st(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(Ti),{matches:h}=G.useContext(Si),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let X=A&&A.path||"";c0(g,!A||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let C=Zs(),N;if(e){let X=typeof e=="string"?Ws(e):e;st(E==="/"||((J=X.pathname)==null?void 0:J.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),N=X}else N=C;let O=N.pathname||"/",H=O;if(E!=="/"){let X=E.replace(/^\//,"").split("/");H="/"+O.replace(/^\//,"").split("/").slice(X.length).join("/")}let x=!u&&n&&n.matches&&n.matches.length>0?n.matches:e0(i,{pathname:H});Yn(A||x!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Yn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Cw(x&&x.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:er([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:er([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,n,s);return e&&K?G.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},K):K}function Aw(){let i=xw(),e=dw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,h)}var bw=G.createElement(Aw,null),ww=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?G.createElement(Si.Provider,{value:this.props.routeContext},G.createElement(ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rw({routeContext:i,match:e,children:n}){let s=G.useContext(fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Si.Provider,{value:i},n)}function Cw(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,C=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||C){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,C=!1,N=null,O=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||bw,h&&(m<0&&E===0?(c0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):m===E&&(C=!0,O=g.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,E+1)),x=()=>{let K;return A?K=N:C?K=O:g.route.Component?K=G.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,G.createElement(Rw,{match:g,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(ww,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:x(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):x()},null)}function rp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(i){let e=G.useContext(fo);return st(e,rp(i)),e}function Dw(i){let e=G.useContext(Oh);return st(e,rp(i)),e}function Ow(i){let e=G.useContext(Si);return st(e,rp(i)),e}function sp(i){let e=Ow(i),n=e.matches[e.matches.length-1];return st(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Nw(){return sp("useRouteId")}function xw(){var s;let i=G.useContext(ip),e=Dw("useRouteError"),n=sp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Mw(){let{router:i}=Iw("useNavigate"),e=sp("useNavigate"),n=G.useRef(!1);return l0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Yn(n.current,o0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var gv={};function c0(i,e,n){!e&&!gv[i]&&(gv[i]=!0,Yn(!1,n))}G.memo(Vw);function Vw({routes:i,future:e,state:n}){return u0(i,void 0,n,e)}function Pw(i){return Tw(i.context)}function Bc(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Ws(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:C="default"}=n,N=G.useMemo(()=>{let O=ts(p,h);return O==null?null:{location:{pathname:O,search:g,hash:E,state:A,key:C},navigationType:s}},[h,p,g,E,A,C,s]);return Yn(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:G.createElement(Ti.Provider,{value:m},G.createElement(Wl.Provider,{children:e,value:N}))}function Lw({children:i,location:e}){return Sw(Rm(i),e)}function Rm(i,e=[]){let n=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Rm(s.props.children,u));return}st(s.type===Bc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Rm(s.props.children,u)),n.push(h)}),n}var jc="get",Hc="application/x-www-form-urlencoded";function Nh(i){return i!=null&&typeof i.tagName=="string"}function Uw(i){return Nh(i)&&i.tagName.toLowerCase()==="button"}function zw(i){return Nh(i)&&i.tagName.toLowerCase()==="form"}function Bw(i){return Nh(i)&&i.tagName.toLowerCase()==="input"}function jw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Hw(i,e){return i.button===0&&(!e||e==="_self")&&!jw(i)}var xc=null;function qw(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var Fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(i){return i!=null&&!Fw.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):i}function Gw(i,e){let n,s,o,u,h;if(zw(i)){let m=i.getAttribute("action");s=m?ts(m,e):null,n=i.getAttribute("method")||jc,o=um(i.getAttribute("enctype"))||Hc,u=new FormData(i)}else if(Uw(i)||Bw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ts(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||jc,o=um(i.getAttribute("formenctype"))||um(m.getAttribute("enctype"))||Hc,u=new FormData(m,i),!qw()){let{name:g,type:E,value:A}=i;if(E==="image"){let C=g?`${g}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else g&&u.append(g,A)}}else{if(Nh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jc,s=null,o=Hc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function ap(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Kw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $w(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Qw(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Kw(u,n);return h.links?h.links():[]}return[]}));return Zw(s.flat(1).filter($w).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yv(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Yw(i,e,{includeHydrateFallback:n}={}){return Xw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Xw(i){return[...new Set(i)]}function Ww(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Zw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Ww(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Jw(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function eR(){let i=G.useContext(fo);return ap(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function tR(){let i=G.useContext(Oh);return ap(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var op=G.createContext(void 0);op.displayName="FrameworkContext";function h0(){let i=G.useContext(op);return ap(i,"You must render this element inside a <HydratedRouter> element"),i}function nR(i,e){let n=G.useContext(op),[s,o]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,C=G.useRef(null);G.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let H=K=>{K.forEach(J=>{h(J.isIntersecting)})},x=new IntersectionObserver(H,{threshold:.5});return C.current&&x.observe(C.current),()=>{x.disconnect()}}},[i]),G.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let N=()=>{o(!0)},O=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,C,{}]:[u,C,{onFocus:Ol(m,N),onBlur:Ol(p,O),onMouseEnter:Ol(g,N),onMouseLeave:Ol(E,O),onTouchStart:Ol(A,N)}]:[!1,C,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function iR({page:i,...e}){let{router:n}=eR(),s=G.useMemo(()=>e0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(sR,{page:i,matches:s,...e}):null}function rR(i){let{manifest:e,routeModules:n}=h0(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Qw(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function sR({page:i,matches:e,...n}){let s=Zs(),{manifest:o,routeModules:u}=h0(),{loaderData:h,matches:m}=tR(),p=G.useMemo(()=>yv(i,e,m,o,s,"data"),[i,e,m,o,s]),g=G.useMemo(()=>yv(i,e,m,o,s,"assets"),[i,e,m,o,s]),E=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,O=!1;if(e.forEach(x=>{var J;let K=o.routes[x.route.id];!K||!K.hasLoader||(!p.some(X=>X.route.id===x.route.id)&&x.route.id in h&&((J=u[x.route.id])!=null&&J.shouldRevalidate)||K.hasClientLoader?O=!0:N.add(x.route.id))}),N.size===0)return[];let H=Jw(i);return O&&N.size>0&&H.searchParams.set("_routes",e.filter(x=>N.has(x.route.id)).map(x=>x.route.id).join(",")),[H.pathname+H.search]},[h,s,o,p,e,i,u]),A=G.useMemo(()=>Yw(g,o),[g,o]),C=rR(g);return G.createElement(G.Fragment,null,E.map(N=>G.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),A.map(N=>G.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),C.map(({key:N,link:O})=>G.createElement("link",{key:N,...O})))}function aR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var f0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f0&&(window.__reactRouterVersion="7.2.0")}catch{}function oR({basename:i,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=Gb({window:n,v5Compat:!0}));let o=s.current,[u,h]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>h(p))},[h]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(kw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var d0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sh=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...C},N){let{basename:O}=G.useContext(Ti),H=typeof g=="string"&&d0.test(g),x,K=!1;if(typeof g=="string"&&H&&(x=g,f0))try{let b=new URL(window.location.href),I=g.startsWith("//")?new URL(b.protocol+g):new URL(g),k=ts(I.pathname,O);I.origin===b.origin&&k!=null?g=k+I.search+I.hash:K=!0}catch{Yn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=yw(g,{relative:o}),[X,he,ae]=nR(s,C),ye=hR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function M(b){e&&e(b),b.defaultPrevented||ye(b)}let w=G.createElement("a",{...C,...ae,href:x||J,onClick:K||u?e:M,ref:aR(N,he),target:p,"data-discover":!H&&n==="render"?"true":void 0});return X&&!H?G.createElement(G.Fragment,null,w,G.createElement(iR,{page:J})):w});sh.displayName="Link";var lR=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let A=Jl(h,{relative:g.relative}),C=Zs(),N=G.useContext(Oh),{navigator:O,basename:H}=G.useContext(Ti),x=N!=null&&gR(A)&&m===!0,K=O.encodeLocation?O.encodeLocation(A).pathname:A.pathname,J=C.pathname,X=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(J=J.toLowerCase(),X=X?X.toLowerCase():null,K=K.toLowerCase()),X&&H&&(X=ts(X,H)||X);const he=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ae=J===K||!o&&J.startsWith(K)&&J.charAt(he)==="/",ye=X!=null&&(X===K||!o&&X.startsWith(K)&&X.charAt(K.length)==="/"),M={isActive:ae,isPending:ye,isTransitioning:x},w=ae?e:void 0,b;typeof s=="function"?b=s(M):b=[s,ae?"active":null,ye?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return G.createElement(sh,{...g,"aria-current":w,className:b,ref:E,style:I,to:h,viewTransition:m},typeof p=="function"?p(M):p)});lR.displayName="NavLink";var uR=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=jc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...C},N)=>{let O=mR(),H=pR(m,{relative:g}),x=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&d0.test(m),J=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let he=X.nativeEvent.submitter,ae=(he==null?void 0:he.getAttribute("formmethod"))||h;O(he||X.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return G.createElement("form",{ref:N,method:x,action:H,onSubmit:s?p:J,...C,"data-discover":!K&&i==="render"?"true":void 0})});uR.displayName="Form";function cR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m0(i){let e=G.useContext(fo);return st(e,cR(i)),e}function hR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=_w(),p=Zs(),g=Jl(i,{relative:u});return G.useCallback(E=>{if(Hw(E,e)){E.preventDefault();let A=n!==void 0?n:Bl(p)===Bl(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var fR=0,dR=()=>`__${String(++fR)}__`;function mR(){let{router:i}=m0("useSubmit"),{basename:e}=G.useContext(Ti),n=Nw();return G.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=Gw(s,e);if(o.navigate===!1){let E=o.fetcherKey||dR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function pR(i,{relative:e}={}){let{basename:n}=G.useContext(Ti),s=G.useContext(Si);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Jl(i||".",{relative:e})},h=Zs();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Bl(u)}function gR(i,e={}){let n=G.useContext(a0);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=m0("useViewTransitionState"),o=Jl(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ts(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ts(n.nextLocation.pathname,s)||n.nextLocation.pathname;return rh(o.pathname,h)!=null||rh(o.pathname,u)!=null}new TextEncoder;var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},yR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},g0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let C=(m&15)<<2|g>>6,N=g&63;p||(N=64,h||(C=64)),s.push(n[E],n[A],n[C],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(p0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):yR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new _R;const C=u<<2|m>>4;if(s.push(C),g!==64){const N=m<<4&240|g>>2;if(s.push(N),A!==64){const O=g<<6&192|A;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(i){const e=p0(i);return g0.encodeByteArray(e,!0)},ah=function(i){return vR(i).replace(/\./g,"")},y0=function(i){try{return g0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>ER().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof _v>"u")return;const i=_v.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},AR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&y0(i[1]);return e&&JSON.parse(e)},xh=()=>{try{return TR()||SR()||AR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_0=i=>{var e,n;return(n=(e=xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},bR=i=>{const e=_0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},v0=()=>{var i;return(i=xh())===null||i===void 0?void 0:i.config},E0=i=>{var e;return(e=xh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ah(JSON.stringify(n)),ah(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function IR(){var i;const e=(i=xh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function NR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function MR(){return!IR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function PR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="FirebaseError";class ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=kR,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?LR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ar(o,m,s)}}function LR(i,e){return i.replace(UR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UR=/\{\$([^}]+)}/g;function zR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function oh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(vv(u)&&vv(h)){if(!oh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function vv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function BR(i,e){const n=new jR(i,e);return n.subscribe.bind(n)}class jR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=cm),o.error===void 0&&(o.error=cm),o.complete===void 0&&(o.complete=cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(i){return i&&i._delegate?i._delegate:i}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GR(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FR(i){return i===Bs?void 0:i}function GR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const $R={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},QR=Me.INFO,YR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},XR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=YR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const WR=(i,e)=>e.some(n=>i instanceof n);let Ev,Tv;function ZR(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JR(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Cm=new WeakMap,S0=new WeakMap,hm=new WeakMap,up=new WeakMap;function e1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Yr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&T0.set(n,i)}).catch(()=>{}),up.set(e,i),e}function t1(i){if(Cm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Cm.set(i,e)}let Im={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Cm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||S0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function n1(i){Im=i(Im)}function i1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(fm(this),e,...n);return S0.set(s,e.sort?e.sort():[e]),Yr(s)}:JR().includes(i)?function(...e){return i.apply(fm(this),e),Yr(T0.get(this))}:function(...e){return Yr(i.apply(fm(this),e))}}function r1(i){return typeof i=="function"?i1(i):(i instanceof IDBTransaction&&t1(i),WR(i,ZR())?new Proxy(i,Im):i)}function Yr(i){if(i instanceof IDBRequest)return e1(i);if(hm.has(i))return hm.get(i);const e=r1(i);return e!==i&&(hm.set(i,e),up.set(e,i)),e}const fm=i=>up.get(i);function s1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Yr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Yr(h.result),p.oldVersion,p.newVersion,Yr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const a1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],dm=new Map;function Sv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=o1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||a1.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return dm.set(e,u),u}n1(i=>({...i,get:(e,n,s)=>Sv(e,n)||i.get(e,n,s),has:(e,n)=>!!Sv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function u1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dm="@firebase/app",Av="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new lp("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",m1="@firebase/app-check",p1="@firebase/auth",g1="@firebase/auth-compat",y1="@firebase/database",_1="@firebase/data-connect",v1="@firebase/database-compat",E1="@firebase/functions",T1="@firebase/functions-compat",S1="@firebase/installations",A1="@firebase/installations-compat",b1="@firebase/messaging",w1="@firebase/messaging-compat",R1="@firebase/performance",C1="@firebase/performance-compat",I1="@firebase/remote-config",D1="@firebase/remote-config-compat",O1="@firebase/storage",N1="@firebase/storage-compat",x1="@firebase/firestore",M1="@firebase/vertexai",V1="@firebase/firestore-compat",P1="firebase",k1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",L1={[Dm]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[m1]:"fire-app-check",[d1]:"fire-app-check-compat",[p1]:"fire-auth",[g1]:"fire-auth-compat",[y1]:"fire-rtdb",[_1]:"fire-data-connect",[v1]:"fire-rtdb-compat",[E1]:"fire-fn",[T1]:"fire-fn-compat",[S1]:"fire-iid",[A1]:"fire-iid-compat",[b1]:"fire-fcm",[w1]:"fire-fcm-compat",[R1]:"fire-perf",[C1]:"fire-perf-compat",[I1]:"fire-rc",[D1]:"fire-rc-compat",[O1]:"fire-gcs",[N1]:"fire-gcs-compat",[x1]:"fire-fst",[V1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[P1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,U1=new Map,Nm=new Map;function bv(i,e){try{i.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function no(i){const e=i.name;if(Nm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,i);for(const n of lh.values())bv(n,i);for(const n of U1.values())bv(n,i);return!0}function cp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Kn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new eu("app","Firebase",z1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=k1;function A0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Om,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Xr.create("bad-app-name",{appName:String(o)});if(n||(n=v0()),!n)throw Xr.create("no-options");const u=lh.get(o);if(u){if(oh(n,u.options)&&oh(s,u.config))return u;throw Xr.create("duplicate-app",{appName:o})}const h=new KR(o);for(const p of Nm.values())h.addComponent(p);const m=new B1(n,s,h);return lh.set(o,m),m}function b0(i=Om){const e=lh.get(i);if(!e&&i===Om&&v0())return A0();if(!e)throw Xr.create("no-app",{appName:i});return e}function Wr(i,e,n){var s;let o=(s=L1[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}no(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firebase-heartbeat-database",H1=1,jl="firebase-heartbeat-store";let mm=null;function w0(){return mm||(mm=s1(j1,H1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Xr.create("idb-open",{originalErrorMessage:i.message})})),mm}async function q1(i){try{const n=(await w0()).transaction(jl),s=await n.objectStore(jl).get(R0(i));return await n.done,s}catch(e){if(e instanceof ar)nr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function wv(i,e){try{const s=(await w0()).transaction(jl,"readwrite");await s.objectStore(jl).put(e,R0(i)),await s.done}catch(n){if(n instanceof ar)nr.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(s.message)}}}function R0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=1024,G1=30;class K1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Rv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>G1){const h=Y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rv(),{heartbeatsToSend:s,unsentEntries:o}=$1(this._heartbeatsCache.heartbeats),u=ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function $1(i,e=F1){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Cv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?PR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Cv(i){return ah(JSON.stringify({version:2,heartbeats:i})).length}function Y1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(i){no(new Ks("platform-logger",e=>new l1(e),"PRIVATE")),no(new Ks("heartbeat",e=>new K1(e),"PRIVATE")),Wr(Dm,Av,i),Wr(Dm,Av,"esm2017"),Wr("fire-js","")}X1("");function hp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W1=C0,I0=new eu("auth","Firebase",C0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new lp("@firebase/auth");function Z1(i,...e){uh.logLevel<=Me.WARN&&uh.warn(`Auth (${mo}): ${i}`,...e)}function qc(i,...e){uh.logLevel<=Me.ERROR&&uh.error(`Auth (${mo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(i,...e){throw dp(i,...e)}function Qn(i,...e){return dp(i,...e)}function fp(i,e,n){const s=Object.assign(Object.assign({},W1()),{[e]:n});return new eu("auth","Firebase",s).create(e,{appName:i.name})}function Fs(i){return fp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J1(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&_i(i,"argument-error"),fp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return I0.create(i,...e)}function Se(i,e,...n){if(!i)throw dp(e,...n)}function Wi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw qc(e),new Error(e)}function ir(i,e){i||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function eC(){return Iv()==="http:"||Iv()==="https:"}function Iv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eC()||OR()||"connection"in navigator)?navigator.onLine:!0}function nC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=CR()||NR()}get(){return tC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i,e){ir(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new nu(3e4,6e4);function pp(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function po(i,e,n,s,o={}){return O0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=tu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return DR()||(g.referrerPolicy="no-referrer"),D0.fetch()(N0(i,i.config.apiHost,n,m),g)})}async function O0(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},iC),e);try{const o=new aC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Mc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Mc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Mc(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fp(i,E,g);_i(i,E)}}catch(o){if(o instanceof ar)throw o;_i(i,"network-request-failed",{message:String(o)})}}async function sC(i,e,n,s,o={}){const u=await po(i,e,n,s,o);return"mfaPendingCredential"in u&&_i(i,"multi-factor-auth-required",{_serverResponse:u}),u}function N0(i,e,n,s){const o=`${e}${n}?${s}`;return i.config.emulator?mp(i.config,o):`${i.config.apiScheme}://${o}`}class aC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),rC.get())})}}function Mc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qn(i,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(i,e){return po(i,"POST","/v1/accounts:delete",e)}async function x0(i,e){return po(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lC(i,e=!1){const n=En(i),s=await n.getIdToken(e),o=gp(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Pl(pm(o.auth_time)),issuedAtTime:Pl(pm(o.iat)),expirationTime:Pl(pm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function pm(i){return Number(i)*1e3}function gp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=y0(n);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Dv(i){const e=gp(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ar&&uC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function uC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Hl(i,x0(n,{idToken:s}));Se(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?M0(u.providerUserInfo):[],m=fC(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Mm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function hC(i){const e=En(i);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function M0(i){return i.map(e=>{var{providerId:n}=e,s=hp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(i,e){const n=await O0(i,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=N0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",D0.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mC(i,e){return po(i,"POST","/v2/accounts:revokeToken",pp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=Dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await dC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Wa;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=hp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Mm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lC(this,e)}reload(){return hC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await Hl(this,oC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=n.photoURL)!==null&&h!==void 0?h:void 0,H=(m=n.tenantId)!==null&&m!==void 0?m:void 0,x=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,J=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:he,isAnonymous:ae,providerData:ye,stsTokenManager:M}=n;Se(X&&M,e,"internal-error");const w=Wa.fromJSON(this.name,M);Se(typeof X=="string",e,"internal-error"),Fr(A,e.name),Fr(C,e.name),Se(typeof he=="boolean",e,"internal-error"),Se(typeof ae=="boolean",e,"internal-error"),Fr(N,e.name),Fr(O,e.name),Fr(H,e.name),Fr(x,e.name),Fr(K,e.name),Fr(J,e.name);const b=new Zi({uid:X,auth:e,email:C,emailVerified:he,displayName:A,isAnonymous:ae,photoURL:O,phoneNumber:N,tenantId:H,stsTokenManager:w,createdAt:K,lastLoginAt:J});return ye&&Array.isArray(ye)&&(b.providerData=ye.map(I=>Object.assign({},I))),x&&(b._redirectEventId=x),b}static async _fromIdTokenResponse(e,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?M0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Wa;m.updateFromIdToken(s);const p=new Zi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;function Ji(i){ir(i instanceof Function,"Expected a class definition");let e=Ov.get(i);return e?(ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Ov.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}V0.type="NONE";const Nv=V0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(i,e,n){return`firebase:${i}:${e}:${n}`}class Za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Fc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Za(Ji(Nv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ji(Nv);const h=Fc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){const A=Zi._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B0(e))return"Blackberry";if(j0(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||L0(e))&&!e.includes("edge/"))return"Chrome";if(z0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function P0(i=Jt()){return/firefox\//i.test(i)}function k0(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L0(i=Jt()){return/crios\//i.test(i)}function U0(i=Jt()){return/iemobile/i.test(i)}function z0(i=Jt()){return/android/i.test(i)}function B0(i=Jt()){return/blackberry/i.test(i)}function j0(i=Jt()){return/webos/i.test(i)}function yp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function pC(i=Jt()){var e;return yp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gC(){return xR()&&document.documentMode===10}function H0(i=Jt()){return yp(i)||z0(i)||j0(i)||B0(i)||/windows phone/i.test(i)||U0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(i,e=[]){let n;switch(i){case"Browser":n=xv(Jt());break;case"Worker":n=`${xv(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(i,e={}){return po(i,"GET","/v2/passwordPolicy",pp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=6;class EC{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:vC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new yC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await x0(this,{idToken:e}),s=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Fs(this));const n=e?En(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _C(this),n=new EC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Z1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mh(i){return En(i)}class Mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SC(i){_p=i}function AC(i){return _p.loadJS(i)}function bC(){return _p.gapiScript}function wC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(i,e){const n=cp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(oh(u,e??{}))return o;_i(o,"already-initialized")}return n.initialize({options:e})}function CC(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ji);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function IC(i,e,n){const s=Mh(i);Se(s._canInitEmulator,s,"emulator-config-failed"),Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=F0(e),{host:h,port:m}=DC(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),OC()}function F0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function DC(i){const e=F0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Vv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Vv(h)}}}function Vv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function OC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(i,e){return sC(i,"POST","/v1/accounts:signInWithIdp",pp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="http://localhost";class $s extends G0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=hp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new $s(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:NC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends iu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends iu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends iu{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zi._fromIdTokenResponse(e,s,o),h=Pv(s);return new io({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Pv(s);return new io({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Pv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends ar{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new hh(e,n,s,o)}}function K0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(i,u,e,s):u})}async function xC(i,e,n=!1){const s=await Hl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return io._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(i,e,n=!1){const{auth:s}=i;if(Kn(s.app))return Promise.reject(Fs(s));const o="reauthenticate";try{const u=await Hl(i,K0(s,o,e,i),n);Se(u.idToken,s,"internal-error");const h=gp(u.idToken);Se(h,s,"internal-error");const{sub:m}=h;return Se(i.uid===m,s,"user-mismatch"),io._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&_i(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(i,e,n=!1){if(Kn(i.app))return Promise.reject(Fs(i));const s="signIn",o=await K0(i,s,e),u=await io._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function PC(i,e,n,s){return En(i).onIdTokenChanged(e,n,s)}function kC(i,e,n){return En(i).beforeAuthStateChanged(e,n)}function LC(i,e,n,s){return En(i).onAuthStateChanged(e,n,s)}function UC(i){return En(i).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=1e3,BC=10;class Q0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);gC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q0.type="LOCAL";const jC=Q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y0.type="SESSION";const X0=Y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Vh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await HC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Ep("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function FC(i){pi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function GC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function $C(){return W0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="firebaseLocalStorageDb",QC=1,dh="firebaseLocalStorage",J0="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(i,e){return i.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function YC(){const i=indexedDB.deleteDatabase(Z0);return new ru(i).toPromise()}function Vm(){const i=indexedDB.open(Z0,QC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(dh,{keyPath:J0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(dh)?e(s):(s.close(),await YC(),e(await Vm()))})})}async function kv(i,e,n){const s=Ph(i,!0).put({[J0]:e,value:n});return new ru(s).toPromise()}async function XC(i,e){const n=Ph(i,!1).get(e),s=await new ru(n).toPromise();return s===void 0?null:s.value}function Lv(i,e){const n=Ph(i,!0).delete(e);return new ru(n).toPromise()}const WC=800,ZC=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ZC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance($C()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await kv(e,fh,"1"),await Lv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>kv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>XC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const JC=eT;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(i,e){return e?Ji(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends G0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eI(i){return VC(i.auth,new Tp(i),i.bypassAuthState)}function tI(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),MC(n,new Tp(i),i.bypassAuthState)}async function nI(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),xC(n,new Tp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eI;case"linkViaPopup":case"linkViaRedirect":return nI;case"reauthViaPopup":case"reauthViaRedirect":return tI;default:_i(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new nu(2e3,1e4);async function iT(i,e,n){if(Kn(i.app))return Promise.reject(Qn(i,"operation-not-supported-in-this-environment"));const s=Mh(i);J1(i,e,vp);const o=tT(s,n);return new js(s,"signInViaPopup",e,o).executeNotNull()}class js extends nT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iI.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="pendingRedirect",Gc=new Map;class sI extends nT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const s=await aI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aI(i,e){const n=uI(e),s=lI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oI(i,e){Gc.set(i._key(),e)}function lI(i){return Ji(i._redirectPersistence)}function uI(i){return Fc(rI,i.config.apiKey,i.name)}async function cI(i,e,n=!1){if(Kn(i.app))return Promise.reject(Fs(i));const s=Mh(i),o=tT(s,e),h=await new sI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=10*60*1e3;class fI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(e))}saveEventToCache(e){this.cachedEventUids.add(Uv(e)),this.lastProcessedEventTime=Date.now()}}function Uv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function rT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(i,e={}){return po(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gI=/^https?/;async function yI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await mI(i);for(const n of e)try{if(_I(n))return}catch{}_i(i,"unauthorized-domain")}function _I(i){const e=xm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!gI.test(n))return!1;if(pI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new nu(3e4,6e4);function zv(){const i=pi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function EI(i){return new Promise((e,n)=>{var s,o,u;function h(){zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(Qn(i,"network-request-failed"))},timeout:vI.get()})}if(!((o=(s=pi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=pi().gapi)===null||u===void 0)&&u.load)h();else{const m=wC("iframefcb");return pi()[m]=()=>{gapi.load?h():n(Qn(i,"network-request-failed"))},AC(`${bC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function TI(i){return Kc=Kc||EI(i),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new nu(5e3,15e3),AI="__/auth/iframe",bI="emulator/auth/iframe",wI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CI(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?mp(e,bI):`https://${i.config.authDomain}/${AI}`,s={apiKey:e.apiKey,appName:i.name,v:mo},o=RI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${tu(s).slice(1)}`}async function II(i){const e=await TI(i),n=pi().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:CI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Qn(i,"network-request-failed"),m=pi().setTimeout(()=>{u(h)},SI.get());function p(){pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OI=500,NI=600,xI="_blank",MI="http://localhost";class Bv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VI(i,e,n,s=OI,o=NI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},DI),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();n&&(m=L0(g)?xI:n),P0(g)&&(e=e||MI,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[N,O])=>`${C}${N}=${O},`,"");if(pC(g)&&m!=="_self")return PI(e||"",m),new Bv(null);const A=window.open(e||"",m,E);Se(A,i,"popup-blocked");try{A.focus()}catch{}return new Bv(A)}function PI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="__/auth/handler",LI="emulator/auth/handler",UI=encodeURIComponent("fac");async function jv(i,e,n,s,o,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(e instanceof vp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",zR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof iu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${UI}=${encodeURIComponent(p)}`:"";return`${zI(i)}?${tu(m).slice(1)}${g}`}function zI({config:i}){return i.emulator?mp(i,LI):`https://${i.authDomain}/${kI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class BI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X0,this._completeRedirectFn=cI,this._overrideRedirectResult=oI}async _openPopup(e,n,s,o){var u;ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await jv(e,n,s,xm(),o);return VI(e,h,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await jv(e,n,s,xm(),o);return FC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await II(e),s=new fI(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[gm];h!==void 0&&n(!!h),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H0()||k0()||yp()}}const jI=BI;var Hv="@firebase/auth",qv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FI(i){no(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(i)},g=new TC(s,o,u,p);return CC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),no(new Ks("auth-internal",e=>{const n=Mh(e.getProvider("auth").getImmediate());return(s=>new HI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(Hv,qv,qI(i)),Wr(Hv,qv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=5*60,KI=E0("authIdTokenMaxAge")||GI;let Fv=null;const $I=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>KI)return;const o=n==null?void 0:n.token;Fv!==o&&(Fv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QI(i=b0()){const e=cp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=RC(i,{popupRedirectResolver:jI,persistence:[JC,jC,X0]}),s=E0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=$I(u.toString());kC(n,h,()=>h(n.currentUser)),PC(n,m=>h(m))}}const o=_0("auth");return o&&IC(n,`http://${o}`),n}function YI(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}SC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",YI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FI("Browser");var XI="firebase",WI="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(XI,WI,"app");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,sT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,w){function b(){}b.prototype=w.prototype,M.D=w.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(I,k,B){for(var D=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)D[Tt-2]=arguments[Tt];return w.prototype[k].apply(I,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,b){b||(b=0);var I=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)I[k]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(k=0;16>k;++k)I[k]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=M.g[0],b=M.g[1],k=M.g[2];var B=M.g[3],D=w+(B^b&(k^B))+I[0]+3614090360&4294967295;w=b+(D<<7&4294967295|D>>>25),D=B+(k^w&(b^k))+I[1]+3905402710&4294967295,B=w+(D<<12&4294967295|D>>>20),D=k+(b^B&(w^b))+I[2]+606105819&4294967295,k=B+(D<<17&4294967295|D>>>15),D=b+(w^k&(B^w))+I[3]+3250441966&4294967295,b=k+(D<<22&4294967295|D>>>10),D=w+(B^b&(k^B))+I[4]+4118548399&4294967295,w=b+(D<<7&4294967295|D>>>25),D=B+(k^w&(b^k))+I[5]+1200080426&4294967295,B=w+(D<<12&4294967295|D>>>20),D=k+(b^B&(w^b))+I[6]+2821735955&4294967295,k=B+(D<<17&4294967295|D>>>15),D=b+(w^k&(B^w))+I[7]+4249261313&4294967295,b=k+(D<<22&4294967295|D>>>10),D=w+(B^b&(k^B))+I[8]+1770035416&4294967295,w=b+(D<<7&4294967295|D>>>25),D=B+(k^w&(b^k))+I[9]+2336552879&4294967295,B=w+(D<<12&4294967295|D>>>20),D=k+(b^B&(w^b))+I[10]+4294925233&4294967295,k=B+(D<<17&4294967295|D>>>15),D=b+(w^k&(B^w))+I[11]+2304563134&4294967295,b=k+(D<<22&4294967295|D>>>10),D=w+(B^b&(k^B))+I[12]+1804603682&4294967295,w=b+(D<<7&4294967295|D>>>25),D=B+(k^w&(b^k))+I[13]+4254626195&4294967295,B=w+(D<<12&4294967295|D>>>20),D=k+(b^B&(w^b))+I[14]+2792965006&4294967295,k=B+(D<<17&4294967295|D>>>15),D=b+(w^k&(B^w))+I[15]+1236535329&4294967295,b=k+(D<<22&4294967295|D>>>10),D=w+(k^B&(b^k))+I[1]+4129170786&4294967295,w=b+(D<<5&4294967295|D>>>27),D=B+(b^k&(w^b))+I[6]+3225465664&4294967295,B=w+(D<<9&4294967295|D>>>23),D=k+(w^b&(B^w))+I[11]+643717713&4294967295,k=B+(D<<14&4294967295|D>>>18),D=b+(B^w&(k^B))+I[0]+3921069994&4294967295,b=k+(D<<20&4294967295|D>>>12),D=w+(k^B&(b^k))+I[5]+3593408605&4294967295,w=b+(D<<5&4294967295|D>>>27),D=B+(b^k&(w^b))+I[10]+38016083&4294967295,B=w+(D<<9&4294967295|D>>>23),D=k+(w^b&(B^w))+I[15]+3634488961&4294967295,k=B+(D<<14&4294967295|D>>>18),D=b+(B^w&(k^B))+I[4]+3889429448&4294967295,b=k+(D<<20&4294967295|D>>>12),D=w+(k^B&(b^k))+I[9]+568446438&4294967295,w=b+(D<<5&4294967295|D>>>27),D=B+(b^k&(w^b))+I[14]+3275163606&4294967295,B=w+(D<<9&4294967295|D>>>23),D=k+(w^b&(B^w))+I[3]+4107603335&4294967295,k=B+(D<<14&4294967295|D>>>18),D=b+(B^w&(k^B))+I[8]+1163531501&4294967295,b=k+(D<<20&4294967295|D>>>12),D=w+(k^B&(b^k))+I[13]+2850285829&4294967295,w=b+(D<<5&4294967295|D>>>27),D=B+(b^k&(w^b))+I[2]+4243563512&4294967295,B=w+(D<<9&4294967295|D>>>23),D=k+(w^b&(B^w))+I[7]+1735328473&4294967295,k=B+(D<<14&4294967295|D>>>18),D=b+(B^w&(k^B))+I[12]+2368359562&4294967295,b=k+(D<<20&4294967295|D>>>12),D=w+(b^k^B)+I[5]+4294588738&4294967295,w=b+(D<<4&4294967295|D>>>28),D=B+(w^b^k)+I[8]+2272392833&4294967295,B=w+(D<<11&4294967295|D>>>21),D=k+(B^w^b)+I[11]+1839030562&4294967295,k=B+(D<<16&4294967295|D>>>16),D=b+(k^B^w)+I[14]+4259657740&4294967295,b=k+(D<<23&4294967295|D>>>9),D=w+(b^k^B)+I[1]+2763975236&4294967295,w=b+(D<<4&4294967295|D>>>28),D=B+(w^b^k)+I[4]+1272893353&4294967295,B=w+(D<<11&4294967295|D>>>21),D=k+(B^w^b)+I[7]+4139469664&4294967295,k=B+(D<<16&4294967295|D>>>16),D=b+(k^B^w)+I[10]+3200236656&4294967295,b=k+(D<<23&4294967295|D>>>9),D=w+(b^k^B)+I[13]+681279174&4294967295,w=b+(D<<4&4294967295|D>>>28),D=B+(w^b^k)+I[0]+3936430074&4294967295,B=w+(D<<11&4294967295|D>>>21),D=k+(B^w^b)+I[3]+3572445317&4294967295,k=B+(D<<16&4294967295|D>>>16),D=b+(k^B^w)+I[6]+76029189&4294967295,b=k+(D<<23&4294967295|D>>>9),D=w+(b^k^B)+I[9]+3654602809&4294967295,w=b+(D<<4&4294967295|D>>>28),D=B+(w^b^k)+I[12]+3873151461&4294967295,B=w+(D<<11&4294967295|D>>>21),D=k+(B^w^b)+I[15]+530742520&4294967295,k=B+(D<<16&4294967295|D>>>16),D=b+(k^B^w)+I[2]+3299628645&4294967295,b=k+(D<<23&4294967295|D>>>9),D=w+(k^(b|~B))+I[0]+4096336452&4294967295,w=b+(D<<6&4294967295|D>>>26),D=B+(b^(w|~k))+I[7]+1126891415&4294967295,B=w+(D<<10&4294967295|D>>>22),D=k+(w^(B|~b))+I[14]+2878612391&4294967295,k=B+(D<<15&4294967295|D>>>17),D=b+(B^(k|~w))+I[5]+4237533241&4294967295,b=k+(D<<21&4294967295|D>>>11),D=w+(k^(b|~B))+I[12]+1700485571&4294967295,w=b+(D<<6&4294967295|D>>>26),D=B+(b^(w|~k))+I[3]+2399980690&4294967295,B=w+(D<<10&4294967295|D>>>22),D=k+(w^(B|~b))+I[10]+4293915773&4294967295,k=B+(D<<15&4294967295|D>>>17),D=b+(B^(k|~w))+I[1]+2240044497&4294967295,b=k+(D<<21&4294967295|D>>>11),D=w+(k^(b|~B))+I[8]+1873313359&4294967295,w=b+(D<<6&4294967295|D>>>26),D=B+(b^(w|~k))+I[15]+4264355552&4294967295,B=w+(D<<10&4294967295|D>>>22),D=k+(w^(B|~b))+I[6]+2734768916&4294967295,k=B+(D<<15&4294967295|D>>>17),D=b+(B^(k|~w))+I[13]+1309151649&4294967295,b=k+(D<<21&4294967295|D>>>11),D=w+(k^(b|~B))+I[4]+4149444226&4294967295,w=b+(D<<6&4294967295|D>>>26),D=B+(b^(w|~k))+I[11]+3174756917&4294967295,B=w+(D<<10&4294967295|D>>>22),D=k+(w^(B|~b))+I[2]+718787259&4294967295,k=B+(D<<15&4294967295|D>>>17),D=b+(B^(k|~w))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var b=w-this.blockSize,I=this.B,k=this.h,B=0;B<w;){if(k==0)for(;B<=b;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<w;)if(I[k++]=M.charCodeAt(B++),k==this.blockSize){o(this,I),k=0;break}}else for(;B<w;)if(I[k++]=M[B++],k==this.blockSize){o(this,I),k=0;break}}this.h=k,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var b=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=b&255,b/=256;for(this.u(M),M=Array(16),w=b=0;4>w;++w)for(var I=0;32>I;I+=8)M[b++]=this.g[w]>>>I&255;return M};function u(M,w){var b=m;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=w(M)}function h(M,w){this.h=w;for(var b=[],I=!0,k=M.length-1;0<=k;k--){var B=M[k]|0;I&&B==w||(b[k]=B,I=!1)}this.g=b}var m={};function p(M){return-128<=M&&128>M?u(M,function(w){return new h([w|0],0>w?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return x(g(-M));for(var w=[],b=1,I=0;M>=b;I++)w[I]=M/b|0,b*=4294967296;return new h(w,0)}function E(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return x(E(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(w,8)),I=A,k=0;k<M.length;k+=8){var B=Math.min(8,M.length-k),D=parseInt(M.substring(k,k+B),w);8>B?(B=g(Math.pow(w,B)),I=I.j(B).add(g(D))):(I=I.j(b),I=I.add(g(D)))}return I}var A=p(0),C=p(1),N=p(16777216);i=h.prototype,i.m=function(){if(H(this))return-x(this).m();for(var M=0,w=1,b=0;b<this.g.length;b++){var I=this.i(b);M+=(0<=I?I:4294967296+I)*w,w*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(O(this))return"0";if(H(this))return"-"+x(this).toString(M);for(var w=g(Math.pow(M,6)),b=this,I="";;){var k=he(b,w).g;b=K(b,k.j(w));var B=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=k,O(b))return B+I;for(;6>B.length;)B="0"+B;I=B+I}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function O(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function H(M){return M.h==-1}i.l=function(M){return M=K(this,M),H(M)?-1:O(M)?0:1};function x(M){for(var w=M.g.length,b=[],I=0;I<w;I++)b[I]=~M.g[I];return new h(b,~M.h).add(C)}i.abs=function(){return H(this)?x(this):this},i.add=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],I=0,k=0;k<=w;k++){var B=I+(this.i(k)&65535)+(M.i(k)&65535),D=(B>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);I=D>>>16,B&=65535,D&=65535,b[k]=D<<16|B}return new h(b,b[b.length-1]&-2147483648?-1:0)};function K(M,w){return M.add(x(w))}i.j=function(M){if(O(this)||O(M))return A;if(H(this))return H(M)?x(this).j(x(M)):x(x(this).j(M));if(H(M))return x(this.j(x(M)));if(0>this.l(N)&&0>M.l(N))return g(this.m()*M.m());for(var w=this.g.length+M.g.length,b=[],I=0;I<2*w;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<M.g.length;k++){var B=this.i(I)>>>16,D=this.i(I)&65535,Tt=M.i(k)>>>16,pt=M.i(k)&65535;b[2*I+2*k]+=D*pt,J(b,2*I+2*k),b[2*I+2*k+1]+=B*pt,J(b,2*I+2*k+1),b[2*I+2*k+1]+=D*Tt,J(b,2*I+2*k+1),b[2*I+2*k+2]+=B*Tt,J(b,2*I+2*k+2)}for(I=0;I<w;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=w;I<2*w;I++)b[I]=0;return new h(b,0)};function J(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function X(M,w){this.g=M,this.h=w}function he(M,w){if(O(w))throw Error("division by zero");if(O(M))return new X(A,A);if(H(M))return w=he(x(M),w),new X(x(w.g),x(w.h));if(H(w))return w=he(M,x(w)),new X(x(w.g),w.h);if(30<M.g.length){if(H(M)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var b=C,I=w;0>=I.l(M);)b=ae(b),I=ae(I);var k=ye(b,1),B=ye(I,1);for(I=ye(I,2),b=ye(b,2);!O(I);){var D=B.add(I);0>=D.l(M)&&(k=k.add(b),B=D),I=ye(I,1),b=ye(b,1)}return w=K(M,k.j(w)),new X(k,w)}for(k=A;0<=M.l(w);){for(b=Math.max(1,Math.floor(M.m()/w.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),B=g(b),D=B.j(w);H(D)||0<D.l(M);)b-=I,B=g(b),D=B.j(w);O(B)&&(B=C),k=k.add(B),M=K(M,D)}return new X(k,M)}i.A=function(M){return he(this,M).h},i.and=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)&M.i(I);return new h(b,this.h&M.h)},i.or=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)|M.i(I);return new h(b,this.h|M.h)},i.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)^M.i(I);return new h(b,this.h^M.h)};function ae(M){for(var w=M.g.length+1,b=[],I=0;I<w;I++)b[I]=M.i(I)<<1|M.i(I-1)>>>31;return new h(b,M.h)}function ye(M,w){var b=w>>5;w%=32;for(var I=M.g.length-b,k=[],B=0;B<I;B++)k[B]=0<w?M.i(B+b)>>>w|M.i(B+b+1)<<32-w:M.i(B+b);return new h(k,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,sT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Zr=h}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aT,xl,oT,$c,Pm,lT,uT,cT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break e;_=_[z]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var F=_++;return{value:y(F,c[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function C(c,y,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,C.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,F){for(var ie=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ie[Le-2]=arguments[Le];return y.prototype[z].apply(S,ie)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function x(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const z=c.length||0,F=S.length||0;c.length=z+F;for(let ie=0;ie<F;ie++)c[z+ie]=S[ie]}else c.push(S)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ae=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ye(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let F=0;F<b.length;F++)_=b[F],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Tt{constructor(){this.h=this.g=null}add(y,_){const S=pt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new K(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,pe=!1,Ge=new Tt,V=()=>{const c=m.Promise.resolve(void 0);Ee=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){B(_)}var y=pt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{he(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}O(De,oe);var Ce={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),je=0;function ot(c,y,_,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=z,this.key=++je,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,y,_,S,z){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ie=Tn(c,y,S,z);return-1<ie?(y=c[ie],_||(y.fa=!1)):(y=new ot(y,this.src,F,!!S,z),y.fa=_,c.push(y)),y};function Ai(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,y,void 0),F;(F=0<=z)&&Array.prototype.splice.call(S,z,1),F&&(Qe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Tn(c,y,_,S){for(var z=0;z<c.length;++z){var F=c[z];if(!F.da&&F.listener==y&&F.capture==!!_&&F.ha==S)return z}return-1}var or="closure_lm_"+(1e6*Math.random()|0),lr={};function bi(c,y,_,S,z){if(Array.isArray(y)){for(var F=0;F<y.length;F++)bi(c,y[F],_,S,z);return null}return _=hu(_),c&&c[gt]?c.K(y,_,g(S)?!!S.capture:!1,z):So(c,y,_,!1,S,z)}function So(c,y,_,S,z,F){if(!y)throw Error("Invalid event type");var ie=g(z)?!!z.capture:!!z,Le=Ao(c);if(Le||(c[or]=Le=new en(c)),_=Le.add(y,_,S,ie,F),_.proxy)return _;if(S=ia(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)le||(z=ie),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(sa(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ia(){function c(_){return y.call(c.src,c.listener,_)}const y=rf;return c}function ra(c,y,_,S,z){if(Array.isArray(y))for(var F=0;F<y.length;F++)ra(c,y[F],_,S,z);else S=g(S)?!!S.capture:!!S,_=hu(_),c&&c[gt]?(c=c.i,y=String(y).toString(),y in c.g&&(F=c.g[y],_=Tn(F,_,S,z),-1<_&&(Qe(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ao(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Tn(y,_,S,z)),(_=-1<c?y[c]:null)&&ls(_))}function ls(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])Ai(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(sa(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Ao(y))?(Ai(_,c),_.h==0&&(_.src=null,y[or]=null)):Qe(c)}}}function sa(c){return c in lr?lr[c]:lr[c]="on"+c}function rf(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&ls(c),c=_.call(S,y)}return c}function Ao(c){return c=c[or],c instanceof en?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function St(){de.call(this),this.i=new en(this),this.M=this,this.F=null}O(St,de),St.prototype[gt]=!0,St.prototype.removeEventListener=function(c,y,_,S){ra(this,c,y,_,S)};function Nt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var z=y;y=new oe(S,c),I(y,z)}if(z=!0,_)for(var F=_.length-1;0<=F;F--){var ie=y.g=_[F];z=wi(ie,S,!0,y)&&z}if(ie=y.g=c,z=wi(ie,S,!0,y)&&z,z=wi(ie,S,!1,y)&&z,_)for(F=0;F<_.length;F++)ie=y.g=_[F],z=wi(ie,S,!1,y)&&z}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Qe(_[S]);delete c.g[y],c.h--}}this.F=null},St.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},St.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function wi(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,F=0;F<y.length;++F){var ie=y[F];if(ie&&!ie.da&&ie.capture==_){var Le=ie.listener,bt=ie.ha||ie.src;ie.fa&&Ai(c.i,ie),z=Le.call(bt,S)!==!1&&z}}return z&&!S.defaultPrevented}function fu(c,y,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function bo(c){c.g=fu(()=>{c.g=null,c.i&&(c.i=!1,bo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sf extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){de.call(this),this.h=c,this.g={}}O(us,de);var ur=[];function Kt(c){ye(c.g,function(y,_){this.g.hasOwnProperty(_)&&ls(y)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),Kt(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wo=m.JSON.stringify,Wn=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ro(){}Ro.prototype.h=null;function du(c){return c.h||(c.h=c.i())}function mu(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){oe.call(this,"d")}O(cr,oe);function Bn(){oe.call(this,"c")}O(Bn,oe);var Sn={},hr=null;function aa(){return hr=hr||new St}Sn.La="serverreachability";function Co(c){oe.call(this,Sn.La,c)}O(Co,oe);function fr(c){const y=aa();Nt(y,new Co(y))}Sn.STAT_EVENT="statevent";function oa(c,y){oe.call(this,Sn.STAT_EVENT,c),this.stat=y}O(oa,oe);function ft(c){const y=aa();Nt(y,new oa(y,c))}Sn.Ma="timingevent";function pu(c,y){oe.call(this,Sn.Ma,c),this.size=y}O(pu,oe);function dr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function gu(c,y,_,S,z,F){c.info(function(){if(c.g)if(F)for(var ie="",Le=F.split("&"),bt=0;bt<Le.length;bt++){var Ue=Le[bt].split("=");if(1<Ue.length){var Vt=Ue[0];Ue=Ue[1];var wt=Vt.split("_");ie=2<=wt.length&&wt[1]=="type"?ie+(Vt+"="+Ue+"&"):ie+(Vt+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+_+`
`+ie})}function yu(c,y,_,S,z,F,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+_+`
`+F+" "+ie})}function pr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xt(c,_)+(S?" "+S:"")})}function Jn(c,y){c.info(function(){return"TIMEOUT: "+y})}mr.prototype.info=function(){};function xt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var F=z[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return wo(_)}catch{return y}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cs;function la(){}O(la,Ro),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},cs=new la;function ei(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Io}function Io(){this.i=null,this.g="",this.h=!1}var gr={},hs={};function jn(c,y,_){c.L=1,c.v=ms(lt(y)),c.m=_,c.P=!0,Ci(c,null)}function Ci(c,y){c.F=Date.now(),nt(c),c.A=lt(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Oi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Io,c.g=Nu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new sf(C(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ur[0]=z.toString()),z=ur);for(var F=0;F<z.length;F++){var ie=bi(_,z[F],S||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),fr(),gu(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Cn(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||wt!=4||y==7||(y==8||0>=Vi?fr(3):fr(2)),ua(this);var _=this.g.Z();this.X=_;t:if(yr(this)){var S=Au(this.g);c="";var z=S.length,F=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),fn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(F&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,yu(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Le)){var Ue=Le;break t}}Ue=null}if(_=Ue)pr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dn(this,_);else{this.o=!1,this.s=3,ft(12),ln(this),fn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=_r(this,ie),zt==hs){wt==4&&(this.s=4,ft(14),_=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==gr){this.s=4,ft(15),pr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else pr(this.i,this.l,zt,null),dn(this,zt);if(yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ie.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)pr(this.i,this.l,ie,"[Invalid Chunked Response]"),ln(this),fn(this);else if(0<ie.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ts(Vt),Vt.M=!0,ft(11))}}else pr(this.i,this.l,ie,null),dn(this,ie);wt==4&&ln(this),this.o&&!this.J&&(wt==4?Iu(this.j,this):(this.o=!1,nt(this)))}else hf(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),ln(this),fn(this)}}}catch{}finally{}};function yr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _r(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?hs:(_=Number(y.substring(_,S)),isNaN(_)?gr:(S+=1,S+_>y.length?hs:(y=y.slice(S,S+_),c.C=S+_,y)))}ei.prototype.cancel=function(){this.J=!0,ln(this)};function nt(c){c.S=Date.now()+c.I,Do(c,c.I)}function Do(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=dr(C(c.ba,c),y)}function ua(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jn(this.i,this.A),this.L!=2&&(fr(),ft(17)),ln(this),this.s=2,fn(this)):Do(this,this.S-c)};function fn(c){c.j.G==0||c.J||Iu(c.j,c)}function ln(c){ua(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Kt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function dn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||vr(_.h,c))){if(!c.K&&vr(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)va(_),ya(_);else break e;Bo(_),ft(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=dr(C(_.Za,_),6e3));if(1>=_u(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&va(_),!J(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Ue=z[y];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const Vt=Ue[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const wt=Ue[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Vi=Ue[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(S=1.5*Vi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const zt=c.g;if(zt){const oi=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var F=S.h;F.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Er(F,F.h),F.h=null))}if(S.D){const Ho=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(S.ya=Ho,He(S.I,S.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ie=c;if(S.qa=Ou(S,S.J?S.ia:null,S.W),ie.K){An(S.h,ie);var Le=ie,bt=S.L;bt&&(Le.I=bt),Le.B&&(ua(Le),nt(Le)),S.g=ie}else Ru(S);0<_.i.length&&_a(_)}else Ue[0]!="stop"&&Ue[0]!="close"||Mi(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Mi(_,7):Uo(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}fr(4)}catch{}}var af=class{constructor(c,y){this.g=c,this.map=y}};function Oo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function No(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _u(c){return c.h?1:c.g?c.g.size:0}function vr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Er(c,y){c.g?c.g.add(y):c.h=y}function An(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Oo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function vu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function of(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function fs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=of(c),S=vu(c),z=S.length,F=0;F<z;F++)y.call(void 0,S[F],_&&_[F],c)}var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var F=c[_].substring(0,S);z=c[_].substring(S+1)}else F=c[_];y(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ii){this.h=c.h,Tr(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.s),this.l=c.l;var y=c.i,_=new ti;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ha(this,_),this.m=c.m}else c&&(y=String(c).match(xo))?(this.h=!1,Tr(this,y[1]||"",!0),this.o=Sr(y[2]||""),this.g=Sr(y[3]||"",!0),ds(this,y[4]),this.l=Sr(y[5]||"",!0),ha(this,y[6]||"",!0),this.m=Sr(y[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Ii.prototype.toString=function(){var c=[],y=this.j;y&&c.push(bn(y,Mo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(bn(y,Mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(bn(_,_.charAt(0)=="/"?Vo:Eu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",bn(_,cf)),c.join("")};function lt(c){return new Ii(c)}function Tr(c,y,_){c.j=_?Sr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ha(c,y,_){y instanceof ti?(c.i=y,Po(c.i,c.h)):(_||(y=bn(y,uf)),c.i=new ti(y,c.h))}function He(c,y,_){c.i.set(y,_)}function ms(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,lf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,Eu=/[#\?:]/g,Vo=/[#\?]/g,uf=/[#\?@]/g,cf=/#/g;function ti(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ti.prototype,i.add=function(c,y){wn(this),this.i=null,c=Ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function fa(c,y){wn(c),y=Ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return wn(c),y=Ni(c,y),c.g.has(y)}i.forEach=function(c,y){wn(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(y,z,S,this)},this)},this)},i.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const z=c[S];for(let F=0;F<z.length;F++)_.push(y[S])}return _},i.V=function(c){wn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return wn(this),this.i=null,c=Ni(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Oi(c,y,_){fa(c,y),0<_.length&&(c.i=null,c.g.set(Ni(c,y),H(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const F=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var z=F;ie[S]!==""&&(z+="="+encodeURIComponent(String(ie[S]))),c.push(z)}}return this.i=c.join("&")};function Ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Po(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(fa(this,S),Oi(this,z,_))},c)),c.j=y}function Tu(c,y){const _=new mr;if(m.Image){const S=new Image;S.onload=N(Rn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=N(Rn,_,"TestLoadImage: error",!1,y,S),S.onabort=N(Rn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=N(Rn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ps(c,y){const _=new mr,S=new AbortController,z=setTimeout(()=>{S.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(z),F.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function gs(){this.g=new tn}function ni(c,y,_){const S=_||"";try{fs(c,function(z,F){let ie=z;g(z)&&(ie=wo(z)),y.push(S+F+"="+encodeURIComponent(ie))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Ar,Ro),Ar.prototype.g=function(){return new xi(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function xi(c,y){St.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(xi,St),i=xi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lo(c){let y="";return ye(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Lo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):He(c,y,_))}function Ke(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ke,St);var da=/^https?$/i,ys=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cs.g(),this.v=this.o?du(this.o):du(cs),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Su(this,F);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of _)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Su(this,F)}};function Su(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ma(c),si(c)}function ma(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},i.bb=function(){pa(this)};function pa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)fu(c.Ea,0,c);else if(Nt(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ie===0){var z=String(c.D).match(xo)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!da.test(z?z.toLowerCase():"")}_=S}if(_)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var F=2<Cn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ma(c)}}finally{si(c)}}}}function si(c,y){if(c.g){_s(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Nt(c,"ready");try{_.onreadystatechange=S}catch{}}}function _s(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wn(y)}};function Au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(J(c[S]))continue;var _=k(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=y[z]||[];y[z]=F,F.push(_)}M(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ga(c){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Oo(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ga.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){ft(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Ou(this,null,this.W),_a(this)};function Uo(c){if(bu(c),c.G==3){var y=c.U++,_=lt(c.I);if(He(_,"SID",c.K),He(_,"RID",y),He(_,"TYPE","terminate"),Es(c,_),y=new ei(c,c.j,y),y.L=2,y.v=ms(lt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Nu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}Du(c)}function ya(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function bu(c){ya(c),c.u&&(m.clearTimeout(c.u),c.u=null),va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function _a(c){if(!No(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ee||V(),pe||(Ee(),pe=!0),Ge.add(y,c),c.B=0}}function ff(c,y){return _u(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=dr(C(c.Ga,c,y),jo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new ei(this,this.j,c);let F=this.o;if(this.S&&(F?(F=w(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(z.H=F,F=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=wu(this,z,y),_=lt(this.I),He(_,"RID",c),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),Es(this,_),F&&(this.O?y="headers="+encodeURIComponent(String(Lo(F)))+"&"+y:this.m&&Mt(_,this.m,F)),Er(this.h,z),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",y),He(_,"SID","null"),z.T=!0,jn(z,_,null)):jn(z,_,y),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||No(this.h)||zo(this))};function zo(c,y){var _;y?_=y.l:_=c.U++;const S=lt(c.I);He(S,"SID",c.K),He(S,"RID",_),He(S,"AID",c.T),Es(c,S),c.m&&c.o&&Mt(S,c.m,c.o),_=new ei(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Er(c.h,_),jn(_,S,y)}function Es(c,y){c.H&&ye(c.H,function(_,S){He(y,S,_)}),c.l&&fs({},function(_,S){He(y,S,_)})}function wu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?C(c.l.Na,c.l,c):null;e:{var z=c.i;let F=-1;for(;;){const ie=["count="+_];F==-1?0<_?(F=z[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let Le=!0;for(let bt=0;bt<_;bt++){let Ue=z[bt].g;const Vt=z[bt].map;if(Ue-=F,0>Ue)F=Math.max(0,z[bt].g-100),Le=!1;else try{ni(Vt,ie,"req"+Ue+"_")}catch{S&&S(Vt)}}if(Le){S=ie.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Ru(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ee||V(),pe||(Ee(),pe=!0),Ge.add(y,c),c.v=0}}function Bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=dr(C(c.Fa,c),jo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=dr(C(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ya(this),Cu(this))};function Ts(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Cu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=lt(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),Es(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ms(lt(y)),_.m=null,_.P=!0,Ci(_,c)}i.Za=function(){this.C!=null&&(this.C=null,ya(this),Bo(this),ft(19))};function va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Iu(c,y){var _=null;if(c.g==y){va(c),Ts(c),c.g=null;var S=2}else if(vr(c.h,y))_=y.D,An(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=aa(),Nt(S,new pu(S,_)),_a(c)}else Ru(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&ff(c,y)||S==2&&Bo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function jo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=C(c.fb,c),S=c.Xa;const z=!S;S=new Ii(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Tr(S,"https"),ms(S),z?Tu(S.toString(),_):ps(S.toString(),_)}else ft(2);c.G=0,c.l&&c.l.sa(y),Du(c),bu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const y=nn(c.h);(y.length!=0||c.i.length!=0)&&(x(c.ka,y),x(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function Ou(c,y,_){var S=_ instanceof Ii?lt(_):new Ii(_);if(S.g!="")y&&(S.g=y+"."+S.g),ds(S,S.s);else{var z=m.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var F=new Ii(null);S&&Tr(F,S),y&&(F.g=y),z&&ds(F,z),_&&(F.l=_),S=F}return _=c.D,y=c.ya,_&&y&&He(S,_,y),He(S,"VER",c.la),Es(c,S),S}function Nu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ke(new Ar({eb:_})):new Ke(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}i=xu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ea(){}Ea.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){St.call(this),this.g=new ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}O(rn,St),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Uo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=wo(c),c=_);y.i.push(new af(y.Ya++,c)),y.G==3&&_a(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,rn.aa.N.call(this)};function Mu(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Mu,cr);function Vu(){Bn.call(this),this.status=1}O(Vu,Bn);function ai(c){this.g=c}O(ai,xu),ai.prototype.ua=function(){Nt(this.g,"a")},ai.prototype.ta=function(c){Nt(this.g,new Mu(c))},ai.prototype.sa=function(c){Nt(this.g,new Vu)},ai.prototype.ra=function(){Nt(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,cT=function(){return new Ea},uT=function(){return aa()},lT=Sn,Pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,$c=At,Ri.COMPLETE="complete",oT=Ri,mu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",St.prototype.listen=St.prototype.K,xl=mu,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,aT=Ke}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",$v="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new lp("@firebase/firestore");function $a(){return Qs.logLevel}function ue(i,...e){if(Qs.logLevel<=Me.DEBUG){const n=e.map(Sp);Qs.debug(`Firestore (${go}): ${i}`,...n)}}function rr(i,...e){if(Qs.logLevel<=Me.ERROR){const n=e.map(Sp);Qs.error(`Firestore (${go}): ${i}`,...n)}}function ro(i,...e){if(Qs.logLevel<=Me.WARN){const n=e.map(Sp);Qs.warn(`Firestore (${go}): ${i}`,...n)}}function Sp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+i;throw rr(e),new Error(e)}function $e(i,e){i||Te()}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class JI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eD{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new hT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Xt(e)}}class tD{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class nD{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new tD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Qv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new Qv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function so(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=-62135596800,Xv=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Xv);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yv)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Dt(0,0))}static max(){return new Ae(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=mi.isNumericId(e),o=mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zr.fromString(e.substring(4,e.length-2))}}class tt extends mi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const sD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends mi{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return sD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new Ft([Wv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function aD(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new ns(o,_e.empty(),e)}function oD(i){return new ns(i.readTime,i.key,ql)}class ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ns(Ae.min(),_e.empty(),ql)}static max(){return new ns(Ae.max(),_e.empty(),ql)}}function lD(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==uD)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function hD(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function Lh(i){return i==null}function mh(i){return i===0&&1/i==-1/0}function fD(i){return typeof i=="number"&&Number.isInteger(i)&&!mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="";function dD(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Zv(e)),e=mD(i.get(n),e);return Zv(e)}function mD(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case dT:n+="";break;default:n+=u}}return n}function Zv(i){return i+dT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Js(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function mT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(e){return new eE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class eE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Ot(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pT("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const pD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(i){if($e(!!i),typeof i=="string"){let e=0;const n=pD.exec(i);if($e(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function rs(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",yT="__type__",_T="__previous_value__",vT="__local_write_time__";function bp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[yT])===null||n===void 0?void 0:n.stringValue)===gT}function Uh(i){const e=i.mapValue.fields[_T];return bp(e)?Uh(e):e}function Fl(i){const e=is(i.mapValue.fields[vT].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,s,o,u,h,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const ph="(default)";class Gl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__type__",yD="__max__",kc={mapValue:{}},TT="__vector__",gh="value";function ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bp(i)?4:vD(i)?9007199254740991:_D(i)?10:11:Te()}function vi(i,e){if(i===e)return!0;const n=ss(i);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Fl(i).isEqual(Fl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=is(o.timestampValue),m=is(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return rs(o.bytesValue).isEqual(rs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=mt(o.doubleValue),m=mt(u.doubleValue);return h===m?mh(h)===mh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return so(i.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Jv(h)!==Jv(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!vi(h[p],m[p])))return!1;return!0}(i,e);default:return Te()}}function Kl(i,e){return(i.values||[]).find(n=>vi(n,e))!==void 0}function ao(i,e){if(i===e)return 0;const n=ss(i),s=ss(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=mt(u.integerValue||u.doubleValue),p=mt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return tE(i.timestampValue,e.timestampValue);case 4:return tE(Fl(i),Fl(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(u,h){const m=rs(u),p=rs(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=ke(mt(u.latitude),mt(h.latitude));return m!==0?m:ke(mt(u.longitude),mt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return nE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const A=u.fields||{},C=h.fields||{},N=(m=A[gh])===null||m===void 0?void 0:m.arrayValue,O=(p=C[gh])===null||p===void 0?void 0:p.arrayValue,H=ke(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:nE(N,O)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===kc.mapValue&&h===kc.mapValue)return 0;if(u===kc.mapValue)return 1;if(h===kc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const C=ke(p[A],E[A]);if(C!==0)return C;const N=ao(m[p[A]],g[E[A]]);if(N!==0)return N}return ke(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te()}}function tE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=is(i),s=is(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function nE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function oo(i){return km(i)}function km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return rs(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=km(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${km(n.fields[h])}`;return o+"}"}(i.mapValue):Te()}function Qc(i){switch(ss(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(i);return e?16+Qc(e):16;case 5:return 2*i.stringValue.length;case 6:return rs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Qc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Js(s.fields,(u,h)=>{o+=u.length+Qc(h)}),o}(i.mapValue);default:throw Te()}}function Lm(i){return!!i&&"integerValue"in i}function wp(i){return!!i&&"arrayValue"in i}function iE(i){return!!i&&"nullValue"in i}function rE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Yc(i){return!!i&&"mapValue"in i}function _D(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ET])===null||n===void 0?void 0:n.stringValue)===TT}function kl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Js(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=kl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function vD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===yD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=kl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Js(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Un(kl(this.value))}}function ST(i){const e=[];return Js(i.fields,(n,s)=>{const o=new Ft([n]);if(Yc(s)){const u=ST(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),Un.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.position=e,this.inclusive=n}}function sE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=ao(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function aE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!vi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function ED(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{}class It extends AT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new SD(e,n,s):n==="array-contains"?new wD(e,s):n==="in"?new RD(e,s):n==="not-in"?new CD(e,s):n==="array-contains-any"?new ID(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new AD(e,s):new bD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends AT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ei(e,n)}matches(e){return bT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bT(i){return i.op==="and"}function wT(i){return TD(i)&&bT(i)}function TD(i){for(const e of i.filters)if(e instanceof Ei)return!1;return!0}function Um(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+oo(i.value);if(wT(i))return i.filters.map(e=>Um(e)).join(",");{const e=i.filters.map(n=>Um(n)).join(",");return`${i.op}(${e})`}}function RT(i,e){return i instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&vi(s.value,o.value)}(i,e):i instanceof Ei?function(s,o){return o instanceof Ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&RT(h,o.filters[m]),!0):!1}(i,e):void Te()}function CT(i){return i instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(i):i instanceof Ei?function(n){return n.op.toString()+" {"+n.getFilters().map(CT).join(" ,")+"}"}(i):"Filter"}class SD extends It{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class AD extends It{constructor(e,n){super(e,"in",n),this.keys=IT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bD extends It{constructor(e,n){super(e,"not-in",n),this.keys=IT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class wD extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&Kl(n.arrayValue,this.value)}}class RD extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class CD extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kl(this.value.arrayValue,n)}}class ID extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Kl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function oE(i,e=null,n=[],s=[],o=null,u=null,h=null){return new DD(i,e,n,s,o,u,h)}function Rp(i){const e=we(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Um(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>oo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>oo(s)).join(",")),e.le=n}return e.le}function Cp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!ED(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!RT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!aE(i.startAt,e.startAt)&&aE(i.endAt,e.endAt)}function zm(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function OD(i,e,n,s,o,u,h,m){return new zh(i,e,n,s,o,u,h,m)}function DT(i){return new zh(i)}function lE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ND(i){return i.collectionGroup!==null}function Ll(i){const e=we(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ot(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new _h(u,s))}),n.has(Ft.keyField().canonicalString())||e.he.push(new _h(Ft.keyField(),s))}return e.he}function gi(i){const e=we(i);return e.Pe||(e.Pe=xD(e,Ll(i))),e.Pe}function xD(i,e){if(i.limitType==="F")return oE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new _h(o.field,u)});const n=i.endAt?new yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new yh(i.startAt.position,i.startAt.inclusive):null;return oE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Bm(i,e,n){return new zh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Bh(i,e){return Cp(gi(i),gi(e))&&i.limitType===e.limitType}function OT(i){return`${Rp(gi(i))}|lt:${i.limitType}`}function Qa(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>CT(o)).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>oo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>oo(o)).join(",")),`Target(${s})`}(gi(i))}; limitType=${i.limitType})`}function jh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ll(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=sE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Ll(s),o)||s.endAt&&!function(h,m,p){const g=sE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Ll(s),o))}(i,e)}function MD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function NT(i){return(e,n)=>{let s=!1;for(const o of Ll(i)){const u=VD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function VD(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ao(p,g):Te()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return mT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new at(_e.comparator);function sr(){return PD}const xT=new at(_e.comparator);function Ml(...i){let e=xT;for(const n of i)e=e.insert(n.key,n);return e}function MT(i){let e=xT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Hs(){return Ul()}function VT(){return Ul()}function Ul(){return new ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const kD=new at(_e.comparator),LD=new Ot(_e.comparator);function Ve(...i){let e=LD;for(const n of i)e=e.add(n);return e}const UD=new Ot(ke);function zD(){return UD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function PT(i){return{integerValue:""+i}}function BD(i,e){return fD(e)?PT(e):Ip(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function jD(i,e,n){return i instanceof vh?function(o,u){const h={fields:{[yT]:{stringValue:gT},[vT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=Uh(u)),u&&(h.fields[_T]=u),{mapValue:h}}(n,e):i instanceof $l?LT(i,e):i instanceof Ql?UT(i,e):function(o,u){const h=kT(o,u),m=uE(h)+uE(o.Ie);return Lm(h)&&Lm(o.Ie)?PT(m):Ip(o.serializer,m)}(i,e)}function HD(i,e,n){return i instanceof $l?LT(i,e):i instanceof Ql?UT(i,e):n}function kT(i,e){return i instanceof Eh?function(s){return Lm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class vh extends Hh{}class $l extends Hh{constructor(e){super(),this.elements=e}}function LT(i,e){const n=zT(e);for(const s of i.elements)n.some(o=>vi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ql extends Hh{constructor(e){super(),this.elements=e}}function UT(i,e){let n=zT(e);for(const s of i.elements)n=n.filter(o=>!vi(o,s));return{arrayValue:{values:n}}}class Eh extends Hh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function uE(i){return mt(i.integerValue||i.doubleValue)}function zT(i){return wp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function qD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof $l&&o instanceof $l||s instanceof Ql&&o instanceof Ql?so(s.elements,o.elements,vi):s instanceof Eh&&o instanceof Eh?vi(s.Ie,o.Ie):s instanceof vh&&o instanceof vh}(i.transform,e.transform)}class FD{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class qh{}function BT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new HT(i.key,tr.none()):new su(i.key,i.data,tr.none());{const n=i.data,s=Un.empty();let o=new Ot(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ta(i.key,s,new $n(o.toArray()),tr.none())}}function GD(i,e,n){i instanceof su?function(o,u,h){const m=o.value.clone(),p=hE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ta?function(o,u,h){if(!Xc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=hE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(jT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function zl(i,e,n,s){return i instanceof su?function(u,h,m,p){if(!Xc(u.precondition,h))return m;const g=u.value.clone(),E=fE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ta?function(u,h,m,p){if(!Xc(u.precondition,h))return m;const g=fE(u.fieldTransforms,p,h),E=h.data;return E.setAll(jT(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,h,m){return Xc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function KD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=kT(s.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(s.field,u))}return n||null}function cE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,(u,h)=>qD(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class su extends qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ta extends qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function hE(i,e,n){const s=new Map;$e(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,HD(h,m,n[o]))}return s}function fE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,jD(u,h,e))}return s}class HT extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $D extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&GD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=VT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=BT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,s)=>cE(n,s))&&so(this.baseMutations,e.baseMutations,(n,s)=>cE(n,s))}}class Dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length);let o=function(){return kD}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Dp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Be;function WD(i){switch(i){case te.OK:return Te();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te()}}function qT(i){if(i===void 0)return rr("GRPC error has no .code"),te.UNKNOWN;switch(i){case Et.OK:return te.OK;case Et.CANCELLED:return te.CANCELLED;case Et.UNKNOWN:return te.UNKNOWN;case Et.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Et.INTERNAL:return te.INTERNAL;case Et.UNAVAILABLE:return te.UNAVAILABLE;case Et.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Et.NOT_FOUND:return te.NOT_FOUND;case Et.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Et.ABORTED:return te.ABORTED;case Et.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Et.DATA_LOSS:return te.DATA_LOSS;default:return Te()}}(Be=Et||(Et={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Zr([4294967295,4294967295],0);function dE(i){const e=ZD().encode(i),n=new sT;return n.update(e),new Uint8Array(n.digest())}function mE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zr([n,s],0),new Zr([o,u],0)]}class Op{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Zr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Zr.fromNumber(s)));return o.compare(JD)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=dE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Op(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const n=dE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(Ae.min(),o,new at(ke),sr(),Ve())}}class au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new au(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class FT{constructor(e,n){this.targetId=e,this.ge=n}}class GT{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class pE{constructor(){this.pe=0,this.ye=gE(),this.we=Gt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new au(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=gE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class eO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sr(),this.$e=Lc(),this.Ke=Lc(),this.Ue=new at(ke)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(zm(u))if(s===0){const h=new _e(u.path);this.ze(n,h,Wt.newNoDocument(h,Ae.min()))}else $e(s===1);else{const h=this.et(n);if(h!==s){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=rs(s).toUint8Array()}catch(p){if(p instanceof pT)return ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Op(h,o,u)}catch(p){return ro(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&zm(m.target)){const p=new _e(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Wt.newNoDocument(p,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Fh(e,n,this.Ue,this.Qe,s);return this.Qe=sr(),this.$e=Lc(),this.Ke=Lc(),this.Ue=new at(ke),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new pE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ot(ke),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ot(ke),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new pE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Lc(){return new at(_e.comparator)}function gE(){return new at(_e.comparator)}const tO={asc:"ASCENDING",desc:"DESCENDING"},nO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO={and:"AND",or:"OR"};class rO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function Th(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function sO(i,e){return Th(i,e.toTimestamp())}function yi(i){return $e(!!i),Ae.fromTimestamp(function(n){const s=is(n);return new Dt(s.seconds,s.nanos)}(i))}function Np(i,e){return Hm(i,e).canonicalString()}function Hm(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function $T(i){const e=tt.fromString(i);return $e(ZT(e)),e}function qm(i,e){return Np(i.databaseId,e.path)}function ym(i,e){const n=$T(e);if(n.get(1)!==i.databaseId.projectId)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(YT(n))}function QT(i,e){return Np(i.databaseId,e)}function aO(i){const e=$T(i);return e.length===4?tt.emptyPath():YT(e)}function Fm(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function YT(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function yE(i,e,n){return{name:qm(i,e),fields:n.value.mapValue.fields}}function oO(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($e(E===void 0||typeof E=="string"),Gt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Gt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?te.UNKNOWN:qT(g.code);return new ge(E,g.message||"")}(h);n=new GT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(i,s.document.name),u=yi(s.document.updateTime),h=s.document.createTime?yi(s.document.createTime):Ae.min(),m=new Un({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Wc(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ym(i,s.document),u=s.readTime?yi(s.readTime):Ae.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Wc([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ym(i,s.document),u=s.removedTargetIds||[];n=new Wc([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new XD(o,u),m=s.targetId;n=new FT(m,h)}}return n}function lO(i,e){let n;if(e instanceof su)n={update:yE(i,e.key,e.value)};else if(e instanceof HT)n={delete:qm(i,e.key)};else if(e instanceof ta)n={update:yE(i,e.key,e.data),updateMask:yO(e.fieldMask)};else{if(!(e instanceof $D))return Te();n={verify:qm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof vh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ql)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eh)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:sO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(i,e.precondition)),n}function uO(i,e){return i&&i.length>0?($e(e!==void 0),i.map(n=>function(o,u){let h=o.updateTime?yi(o.updateTime):yi(u);return h.isEqual(Ae.min())&&(h=yi(u)),new FD(h,o.transformResults||[])}(n,e))):[]}function cO(i,e){return{documents:[QT(i,e.path)]}}function hO(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=QT(i,o);const u=function(g){if(g.length!==0)return WT(Ei.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(C){return{field:Ya(C.field),direction:mO(C.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=jm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function fO(i){let e=aO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const C=XT(A);return C instanceof Ei&&wT(C)?C.getFilters():[C]}(n.where));let h=[];n.orderBy&&(h=function(A){return A.map(C=>function(O){return new _h(Xa(O.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(A){let C;return C=typeof A=="object"?A.value:A,Lh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(A){const C=!!A.before,N=A.values||[];return new yh(N,C)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const C=!A.before,N=A.values||[];return new yh(N,C)}(n.endAt)),OD(e,o,h,u,m,"F",p,g)}function dO(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Xa(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(n){return It.create(Xa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ei.create(n.compositeFilter.filters.map(s=>XT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(i):Te()}function mO(i){return tO[i]}function pO(i){return nO[i]}function gO(i){return iO[i]}function Ya(i){return{fieldPath:i.canonicalString()}}function Xa(i){return Ft.fromServerFormat(i.fieldPath)}function WT(i){return i instanceof It?function(n){if(n.op==="=="){if(rE(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(iE(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rE(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(iE(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:pO(n.op),value:n.value}}}(i):i instanceof Ei?function(n){const s=n.getFilters().map(o=>WT(o));return s.length===1?s[0]:{compositeFilter:{op:gO(n.op),filters:s}}}(i):Te()}function yO(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.Tt=e}}function vO(i){const e=fO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.Tn=new TO}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(ns.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class TO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(JT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new lo(0)}static Un(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",SO=1048576;function EE([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class AO{constructor(e){this.Hn=e,this.buffer=new Ot(EE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();EE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(vE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?ue(vE,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.er(3e5)})}}class wO{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(kh.ae);const s=new AO(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(_E)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),$a()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function RO(i,e){return new wO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&zl(s.mutation,o,$n.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Hs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Ml();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Hs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=sr();const h=Ul(),m=function(){return Ul()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ta)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),zl(E.mutation,g,E.mutation.getFieldMask(),Dt.now())):h.set(g.key,$n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new IO(E,(A=h.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ul();let o=new at((h,m)=>h-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||$n.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=VT();E.forEach(C=>{if(!u.has(C)){const N=BT(n.get(C),s.get(C));N!==null&&A.set(C,N),u=u.add(C)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ND(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Hs());let m=ql,p=u;return h.next(g=>Z.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:MT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Ml();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,p=>{const g=function(A,C){return new zh(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,C)=>{h=h.insert(A,C)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Wt.newInvalidDocument(E)))});let m=Ml();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&zl(E.mutation,g,$n.empty(),Dt.now()),jh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:vO(o.bundledQuery),readTime:yi(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.overlays=new at(_e.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Hs();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Hs(),u=n.length+1,h=new _e(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Hs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Hs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return Z.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new YD(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.Vr=new Ot(Ut.mr),this.gr=new Ot(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ut(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new _e(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||ke(e.Cr,n.Cr)}static pr(e,n){return ke(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(Ut.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new QD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Ap:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(ke);return n.forEach(o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new _e(u),0);let m=new Ot(ke);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),Z.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.kr=e,this.docs=function(){return new at(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=sr();const h=n.path,m=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||lD(oD(E),s)<=0||(o.has(E.key)||jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new PO(this)}getSize(e){return Z.resolve(this.size)}}class PO extends CO{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.persistence=e,this.Qr=new ea(n=>Rp(n),Cp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new xp,this.targetCount=0,this.Ur=lo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.Kr.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new kh(0),this.zr=!1,this.zr=!0,this.jr=new xO,this.referenceDelegate=e(this),this.Hr=new kO(this),this.indexManager=new EO,this.remoteDocumentCache=function(o){return new VO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new _O(n),this.Yr=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new MO(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new LO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class LO extends cD{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.ti=new xp,this.ni=null}static ri(e){return new Mp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.oi=new ea(s=>dD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=RO(this,n)}static ri(e,n){return new Sh(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(m=>{m||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qc(e.data.value)),n}ar(e,n,s){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return MR()?8:hD(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new UO;return this._s(e,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,h,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?($a()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):($a()<=Me.DEBUG&&ue("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?($a()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):Z.resolve())}rs(e,n){if(lE(n))return Z.resolve(null);let s=gi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ve(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,h,p.readTime)?this.rs(e,Bm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return lE(n)||o.isEqual(Ae.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,o)?Z.resolve(null):($a()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.hs(e,h,n,aD(o,ql)).next(m=>m))})}cs(e,n){let s=new Ot(NT(e));return n.forEach((o,u)=>{jh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return $a()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ns.getDocumentsMatchingQuery(e,n,ns.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LocalStore",BO=3e8;class jO{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(ke),this.Is=new ea(u=>Rp(u),Cp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function HO(i,e,n,s){return new jO(i,e,n,s)}async function tS(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function qO(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,C=A.keys();let N=Z.resolve();return C.forEach(O=>{N=N.next(()=>E.getEntry(p,O)).next(H=>{const x=g.docVersions.get(O);$e(x!==null),H.version.compareTo(x)<0&&(A.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),E.addEntry(H)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function nS(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function FO(i,e){const n=we(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,A)=>{const C=o.get(A);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let N=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?N=N.withResumeToken(Gt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(A,N),function(H,x,K){return H.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=BO?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(C,N,E)&&m.push(n.Hr.updateTargetData(u,N))});let p=sr(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(GO(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ae.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function GO(i,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=sr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(Pp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function KO(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $O(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(h=>(o=new Qr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Gm(i,e,n){const s=we(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!_o(h))throw h;ue(Pp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function TE(i,e,n){const s=we(i);let o=Ae.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const A=we(p),C=A.Is.get(E);return C!==void 0?Z.resolve(A.Ts.get(C)):A.Hr.getTargetData(g,E)}(s,h,gi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:Ve())).next(m=>(QO(s,MD(e),m),{documents:m,gs:u})))}function QO(i,e,n){let s=i.Es.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class SE{constructor(){this.activeTargetIds=zD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YO{constructor(){this.ho=new SE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new SE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="ConnectivityMonitor";class bE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(AE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(AE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Km(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",WO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const h=Km(),m=this.bo(e,n.toUriEncodedString());ue(_m,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ue(_m,`Received RPC '${e}' ${h}: `,g),g),g=>{throw ro(_m,`RPC '${e}' ${h} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,h){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=WO[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class e2 extends ZO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Km();return new Promise((h,m)=>{const p=new aT;p.setWithCredentials(!0),p.listenOnce(oT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case $c.NO_ERROR:const E=p.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case $c.TIMEOUT:ue(Yt,`RPC '${e}' ${u} timed out`),m(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const A=p.getStatus();if(ue(Yt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C==null?void 0:C.error;if(N&&N.status&&N.message){const O=function(x){const K=x.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(K)>=0?K:te.UNKNOWN}(N.status);m(new ge(O,N.message))}else m(new ge(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ge(te.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Km(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=cT(),m=uT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=h.createWebChannel(E,p);let C=!1,N=!1;const O=new JO({Fo:x=>{N?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(C||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),C=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,x),A.send(x))},Mo:()=>A.close()}),H=(x,K,J)=>{x.listen(K,X=>{try{J(X)}catch(he){setTimeout(()=>{throw he},0)}})};return H(A,xl.EventType.OPEN,()=>{N||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),H(A,xl.EventType.CLOSE,()=>{N||(N=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),O.Ko())}),H(A,xl.EventType.ERROR,x=>{N||(N=!0,ro(Yt,`RPC '${e}' stream ${o} transport errored:`,x),O.Ko(new ge(te.UNAVAILABLE,"The operation could not be completed")))}),H(A,xl.EventType.MESSAGE,x=>{var K;if(!N){const J=x.data[0];$e(!!J);const X=J,he=(X==null?void 0:X.error)||((K=X[0])===null||K===void 0?void 0:K.error);if(he){ue(Yt,`RPC '${e}' stream ${o} received error:`,he);const ae=he.status;let ye=function(b){const I=Et[b];if(I!==void 0)return qT(I)}(ae),M=he.message;ye===void 0&&(ye=te.INTERNAL,M="Unknown error status: "+ae+" with message "+he.message),N=!0,O.Ko(new ge(ye,M)),A.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,J),O.Uo(J)}}),H(m,lT.STAT_EVENT,x=>{x.stat===Pm.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===Pm.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(i){return new rO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="PersistentStream";class rS{constructor(e,n,s,o,u,h,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iS(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ge(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(wE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t2 extends rS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=oO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?yi(h.readTime):Ae.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Fm(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=zm(p)?{documents:cO(u,p)}:{query:hO(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=KT(u,h.resumeToken);const g=jm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Th(u,h.snapshotVersion.toTimestamp());const g=jm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=dO(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.I_(n)}}class n2 extends rS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=uO(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Fm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>lO(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{}class r2 extends i2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,Hm(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,Hm(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(te.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class s2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(rr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class a2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{na(this)&&(ue(Ys,"Restarting streams for network reachability change."),await async function(p){const g=we(p);g.W_.add(4),await ou(g),g.j_.set("Unknown"),g.W_.delete(4),await Kh(g)}(this))})}),this.j_=new s2(s,o)}}async function Kh(i){if(na(i))for(const e of i.G_)await e(!0)}async function ou(i){for(const e of i.G_)await e(!1)}function sS(i,e){const n=we(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),zp(n)?Up(n):vo(n).c_()&&Lp(n,e))}function kp(i,e){const n=we(i),s=vo(n);n.U_.delete(e),s.c_()&&aS(n,e),n.U_.size===0&&(s.c_()?s.P_():na(n)&&n.j_.set("Unknown"))}function Lp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(i).y_(e)}function aS(i,e){i.H_.Ne(e),vo(i).w_(e)}function Up(i){i.H_=new eO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),vo(i).start(),i.j_.B_()}function zp(i){return na(i)&&!vo(i).u_()&&i.U_.size>0}function na(i){return we(i).W_.size===0}function oS(i){i.H_=void 0}async function o2(i){i.j_.set("Online")}async function l2(i){i.U_.forEach((e,n)=>{Lp(i,e)})}async function u2(i,e){oS(i),zp(i)?(i.j_.q_(e),Up(i)):i.j_.set("Unknown")}async function c2(i,e,n){if(i.j_.set("Online"),e instanceof GT&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ue(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(i,s)}else if(e instanceof Wc?i.H_.We(e):e instanceof FT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ae.min()))try{const s=await nS(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),aS(u,p);const A=new Qr(E.target,p,g,E.sequenceNumber);Lp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ue(Ys,"Failed to raise snapshot:",s),await Ah(i,s)}}async function Ah(i,e,n){if(!_o(e))throw e;i.W_.add(1),await ou(i),i.j_.set("Offline"),n||(n=()=>nS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(Ys,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Kh(i)})}function lS(i,e){return e().catch(n=>Ah(i,n,e))}async function $h(i){const e=we(i),n=as(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ap;for(;h2(e);)try{const o=await KO(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,f2(e,o)}catch(o){await Ah(e,o)}uS(e)&&cS(e)}function h2(i){return na(i)&&i.K_.length<10}function f2(i,e){i.K_.push(e);const n=as(i);n.c_()&&n.S_&&n.b_(e.mutations)}function uS(i){return na(i)&&!as(i).u_()&&i.K_.length>0}function cS(i){as(i).start()}async function d2(i){as(i).C_()}async function m2(i){const e=as(i);for(const n of i.K_)e.b_(n.mutations)}async function p2(i,e,n){const s=i.K_.shift(),o=Dp.from(s,e,n);await lS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await $h(i)}async function g2(i,e){e&&as(i).S_&&await async function(s,o){if(function(h){return WD(h)&&h!==te.ABORTED}(o.code)){const u=s.K_.shift();as(s).h_(),await lS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $h(s)}}(i,e),uS(i)&&cS(i)}async function RE(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),ue(Ys,"RemoteStore received new credentials");const s=na(n);n.W_.add(3),await ou(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Kh(n)}async function y2(i,e){const n=we(i);e?(n.W_.delete(2),await Kh(n)):e||(n.W_.add(2),await ou(n),n.j_.set("Unknown"))}function vo(i){return i.J_||(i.J_=function(n,s,o){const u=we(n);return u.M_(),new t2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:o2.bind(null,i),No:l2.bind(null,i),Lo:u2.bind(null,i),p_:c2.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),zp(i)?Up(i):i.j_.set("Unknown")):(await i.J_.stop(),oS(i))})),i.J_}function as(i){return i.Y_||(i.Y_=function(n,s,o){const u=we(n);return u.M_(),new n2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:d2.bind(null,i),Lo:g2.bind(null,i),D_:m2.bind(null,i),v_:p2.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await $h(i)):(await i.Y_.stop(),i.K_.length>0&&(ue(Ys,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Bp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jp(i,e){if(rr("AsyncQueue",`${e}: ${i}`),_o(i))return new ge(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Ml(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.Z_=new at(_e.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class uo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new uo(e,n,eo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class v2{constructor(){this.queries=IE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=IE(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ge(te.ABORTED,"Firestore shutting down"))}}function IE(){return new ea(i=>OT(i),Bh)}async function E2(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new _2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=jp(h,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Hp(n)}async function T2(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function S2(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&Hp(n)}function A2(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Hp(i){i.ia.forEach(e=>{e.next()})}var $m,DE;(DE=$m||($m={}))._a="default",DE.Cache="cache";class b2{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.key=e}}class fS{constructor(e){this.key=e}}class w2{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=NT(e),this.wa=new eo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new CE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const C=o.get(E),N=jh(this.query,A)?A:null,O=!!C&&this.mutatedKeys.has(C.key),H=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let x=!1;C&&N?C.data.isEqual(N.data)?O!==H&&(s.track({type:3,doc:N}),x=!0):this.va(C,N)||(s.track({type:2,doc:N}),x=!0,(p&&this.ya(N,p)>0||g&&this.ya(N,g)<0)&&(m=!0)):!C&&N?(s.track({type:0,doc:N}),x=!0):C&&!N&&(s.track({type:1,doc:C}),x=!0,(p||g)&&(m=!0)),x&&(N?(h=h.add(N),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,A)=>function(N,O){const H=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return H(N)-H(O)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new uo(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new CE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new fS(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new hS(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return uo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qp="SyncEngine";class R2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class C2{constructor(e){this.key=e,this.Ba=!1}}class I2{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ea(m=>OT(m),Bh),this.qa=new Map,this.Qa=new Set,this.$a=new at(_e.comparator),this.Ka=new Map,this.Ua=new xp,this.Wa={},this.Ga=new Map,this.za=lo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function D2(i,e,n=!0){const s=_S(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await dS(s,e,n,!0),o}async function O2(i,e){const n=_S(i);await dS(n,e,!0,!1)}async function dS(i,e,n,s){const o=await $O(i.localStore,gi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await N2(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&sS(i.remoteStore,o),m}async function N2(i,e,n,s,o){i.Ha=(A,C,N)=>async function(H,x,K,J){let X=x.view.ba(K);X.ls&&(X=await TE(H.localStore,x.query,!1).then(({documents:M})=>x.view.ba(M,X)));const he=J&&J.targetChanges.get(x.targetId),ae=J&&J.targetMismatches.get(x.targetId)!=null,ye=x.view.applyChanges(X,H.isPrimaryClient,he,ae);return NE(H,x.targetId,ye.Ma),ye.snapshot}(i,A,C,N);const u=await TE(i.localStore,e,!0),h=new w2(e,u.gs),m=h.ba(u.documents),p=au.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);NE(i,n,g.Ma);const E=new R2(e,n,h);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function x2(i,e,n){const s=we(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Bh(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&kp(s.remoteStore,o.targetId),Qm(s,o.targetId)}).catch(yo)):(Qm(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function M2(i,e){const n=we(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),kp(n.remoteStore,s.targetId))}async function V2(i,e,n){const s=j2(i);try{const o=await function(h,m){const p=we(h),g=Dt.now(),E=m.reduce((N,O)=>N.add(O.key),Ve());let A,C;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=sr(),H=Ve();return p.ds.getEntries(N,E).next(x=>{O=x,O.forEach((K,J)=>{J.isValidDocument()||(H=H.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,O)).next(x=>{A=x;const K=[];for(const J of m){const X=KD(J,A.get(J.key).overlayedDocument);X!=null&&K.push(new ta(J.key,X,ST(X.value.mapValue),tr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,K,m)}).next(x=>{C=x;const K=x.applyToLocalDocumentSet(A,H);return p.documentOverlayCache.saveOverlays(N,x.batchId,K)})}).then(()=>({batchId:C.batchId,changes:MT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new at(ke)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,n),await lu(s,o.changes),await $h(s.remoteStore)}catch(o){const u=jp(o,"Failed to persist write");n.reject(u)}}async function mS(i,e){const n=we(i);try{const s=await FO(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ka.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?$e(h.Ba):o.removedDocuments.size>0&&($e(h.Ba),h.Ba=!1))}),await lu(n,s,e)}catch(s){await yo(s)}}function OE(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=we(h);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const C of A.ta)C.sa(m)&&(g=!0)}),g&&Hp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function P2(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new at(_e.comparator);h=h.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Ve().add(u),p=new Fh(Ae.min(),new Map,new at(ke),h,m);await mS(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Fp(s)}else await Gm(s.localStore,e,!1).then(()=>Qm(s,e,n)).catch(yo)}async function k2(i,e){const n=we(i),s=e.batch.batchId;try{const o=await qO(n.localStore,e);gS(n,s,null),pS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lu(n,o)}catch(o){await yo(o)}}async function L2(i,e,n){const s=we(i);try{const o=await function(h,m){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>($e(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);gS(s,e,n),pS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await lu(s,o)}catch(o){await yo(o)}}function pS(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function gS(i,e,n){const s=we(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Qm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||yS(i,s)})}function yS(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(kp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),Fp(i))}function NE(i,e,n){for(const s of n)s instanceof hS?(i.Ua.addReference(s.key,e),U2(i,s)):s instanceof fS?(ue(qp,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||yS(i,s.key)):Te()}function U2(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ue(qp,"New document in limbo: "+n),i.Qa.add(s),Fp(i))}function Fp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new _e(tt.fromString(e)),s=i.za.next();i.Ka.set(s,new C2(n)),i.$a=i.$a.insert(n,s),sS(i.remoteStore,new Qr(gi(DT(n.path)),s,"TargetPurposeLimboResolution",kh.ae))}}async function lu(i,e,n){const s=we(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{h.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Vp.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Z.forEach(g,C=>Z.forEach(C.Hi,N=>E.persistence.referenceDelegate.addReference(A,C.targetId,N)).next(()=>Z.forEach(C.Ji,N=>E.persistence.referenceDelegate.removeReference(A,C.targetId,N)))))}catch(A){if(!_o(A))throw A;ue(Pp,"Failed to update sequence numbers: "+A)}for(const A of g){const C=A.targetId;if(!A.fromCache){const N=E.Ts.get(C),O=N.snapshotVersion,H=N.withLastLimboFreeSnapshotVersion(O);E.Ts=E.Ts.insert(C,H)}}}(s.localStore,u))}async function z2(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){ue(qp,"User change. New user:",e.toKey());const s=await tS(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ge(te.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(n,s.Rs)}}function B2(i,e){const n=we(i),s=n.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const h of u){const m=n.ka.get(h);o=o.unionWith(m.view.Sa)}return o}}function _S(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P2.bind(null,e),e.La.p_=S2.bind(null,e.eventManager),e.La.Ja=A2.bind(null,e.eventManager),e}function j2(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L2.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return HO(this.persistence,new zO,e.initialUser,this.serializer)}Xa(e){return new eS(Mp.ri,this.serializer)}Za(e){return new YO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class H2 extends bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof Sh);const s=this.persistence.referenceDelegate.garbageCollector;return new bO(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new eS(s=>Sh.ri(s,n),this.serializer)}}class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z2.bind(null,this.syncEngine),await y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v2}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=function(u){return new e2(u)}(e.databaseInfo);return function(u,h,m,p){return new r2(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new a2(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>OE(this.syncEngine,n,0),function(){return bE.D()?new bE:new XO}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,E){const A=new I2(o,u,h,m,p,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);ue(Ys,"RemoteStore shutting down."),u.W_.add(5),await ou(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ym.provider={build:()=>new Ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class F2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=fT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue(os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=jp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Em(i,e){i.asyncQueue.verifyOperationInProgress(),ue(os,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function xE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await G2(i);ue(os,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>RE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>RE(e.remoteStore,o)),i._onlineComponents=e}async function G2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(os,"Using user provided OfflineComponentProvider");try{await Em(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await Em(i,new bh)}}else ue(os,"Using default OfflineComponentProvider"),await Em(i,new H2(void 0));return i._offlineComponents}async function vS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(os,"Using user provided OnlineComponentProvider"),await xE(i,i._uninitializedComponentsProvider._online)):(ue(os,"Using default OnlineComponentProvider"),await xE(i,new Ym))),i._onlineComponents}function K2(i){return vS(i).then(e=>e.syncEngine)}async function $2(i){const e=await vS(i),n=e.eventManager;return n.onListen=D2.bind(null,e.syncEngine),n.onUnlisten=x2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M2.bind(null,e.syncEngine),n}function Q2(i,e,n={}){const s=new Jr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new q2({next:C=>{E.su(),h.enqueueAndForget(()=>T2(u,A)),C.fromCache&&p.source==="server"?g.reject(new ge(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),A=new b2(m,E,{includeMetadataChanges:!0,Ta:!0});return E2(u,A)}(await $2(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(i,e,n){if(!n)throw new ge(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Y2(i,e,n,s){if(e===!0&&s===!0)throw new ge(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function VE(i){if(!_e.isDocumentKey(i))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function PE(i){if(_e.isDocumentKey(i))throw new ge(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Gp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function Yl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(i);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firestore.googleapis.com",kE=!0;class LE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SS,this.ssl=kE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SO)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ZI;switch(s.type){case"firstParty":return new nD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ME.get(n);s&&(ue("ComponentProvider","Removing Datastore"),ME.delete(n),s.terminate())}(this),Promise.resolve()}}function X2(i,e,n,s={}){var o;const u=(i=Yl(i,Qh))._getSettings(),h=`${e}:${n}`;if(u.host!==SS&&u.host!==h&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Xt.MOCK_USER;else{m=RR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xt(g)}i._authCredentials=new JI(new hT(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yh(this.firestore,e,this._query)}}class zn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class es extends Yh{constructor(e,n,s){super(e,n,DT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new _e(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function wh(i,e,...n){if(i=En(i),TS("collection","path",e),i instanceof Qh){const s=tt.fromString(e,...n);return PE(s),new es(i,null,s)}{if(!(i instanceof zn||i instanceof es))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return PE(s),new es(i.firestore,null,s)}}function AS(i,e,...n){if(i=En(i),arguments.length===1&&(e=fT.newId()),TS("doc","path",e),i instanceof Qh){const s=tt.fromString(e,...n);return VE(s),new zn(i,null,new _e(s))}{if(!(i instanceof zn||i instanceof es))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return VE(s),new zn(i.firestore,i instanceof es?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iS(this,"async_queue_retry"),this.Su=()=>{const s=vm();s&&ue(UE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Jr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_o(e))throw e;ue(UE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw rr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Kp extends Qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new zE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function W2(i,e){const n=typeof i=="object"?i:b0(),s=typeof i=="string"?i:ph,o=cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bR("firestore");u&&X2(o,...u)}return o}function bS(i){if(i._terminated)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Z2(i),i._firestoreClient}function Z2(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new gD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ES(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new F2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Gt.fromBase64String(e))}catch(n){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=/^__.*__$/;class eN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}function RS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Xp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Rh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(RS(this.Lu)&&J2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class tN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}ju(e,n,s,o=!1){return new Xp({Lu:e,methodName:n,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nN(i){const e=i._freezeSettings(),n=Gh(i._databaseId);return new tN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function iN(i,e,n,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,o);OS("Data must be an object, but it was:",h,s);const m=IS(s,h);let p,g;if(u.merge)p=new $n(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const C=rN(e,A,n);if(!h.contains(C))throw new ge(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);aN(E,C)||E.push(C)}p=new $n(E),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new eN(new Un(m),p,g)}function CS(i,e){if(DS(i=En(i)))return OS("Unsupported field value:",e,i),IS(i,e);if(i instanceof wS)return function(s,o){if(!RS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=CS(m,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Th(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(s instanceof Qp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof co)return{bytesValue:KT(o.serializer,s._byteString)};if(s instanceof zn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yp)return function(h,m){return{mapValue:{fields:{[ET]:{stringValue:TT},[gh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ip(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Gp(s)}`)}(i,e)}function IS(i,e){const n={};return mT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(i,(s,o)=>{const u=CS(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function DS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof Qp||i instanceof co||i instanceof zn||i instanceof wS||i instanceof Yp)}function OS(i,e,n){if(!DS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Gp(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function rN(i,e,n){if((e=En(e))instanceof $p)return e._internalPath;if(typeof e=="string")return NS(i,e);throw Rh("Field path arguments must be of type string or ",i,!1,void 0,n)}const sN=new RegExp("[~\\*/\\[\\]]");function NS(i,e,n){if(e.search(sN)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new $p(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Rh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ge(te.INVALID_ARGUMENT,m+i+p)}function aN(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(MS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oN extends xS{data(){return super.data()}}function MS(i,e){return typeof e=="string"?NS(i,e):e instanceof $p?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uN{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Js(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[gh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>mt(h.doubleValue));return new Yp(u)}convertGeoPoint(e){return new Qp(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=is(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);$e(ZT(s));const o=new Gl(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hN extends xS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(MS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Zc extends hN{data(e={}){return super.data(e)}}class fN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Zc(this._firestore,this._userDataWriter,s.key,s,new zc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:dN(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class mN extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function Ch(i){i=Yl(i,Yh);const e=Yl(i.firestore,Kp),n=bS(e),s=new mN(e);return lN(i._query),Q2(n,i._query).then(o=>new fN(e,s,i,o))}function VS(i,e,n){i=Yl(i,zn);const s=Yl(i.firestore,Kp),o=cN(i.converter,e);return pN(s,[iN(nN(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,tr.none())])}function pN(i,e){return function(s,o){const u=new Jr;return s.asyncQueue.enqueueAndForget(async()=>V2(await K2(s),o,u)),u.promise}(bS(i),e)}(function(e,n=!0){(function(o){go=o})(mo),no(new Ks("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Kp(new eD(s.getProvider("auth-internal")),new iD(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Wr(Kv,$v,e),Wr(Kv,$v,"esm2017")})();const gN={apiKey:"AIzaSyAfxUGYQklz-rFC0e2J1lkL_nykvoSmVwg",authDomain:"blog-challenge-infobae.firebaseapp.com",projectId:"blog-challenge-infobae",storageBucket:"blog-challenge-infobae.firebasestorage.app",messagingSenderId:"917139620599",appId:"1:917139620599:web:a8073e2009c468e2eec9f2"},PS=A0(gN),to=W2(PS),Jc=QI(PS),kS=new Xi;async function yN(){try{return(await iT(Jc,kS)).user}catch(i){throw console.error("Google Sign-In error",i),i}}const LS=G.createContext(void 0),_N=({children:i})=>{const[e,n]=G.useState(null);G.useEffect(()=>{const u=LC(Jc,h=>{n(h)});return()=>u()},[]);const s=async()=>{try{const u=await iT(Jc,kS);n(u.user)}catch(u){console.error("Google Sign-In Error:",u)}},o=()=>UC(Jc);return re.jsx(LS.Provider,{value:{user:e,loginWithGoogle:s,logout:o},children:i})},Wp=()=>{const i=G.useContext(LS);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i};function vN(){const{user:i,logout:e}=Wp();return re.jsx("div",{children:i?re.jsxs("div",{className:"flex items-center gap-2",children:[re.jsxs("p",{children:["Welcome, ",i.displayName]}),re.jsx("button",{className:"px-4 py-2 rounded-lg font-medium bg-orange-200 hover:bg-orange-300 transition-all duration-300 ease-in-out cursor-pointer",onClick:e,children:"Logout"})]}):re.jsx("button",{className:"px-4 py-2 rounded-lg font-medium bg-orange-200 hover:bg-orange-300 transition-all duration-300 ease-in-out cursor-pointer",onClick:async()=>{try{await yN()}catch(n){console.error("Login failed",n)}},children:"Sign in with Google"})})}function EN(){const{user:i}=Wp();return re.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[re.jsxs("div",{className:"flex items-center justify-between mb-4",children:[re.jsxs("ul",{className:"flex gap-2",children:[re.jsx("li",{children:re.jsx(sh,{to:"/",children:"Posts"})}),i&&re.jsx("li",{children:re.jsx(sh,{to:"/users",children:"Users"})})]}),re.jsx(vN,{})]}),re.jsx(Pw,{})]})}function US(i,e){return function(){return i.apply(e,arguments)}}const{toString:TN}=Object.prototype,{getPrototypeOf:Zp}=Object,Xh=(i=>e=>{const n=TN.call(e);return i[n]||(i[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=i=>(i=i.toLowerCase(),e=>Xh(e)===i),Wh=i=>e=>typeof e===i,{isArray:Eo}=Array,Xl=Wh("undefined");function SN(i){return i!==null&&!Xl(i)&&i.constructor!==null&&!Xl(i.constructor)&&vn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const zS=Xn("ArrayBuffer");function AN(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&zS(i.buffer),e}const bN=Wh("string"),vn=Wh("function"),BS=Wh("number"),Zh=i=>i!==null&&typeof i=="object",wN=i=>i===!0||i===!1,eh=i=>{if(Xh(i)!=="object")return!1;const e=Zp(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},RN=Xn("Date"),CN=Xn("File"),IN=Xn("Blob"),DN=Xn("FileList"),ON=i=>Zh(i)&&vn(i.pipe),NN=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||vn(i.append)&&((e=Xh(i))==="formdata"||e==="object"&&vn(i.toString)&&i.toString()==="[object FormData]"))},xN=Xn("URLSearchParams"),[MN,VN,PN,kN]=["ReadableStream","Request","Response","Headers"].map(Xn),LN=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uu(i,e,{allOwnKeys:n=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),Eo(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=n?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,i[m],m,i)}}function jS(i,e){e=e.toLowerCase();const n=Object.keys(i);let s=n.length,o;for(;s-- >0;)if(o=n[s],e===o.toLowerCase())return o;return null}const qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HS=i=>!Xl(i)&&i!==qs;function Xm(){const{caseless:i}=HS(this)&&this||{},e={},n=(s,o)=>{const u=i&&jS(e,o)||o;eh(e[u])&&eh(s)?e[u]=Xm(e[u],s):eh(s)?e[u]=Xm({},s):Eo(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&uu(arguments[s],n);return e}const UN=(i,e,n,{allOwnKeys:s}={})=>(uu(e,(o,u)=>{n&&vn(o)?i[u]=US(o,n):i[u]=o},{allOwnKeys:s}),i),zN=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),BN=(i,e,n,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),n&&Object.assign(i.prototype,n)},jN=(i,e,n,s)=>{let o,u,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=n!==!1&&Zp(i)}while(i&&(!n||n(i,e))&&i!==Object.prototype);return e},HN=(i,e,n)=>{i=String(i),(n===void 0||n>i.length)&&(n=i.length),n-=e.length;const s=i.indexOf(e,n);return s!==-1&&s===n},qN=i=>{if(!i)return null;if(Eo(i))return i;let e=i.length;if(!BS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=i[e];return n},FN=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Zp(Uint8Array)),GN=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},KN=(i,e)=>{let n;const s=[];for(;(n=i.exec(e))!==null;)s.push(n);return s},$N=Xn("HTMLFormElement"),QN=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),BE=(({hasOwnProperty:i})=>(e,n)=>i.call(e,n))(Object.prototype),YN=Xn("RegExp"),qS=(i,e)=>{const n=Object.getOwnPropertyDescriptors(i),s={};uu(n,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},XN=i=>{qS(i,(e,n)=>{if(vn(i)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=i[n];if(vn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},WN=(i,e)=>{const n={},s=o=>{o.forEach(u=>{n[u]=!0})};return Eo(i)?s(i):s(String(i).split(e)),n},ZN=()=>{},JN=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e,Tm="abcdefghijklmnopqrstuvwxyz",jE="0123456789",FS={DIGIT:jE,ALPHA:Tm,ALPHA_DIGIT:Tm+Tm.toUpperCase()+jE},ex=(i=16,e=FS.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;i--;)n+=e[Math.random()*s|0];return n};function tx(i){return!!(i&&vn(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const nx=i=>{const e=new Array(10),n=(s,o)=>{if(Zh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Eo(s)?[]:{};return uu(s,(h,m)=>{const p=n(h,o+1);!Xl(p)&&(u[m]=p)}),e[o]=void 0,u}}return s};return n(i,0)},ix=Xn("AsyncFunction"),rx=i=>i&&(Zh(i)||vn(i))&&vn(i.then)&&vn(i.catch),GS=((i,e)=>i?setImmediate:e?((n,s)=>(qs.addEventListener("message",({source:o,data:u})=>{o===qs&&u===n&&s.length&&s.shift()()},!1),o=>{s.push(o),qs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",vn(qs.postMessage)),sx=typeof queueMicrotask<"u"?queueMicrotask.bind(qs):typeof process<"u"&&process.nextTick||GS,$={isArray:Eo,isArrayBuffer:zS,isBuffer:SN,isFormData:NN,isArrayBufferView:AN,isString:bN,isNumber:BS,isBoolean:wN,isObject:Zh,isPlainObject:eh,isReadableStream:MN,isRequest:VN,isResponse:PN,isHeaders:kN,isUndefined:Xl,isDate:RN,isFile:CN,isBlob:IN,isRegExp:YN,isFunction:vn,isStream:ON,isURLSearchParams:xN,isTypedArray:FN,isFileList:DN,forEach:uu,merge:Xm,extend:UN,trim:LN,stripBOM:zN,inherits:BN,toFlatObject:jN,kindOf:Xh,kindOfTest:Xn,endsWith:HN,toArray:qN,forEachEntry:GN,matchAll:KN,isHTMLForm:$N,hasOwnProperty:BE,hasOwnProp:BE,reduceDescriptors:qS,freezeMethods:XN,toObjectSet:WN,toCamelCase:QN,noop:ZN,toFiniteNumber:JN,findKey:jS,global:qs,isContextDefined:HS,ALPHABET:FS,generateString:ex,isSpecCompliantForm:tx,toJSONObject:nx,isAsyncFn:ix,isThenable:rx,setImmediate:GS,asap:sx};function Re(i,e,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}$.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const KS=Re.prototype,$S={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{$S[i]={value:i}});Object.defineProperties(Re,$S);Object.defineProperty(KS,"isAxiosError",{value:!0});Re.from=(i,e,n,s,o,u)=>{const h=Object.create(KS);return $.toFlatObject(i,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),Re.call(h,i.message,e,n,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const ax=null;function Wm(i){return $.isPlainObject(i)||$.isArray(i)}function QS(i){return $.endsWith(i,"[]")?i.slice(0,-2):i}function HE(i,e,n){return i?i.concat(e).map(function(o,u){return o=QS(o),!n&&u?"["+o+"]":o}).join(n?".":""):e}function ox(i){return $.isArray(i)&&!i.some(Wm)}const lx=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function Jh(i,e,n){if(!$.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,x){return!$.isUndefined(x[H])});const s=n.metaTokens,o=n.visitor||E,u=n.dots,h=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function g(O){if(O===null)return"";if($.isDate(O))return O.toISOString();if(!p&&$.isBlob(O))throw new Re("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(O)||$.isTypedArray(O)?p&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function E(O,H,x){let K=O;if(O&&!x&&typeof O=="object"){if($.endsWith(H,"{}"))H=s?H:H.slice(0,-2),O=JSON.stringify(O);else if($.isArray(O)&&ox(O)||($.isFileList(O)||$.endsWith(H,"[]"))&&(K=$.toArray(O)))return H=QS(H),K.forEach(function(X,he){!($.isUndefined(X)||X===null)&&e.append(h===!0?HE([H],he,u):h===null?H:H+"[]",g(X))}),!1}return Wm(O)?!0:(e.append(HE(x,H,u),g(O)),!1)}const A=[],C=Object.assign(lx,{defaultVisitor:E,convertValue:g,isVisitable:Wm});function N(O,H){if(!$.isUndefined(O)){if(A.indexOf(O)!==-1)throw Error("Circular reference detected in "+H.join("."));A.push(O),$.forEach(O,function(K,J){(!($.isUndefined(K)||K===null)&&o.call(e,K,$.isString(J)?J.trim():J,H,C))===!0&&N(K,H?H.concat(J):[J])}),A.pop()}}if(!$.isObject(i))throw new TypeError("data must be an object");return N(i),e}function qE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Jp(i,e){this._pairs=[],i&&Jh(i,this,e)}const YS=Jp.prototype;YS.append=function(e,n){this._pairs.push([e,n])};YS.toString=function(e){const n=e?function(s){return e.call(this,s,qE)}:qE;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function ux(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XS(i,e,n){if(!e)return i;const s=n&&n.encode||ux;$.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let u;if(o?u=o(e,n):u=$.isURLSearchParams(e)?e.toString():new Jp(e,n).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class FE{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(s){s!==null&&e(s)})}}const WS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cx=typeof URLSearchParams<"u"?URLSearchParams:Jp,hx=typeof FormData<"u"?FormData:null,fx=typeof Blob<"u"?Blob:null,dx={isBrowser:!0,classes:{URLSearchParams:cx,FormData:hx,Blob:fx},protocols:["http","https","file","blob","url","data"]},eg=typeof window<"u"&&typeof document<"u",Zm=typeof navigator=="object"&&navigator||void 0,mx=eg&&(!Zm||["ReactNative","NativeScript","NS"].indexOf(Zm.product)<0),px=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gx=eg&&window.location.href||"http://localhost",yx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:eg,hasStandardBrowserEnv:mx,hasStandardBrowserWebWorkerEnv:px,navigator:Zm,origin:gx},Symbol.toStringTag,{value:"Module"})),Zt={...yx,...dx};function _x(i,e){return Jh(i,new Zt.classes.URLSearchParams,Object.assign({visitor:function(n,s,o,u){return Zt.isNode&&$.isBuffer(n)?(this.append(s,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function vx(i){return $.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ex(i){const e={},n=Object.keys(i);let s;const o=n.length;let u;for(s=0;s<o;s++)u=n[s],e[u]=i[u];return e}function ZS(i){function e(n,s,o,u){let h=n[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=n.length;return h=!h&&$.isArray(o)?o.length:h,p?($.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!$.isObject(o[h]))&&(o[h]=[]),e(n,s,o[h],u)&&$.isArray(o[h])&&(o[h]=Ex(o[h])),!m)}if($.isFormData(i)&&$.isFunction(i.entries)){const n={};return $.forEachEntry(i,(s,o)=>{e(vx(s),o,n,0)}),n}return null}function Tx(i,e,n){if($.isString(i))try{return(e||JSON.parse)(i),$.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(i)}const cu={transitional:WS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,u=$.isObject(e);if(u&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return o?JSON.stringify(ZS(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return _x(e,this.formSerializer).toString();if((m=$.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Jh(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(n.setContentType("application/json",!1),Tx(e)):e}],transformResponse:[function(e){const n=this.transitional||cu.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(s&&!this.responseType||o)){const h=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Re.from(m,Re.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],i=>{cu.headers[i]={}});const Sx=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ax=i=>{const e={};let n,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),n=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!n||e[n]&&Sx[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},GE=Symbol("internals");function Nl(i){return i&&String(i).trim().toLowerCase()}function th(i){return i===!1||i==null?i:$.isArray(i)?i.map(th):String(i)}function bx(i){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(i);)e[s[1]]=s[2];return e}const wx=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Sm(i,e,n,s,o){if($.isFunction(s))return s.call(this,e,n);if(o&&(e=n),!!$.isString(e)){if($.isString(s))return e.indexOf(s)!==-1;if($.isRegExp(s))return s.test(e)}}function Rx(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function Cx(i,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+n,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let hn=class{constructor(e){e&&this.set(e)}set(e,n,s){const o=this;function u(m,p,g){const E=Nl(p);if(!E)throw new Error("header name must be a non-empty string");const A=$.findKey(o,E);(!A||o[A]===void 0||g===!0||g===void 0&&o[A]!==!1)&&(o[A||p]=th(m))}const h=(m,p)=>$.forEach(m,(g,E)=>u(g,E,p));if($.isPlainObject(e)||e instanceof this.constructor)h(e,n);else if($.isString(e)&&(e=e.trim())&&!wx(e))h(Ax(e),n);else if($.isHeaders(e))for(const[m,p]of e.entries())u(p,m,s);else e!=null&&u(n,e,s);return this}get(e,n){if(e=Nl(e),e){const s=$.findKey(this,e);if(s){const o=this[s];if(!n)return o;if(n===!0)return bx(o);if($.isFunction(n))return n.call(this,o,s);if($.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Nl(e),e){const s=$.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Sm(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let o=!1;function u(h){if(h=Nl(h),h){const m=$.findKey(s,h);m&&(!n||Sm(s,s[m],m,n))&&(delete s[m],o=!0)}}return $.isArray(e)?e.forEach(u):u(e),o}clear(e){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const u=n[s];(!e||Sm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const n=this,s={};return $.forEach(this,(o,u)=>{const h=$.findKey(s,u);if(h){n[h]=th(o),delete n[u];return}const m=e?Rx(u):String(u).trim();m!==u&&delete n[u],n[m]=th(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=e&&$.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[GE]=this[GE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=Nl(h);s[m]||(Cx(o,h),s[m]=!0)}return $.isArray(e)?e.forEach(u):u(e),this}};hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(hn.prototype,({value:i},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[n]=s}}});$.freezeMethods(hn);function Am(i,e){const n=this||cu,s=e||n,o=hn.from(s.headers);let u=s.data;return $.forEach(i,function(m){u=m.call(n,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function JS(i){return!!(i&&i.__CANCEL__)}function To(i,e,n){Re.call(this,i??"canceled",Re.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(To,Re,{__CANCEL__:!0});function eA(i,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?i(n):e(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ix(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function Dx(i,e){i=i||10;const n=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),E=s[u];h||(h=g),n[o]=p,s[o]=g;let A=u,C=0;for(;A!==o;)C+=n[A++],A=A%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const N=E&&g-E;return N?Math.round(C*1e3/N):void 0}}function Ox(i,e){let n=0,s=1e3/e,o,u;const h=(g,E=Date.now())=>{n=E,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const E=Date.now(),A=E-n;A>=s?h(g,E):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-A)))},()=>o&&h(o)]}const Ih=(i,e,n=3)=>{let s=0;const o=Dx(50,250);return Ox(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),E=h<=m;s=h;const A={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&E?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(A)},n)},KE=(i,e)=>{const n=i!=null;return[s=>e[0]({lengthComputable:n,total:i,loaded:s}),e[1]]},$E=i=>(...e)=>$.asap(()=>i(...e)),Nx=Zt.hasStandardBrowserEnv?((i,e)=>n=>(n=new URL(n,Zt.origin),i.protocol===n.protocol&&i.host===n.host&&(e||i.port===n.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,xx=Zt.hasStandardBrowserEnv?{write(i,e,n,s,o,u){const h=[i+"="+encodeURIComponent(e)];$.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),$.isString(s)&&h.push("path="+s),$.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mx(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Vx(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function tA(i,e){return i&&!Mx(e)?Vx(i,e):e}const QE=i=>i instanceof hn?{...i}:i;function Xs(i,e){e=e||{};const n={};function s(g,E,A,C){return $.isPlainObject(g)&&$.isPlainObject(E)?$.merge.call({caseless:C},g,E):$.isPlainObject(E)?$.merge({},E):$.isArray(E)?E.slice():E}function o(g,E,A,C){if($.isUndefined(E)){if(!$.isUndefined(g))return s(void 0,g,A,C)}else return s(g,E,A,C)}function u(g,E){if(!$.isUndefined(E))return s(void 0,E)}function h(g,E){if($.isUndefined(E)){if(!$.isUndefined(g))return s(void 0,g)}else return s(void 0,E)}function m(g,E,A){if(A in e)return s(g,E);if(A in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,E,A)=>o(QE(g),QE(E),A,!0)};return $.forEach(Object.keys(Object.assign({},i,e)),function(E){const A=p[E]||o,C=A(i[E],e[E],E);$.isUndefined(C)&&A!==m||(n[E]=C)}),n}const nA=i=>{const e=Xs({},i);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=hn.from(h),e.url=XS(tA(e.baseURL,e.url),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if($.isFormData(n)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,...E]=p?p.split(";").map(A=>A.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...E].join("; "))}}if(Zt.hasStandardBrowserEnv&&(s&&$.isFunction(s)&&(s=s(e)),s||s!==!1&&Nx(e.url))){const g=o&&u&&xx.read(u);g&&h.set(o,g)}return e},Px=typeof XMLHttpRequest<"u",kx=Px&&function(i){return new Promise(function(n,s){const o=nA(i);let u=o.data;const h=hn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,E,A,C,N,O;function H(){N&&N(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function K(){if(!x)return;const X=hn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),ae={data:!m||m==="text"||m==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:X,config:i,request:x};eA(function(M){n(M),H()},function(M){s(M),H()},ae),x=null}"onloadend"in x?x.onloadend=K:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(K)},x.onabort=function(){x&&(s(new Re("Request aborted",Re.ECONNABORTED,i,x)),x=null)},x.onerror=function(){s(new Re("Network Error",Re.ERR_NETWORK,i,x)),x=null},x.ontimeout=function(){let he=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ae=o.transitional||WS;o.timeoutErrorMessage&&(he=o.timeoutErrorMessage),s(new Re(he,ae.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,i,x)),x=null},u===void 0&&h.setContentType(null),"setRequestHeader"in x&&$.forEach(h.toJSON(),function(he,ae){x.setRequestHeader(ae,he)}),$.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),m&&m!=="json"&&(x.responseType=o.responseType),g&&([C,O]=Ih(g,!0),x.addEventListener("progress",C)),p&&x.upload&&([A,N]=Ih(p),x.upload.addEventListener("progress",A),x.upload.addEventListener("loadend",N)),(o.cancelToken||o.signal)&&(E=X=>{x&&(s(!X||X.type?new To(null,i,x):X),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const J=Ix(o.url);if(J&&Zt.protocols.indexOf(J)===-1){s(new Re("Unsupported protocol "+J+":",Re.ERR_BAD_REQUEST,i));return}x.send(u||null)})},Lx=(i,e)=>{const{length:n}=i=i?i.filter(Boolean):[];if(e||n){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const E=g instanceof Error?g:this.reason;s.abort(E instanceof Re?E:new To(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,u(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>$.asap(m),p}},Ux=function*(i,e){let n=i.byteLength;if(n<e){yield i;return}let s=0,o;for(;s<n;)o=s+e,yield i.slice(s,o),s=o},zx=async function*(i,e){for await(const n of Bx(i))yield*Ux(n,e)},Bx=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},YE=(i,e,n,s)=>{const o=zx(i,e);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:E}=await o.next();if(g){m(),p.close();return}let A=E.byteLength;if(n){let C=u+=A;n(C)}p.enqueue(new Uint8Array(E))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},ef=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",iA=ef&&typeof ReadableStream=="function",jx=ef&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),rA=(i,...e)=>{try{return!!i(...e)}catch{return!1}},Hx=iA&&rA(()=>{let i=!1;const e=new Request(Zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),XE=64*1024,Jm=iA&&rA(()=>$.isReadableStream(new Response("").body)),Dh={stream:Jm&&(i=>i.body)};ef&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dh[e]&&(Dh[e]=$.isFunction(i[e])?n=>n[e]():(n,s)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,s)})})})(new Response);const qx=async i=>{if(i==null)return 0;if($.isBlob(i))return i.size;if($.isSpecCompliantForm(i))return(await new Request(Zt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if($.isArrayBufferView(i)||$.isArrayBuffer(i))return i.byteLength;if($.isURLSearchParams(i)&&(i=i+""),$.isString(i))return(await jx(i)).byteLength},Fx=async(i,e)=>{const n=$.toFiniteNumber(i.getContentLength());return n??qx(e)},Gx=ef&&(async i=>{let{url:e,method:n,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:E,withCredentials:A="same-origin",fetchOptions:C}=nA(i);g=g?(g+"").toLowerCase():"text";let N=Lx([o,u&&u.toAbortSignal()],h),O;const H=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let x;try{if(p&&Hx&&n!=="get"&&n!=="head"&&(x=await Fx(E,s))!==0){let ae=new Request(e,{method:"POST",body:s,duplex:"half"}),ye;if($.isFormData(s)&&(ye=ae.headers.get("content-type"))&&E.setContentType(ye),ae.body){const[M,w]=KE(x,Ih($E(p)));s=YE(ae.body,XE,M,w)}}$.isString(A)||(A=A?"include":"omit");const K="credentials"in Request.prototype;O=new Request(e,{...C,signal:N,method:n.toUpperCase(),headers:E.normalize().toJSON(),body:s,duplex:"half",credentials:K?A:void 0});let J=await fetch(O);const X=Jm&&(g==="stream"||g==="response");if(Jm&&(m||X&&H)){const ae={};["status","statusText","headers"].forEach(b=>{ae[b]=J[b]});const ye=$.toFiniteNumber(J.headers.get("content-length")),[M,w]=m&&KE(ye,Ih($E(m),!0))||[];J=new Response(YE(J.body,XE,M,()=>{w&&w(),H&&H()}),ae)}g=g||"text";let he=await Dh[$.findKey(Dh,g)||"text"](J,i);return!X&&H&&H(),await new Promise((ae,ye)=>{eA(ae,ye,{data:he,headers:hn.from(J.headers),status:J.status,statusText:J.statusText,config:i,request:O})})}catch(K){throw H&&H(),K&&K.name==="TypeError"&&/fetch/i.test(K.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,i,O),{cause:K.cause||K}):Re.from(K,K&&K.code,i,O)}}),ep={http:ax,xhr:kx,fetch:Gx};$.forEach(ep,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const WE=i=>`- ${i}`,Kx=i=>$.isFunction(i)||i===null||i===!1,sA={getAdapter:i=>{i=$.isArray(i)?i:[i];const{length:e}=i;let n,s;const o={};for(let u=0;u<e;u++){n=i[u];let h;if(s=n,!Kx(n)&&(s=ep[(h=String(n)).toLowerCase()],s===void 0))throw new Re(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(WE).join(`
`):" "+WE(u[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:ep};function bm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new To(null,i)}function ZE(i){return bm(i),i.headers=hn.from(i.headers),i.data=Am.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),sA.getAdapter(i.adapter||cu.adapter)(i).then(function(s){return bm(i),s.data=Am.call(i,i.transformResponse,s),s.headers=hn.from(s.headers),s},function(s){return JS(s)||(bm(i),s&&s.response&&(s.response.data=Am.call(i,i.transformResponse,s.response),s.response.headers=hn.from(s.response.headers))),Promise.reject(s)})}const aA="1.7.9",tf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{tf[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const JE={};tf.transitional=function(e,n,s){function o(u,h){return"[Axios v"+aA+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Re(o(h," has been removed"+(n?" in "+n:"")),Re.ERR_DEPRECATED);return n&&!JE[h]&&(JE[h]=!0,console.warn(o(h," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(u,h,m):!0}};tf.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function $x(i,e,n){if(typeof i!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=i[u],p=m===void 0||h(m,u,i);if(p!==!0)throw new Re("option "+u+" must be "+p,Re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Re("Unknown option "+u,Re.ERR_BAD_OPTION)}}const nh={assertOptions:$x,validators:tf},di=nh.validators;let Gs=class{constructor(e){this.defaults=e,this.interceptors={request:new FE,response:new FE}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xs(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:u}=n;s!==void 0&&nh.assertOptions(s,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),o!=null&&($.isFunction(o)?n.paramsSerializer={serialize:o}:nh.assertOptions(o,{encode:di.function,serialize:di.function},!0)),nh.assertOptions(n,{baseUrl:di.spelling("baseURL"),withXsrfToken:di.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=u&&$.merge(u.common,u[n.method]);u&&$.forEach(["delete","get","head","post","put","patch","common"],O=>{delete u[O]}),n.headers=hn.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(n)===!1||(p=p&&H.synchronous,m.unshift(H.fulfilled,H.rejected))});const g=[];this.interceptors.response.forEach(function(H){g.push(H.fulfilled,H.rejected)});let E,A=0,C;if(!p){const O=[ZE.bind(this),void 0];for(O.unshift.apply(O,m),O.push.apply(O,g),C=O.length,E=Promise.resolve(n);A<C;)E=E.then(O[A++],O[A++]);return E}C=m.length;let N=n;for(A=0;A<C;){const O=m[A++],H=m[A++];try{N=O(N)}catch(x){H.call(this,x);break}}try{E=ZE.call(this,N)}catch(O){return Promise.reject(O)}for(A=0,C=g.length;A<C;)E=E.then(g[A++],g[A++]);return E}getUri(e){e=Xs(this.defaults,e);const n=tA(e.baseURL,e.url);return XS(n,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){Gs.prototype[e]=function(n,s){return this.request(Xs(s||{},{method:e,url:n,data:(s||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(s){return function(u,h,m){return this.request(Xs(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Gs.prototype[e]=n(),Gs.prototype[e+"Form"]=n(!0)});let Qx=class oA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new To(u,h,m),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new oA(function(o){e=o}),cancel:e}}};function Yx(i){return function(n){return i.apply(null,n)}}function Xx(i){return $.isObject(i)&&i.isAxiosError===!0}const tp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tp).forEach(([i,e])=>{tp[e]=i});function lA(i){const e=new Gs(i),n=US(Gs.prototype.request,e);return $.extend(n,Gs.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return lA(Xs(i,o))},n}const et=lA(cu);et.Axios=Gs;et.CanceledError=To;et.CancelToken=Qx;et.isCancel=JS;et.VERSION=aA;et.toFormData=Jh;et.AxiosError=Re;et.Cancel=et.CanceledError;et.all=function(e){return Promise.all(e)};et.spread=Yx;et.isAxiosError=Xx;et.mergeConfig=Xs;et.AxiosHeaders=hn;et.formToJSON=i=>ZS($.isHTMLForm(i)?new FormData(i):i);et.getAdapter=sA.getAdapter;et.HttpStatusCode=tp;et.default=et;const{Axios:SM,AxiosError:AM,CanceledError:bM,isCancel:wM,CancelToken:RM,VERSION:CM,all:IM,Cancel:DM,isAxiosError:OM,spread:NM,toFormData:xM,AxiosHeaders:MM,HttpStatusCode:VM,formToJSON:PM,getAdapter:kM,mergeConfig:LM}=et,ho="https://dummyjson.com";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uA=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=G.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>G.createElement("svg",{ref:p,...Zx,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:uA("lucide",o),...m},[...h.map(([g,E])=>G.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=(i,e)=>{const n=G.forwardRef(({className:s,...o},u)=>G.createElement(Jx,{ref:u,iconNode:e,className:uA(`lucide-${Wx(i)}`,s),...o}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tM=nf("ChevronLeft",eM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iM=nf("ChevronRight",nM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],sM=nf("Heart",rM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oM=nf("X",aM);function ih(i){return i.charAt(0).toUpperCase()+i.slice(1)}function lM({comment:i}){return re.jsxs("article",{className:"w-full h-full border-b last:border-none py-2 border-gray-300 relative",children:[re.jsxs("div",{className:"flex flex-row justify-between items-center",children:[re.jsx("h2",{className:"font-bold",children:ih(i.user.username)}),re.jsxs("span",{className:"flex gap-1 font-bold items-center",children:[i.likes," ",re.jsx(sM,{className:"w-4 h-4"})]})]}),re.jsx("p",{children:i.body})]})}function uM(){return re.jsx("div",{className:"inline-block text-center h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-e-transparent align-[-0.125em] text-surface motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:re.jsx("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})})}function cM({postId:i,setShowComment:e}){const[n,s]=G.useState(null),[o,u]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{const h=await et.get(`${ho}/comments/post/${i}`);s(h.data.comments),u(!1)}catch(h){console.error(h)}})()},[]),re.jsxs("div",{className:"flex flex-col p-4 relative pt-8 items-center",children:[re.jsx("button",{className:"absolute top-2 right-2 cursor-pointer",onClick:()=>e(!1),children:re.jsx(oM,{})}),o?re.jsx(uM,{}):n&&n.length>0?n==null?void 0:n.map(h=>re.jsx(lM,{comment:h},h.id)):re.jsx("article",{className:"h-full",children:"No comments"})]})}function hM({post:i}){const[e,n]=G.useState(null),[s,o]=G.useState(!1);return G.useEffect(()=>{(async()=>{try{const u=await et.get(`${ho}/users/${i.userId}`);n(u.data)}catch(u){console.error(u)}})()},[]),re.jsx("article",{className:"shadow-md rounded-md max-w-[260px] h-full",children:s?re.jsx(cM,{setShowComment:o,postId:i.id}):re.jsxs(re.Fragment,{children:[re.jsx("img",{width:260,height:180,className:"rounded-t-md",src:"https://dummyjson.com/image/260x180"}),re.jsxs("div",{className:"p-4 space-y-4",children:[re.jsx("div",{className:"flex gap-2 items-center justify-center w-full",children:i.tags.map((u,h)=>re.jsx("span",{className:"px-4 py-2 text-xs rounded-full bg-orange-100 font-medium",children:u.charAt(0).toUpperCase()+u.slice(1)},`${u}-${h}`))}),re.jsxs("div",{className:"flex justify-between items-center",children:[re.jsx("h1",{className:"font-semibold",children:e?`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`:"Loading..."}),re.jsx("button",{onClick:()=>o(!0),className:"text-sm text-orange-500 font-medium hover:text-orange-700 hover:underline transition-all duration-300 ease-in-out cursor-pointer",children:"Comments"})]})]})," "]})})}function fM({tags:i,selectedTag:e,setSelectedTag:n}){const s=G.useRef(null),o=u=>{s.current&&s.current.scrollBy({left:u==="left"?-320:320,behavior:"smooth"})};return re.jsxs("div",{className:"relative flex items-center",children:[re.jsx("button",{className:"absolute -left-4 z-10 bg-orange-300 p-2 rounded-full shadow-md hover:bg-orange-400",onClick:()=>o("left"),children:re.jsx(tM,{size:20})}),re.jsx("section",{ref:s,className:"flex flex-row gap-4 overflow-x-auto whitespace-nowrap scrollbar-hide px-8",children:i==null?void 0:i.map(u=>re.jsx("button",{className:`${(e==null?void 0:e.name)===u.name?"bg-orange-300":"bg-orange-200"} px-4 py-2 cursor-pointer text-xs font-medium rounded-md transition-all ease-in-out duration-300`,onClick:()=>n(u),children:u.name},u.slug))}),re.jsx("button",{className:"absolute -right-4 z-10 bg-orange-300 p-2 rounded-full shadow-md hover:bg-orange-400",onClick:()=>o("right"),children:re.jsx(iM,{size:20})})]})}async function dM(){try{const i=await Ch(wh(to,"posts"));if(!i.empty)return i.docs.map(o=>({id:o.id,...o.data()}));const n=(await et.get(`${ho}/posts?limit=20`)).data.posts;for(const o of n){const u=AS(to,"posts",o.id.toString());await VS(u,{body:o.body,tags:o.tags,userId:o.userId})}return(await Ch(wh(to,"posts"))).docs.map(o=>({id:o.id,...o.data()}))}catch(i){return console.error("Error fetching or persisting posts:",i),[]}}function mM(){const[i,e]=G.useState([]),[n,s]=G.useState([]),[o,u]=G.useState(null);return G.useEffect(()=>{(async()=>{try{const h=await et.get(`${ho}/posts/tags`);s(h.data)}catch(h){console.error(h)}})(),(async()=>{try{const h=await dM();e(h)}catch(h){console.error(h)}})()},[]),G.useEffect(()=>{(async()=>{if(o)try{const h=await et.get(`${ho}/posts/tag/${o.slug}`);e(h.data.posts)}catch(h){console.error(h)}})()},[o]),re.jsxs("main",{className:"space-y-8 my-10 mx-auto",children:[re.jsx(fM,{tags:n,setSelectedTag:u,selectedTag:o}),re.jsx("section",{className:"grid grid-cols-[repeat(auto-fill,minmax(260px,1fr))] gap-8 items-center justify-center",children:i.map(h=>re.jsx(hM,{post:h},h.id))})]})}function pM({user:i}){return re.jsxs("tr",{className:"bg-white border-b border-gray-200",children:[re.jsx("td",{className:"px-6 py-4",children:re.jsx("img",{src:i.image,width:40,height:40,alt:i.username})}),re.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:ih(i.name)}),re.jsx("td",{className:"px-6 py-4",children:ih(i.username)}),re.jsx("td",{className:"px-6 py-4",children:i.email}),re.jsx("td",{className:"px-6 py-4",children:i.phone}),re.jsx("td",{className:"px-6 py-4",children:ih(i.role)})]})}async function gM(){try{const i=await Ch(wh(to,"users"));if(!i.empty)return i.docs.map(o=>({id:o.id,...o.data()}));const n=(await et.get(`${ho}/users?limit=20`)).data.users;for(const o of n){const u=AS(to,"users",o.id.toString());await VS(u,{name:o.firstName+" "+o.lastName,username:o.username,email:o.email,phone:o.phone,image:o.image,role:o.role})}return(await Ch(wh(to,"users"))).docs.map(o=>({id:o.id,...o.data()}))}catch(i){return console.error("Error fetching or persisting users:",i),[]}}function yM(){const{user:i}=Wp(),[e,n]=G.useState(null);return G.useEffect(()=>{i?(async()=>{try{const s=await gM();console.log(s),n(s)}catch(s){console.error(s)}})():window.location.replace("/")},[]),re.jsx("section",{className:"text-3xl text-red-500",children:re.jsx("div",{className:"relative overflow-x-auto",children:re.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[re.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:re.jsxs("tr",{children:[re.jsx("th",{scope:"col",className:"px-6 py-3"}),re.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),re.jsx("th",{scope:"col",className:"px-6 py-3",children:"User name"}),re.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),re.jsx("th",{scope:"col",className:"px-6 py-3",children:"Phone"}),re.jsx("th",{scope:"col",className:"px-6 py-3",children:"Role"})]})}),re.jsx("tbody",{children:e==null?void 0:e.map(s=>re.jsx(pM,{user:s},s.id))})]})})})}function _M(){return re.jsx(Lw,{children:re.jsxs(Bc,{element:re.jsx(EN,{}),children:[re.jsx(Bc,{index:!0,element:re.jsx(mM,{})}),re.jsx(Bc,{path:"/users",element:re.jsx(yM,{})})]})})}qb.createRoot(document.getElementById("root")).render(re.jsx(G.StrictMode,{children:re.jsx(_N,{children:re.jsx(oR,{children:re.jsx(_M,{})})})}));
